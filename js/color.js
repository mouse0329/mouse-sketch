function _0x1031(_0x58480c,_0x10790e){_0x58480c=_0x58480c-0xba;const _0x3d9000=_0x373a();let _0x4f8123=_0x3d9000[_0x58480c];return _0x4f8123;}(function(_0x2c01cd,_0x362994){const _0x26ad5c=_0x1031,_0x8ef924=_0x2c01cd();while(!![]){try{const _0x3ee442=parseInt(_0x26ad5c(0xfd))/0x1+parseInt(_0x26ad5c(0xee))/0x2*(parseInt(_0x26ad5c(0xd1))/0x3)+parseInt(_0x26ad5c(0xf5))/0x4*(parseInt(_0x26ad5c(0xfa))/0x5)+-parseInt(_0x26ad5c(0xdd))/0x6+-parseInt(_0x26ad5c(0xbd))/0x7+-parseInt(_0x26ad5c(0xe9))/0x8*(-parseInt(_0x26ad5c(0xbc))/0x9)+-parseInt(_0x26ad5c(0xe3))/0xa*(parseInt(_0x26ad5c(0xc1))/0xb);if(_0x3ee442===_0x362994)break;else _0x8ef924['push'](_0x8ef924['shift']());}catch(_0x546997){_0x8ef924['push'](_0x8ef924['shift']());}}}(_0x373a,0xce1cd));const _0x36f800=(function(){let _0x2615aa=!![];return function(_0x3692ab,_0x448633){const _0xc677b3=_0x2615aa?function(){const _0x175dec=_0x1031;if(_0x448633){const _0x4f243d=_0x448633[_0x175dec(0x102)](_0x3692ab,arguments);return _0x448633=null,_0x4f243d;}}:function(){};return _0x2615aa=![],_0xc677b3;};}()),_0x4f8123=_0x36f800(this,function(){const _0x301d91=_0x1031;return _0x4f8123[_0x301d91(0xf4)]()['search'](_0x301d91(0xbe))[_0x301d91(0xf4)]()['constructor'](_0x4f8123)[_0x301d91(0xc3)](_0x301d91(0xbe));});_0x4f8123();function hexToRgbaCss(_0x98b4dc,_0x3788cc){const _0x51758d=_0x1031;let _0x2214f5,_0x4a7a40,_0x388c66,_0x5e5599=_0x3788cc;if(_0x98b4dc[_0x51758d(0xf8)]===0x9)_0x2214f5=parseInt(_0x98b4dc[_0x51758d(0xe6)](0x1,0x3),0x10),_0x4a7a40=parseInt(_0x98b4dc[_0x51758d(0xe6)](0x3,0x5),0x10),_0x388c66=parseInt(_0x98b4dc['slice'](0x5,0x7),0x10),_0x5e5599=parseInt(_0x98b4dc['slice'](0x7,0x9),0x10)/0xff;else{if(_0x98b4dc[_0x51758d(0xf8)]===0x7)_0x2214f5=parseInt(_0x98b4dc[_0x51758d(0xe6)](0x1,0x3),0x10),_0x4a7a40=parseInt(_0x98b4dc[_0x51758d(0xe6)](0x3,0x5),0x10),_0x388c66=parseInt(_0x98b4dc[_0x51758d(0xe6)](0x5,0x7),0x10);else{if(_0x98b4dc[_0x51758d(0xf8)]===0x4)_0x2214f5=parseInt(_0x98b4dc[0x1]+_0x98b4dc[0x1],0x10),_0x4a7a40=parseInt(_0x98b4dc[0x2]+_0x98b4dc[0x2],0x10),_0x388c66=parseInt(_0x98b4dc[0x3]+_0x98b4dc[0x3],0x10);else return _0x98b4dc;}}return'rgba('+_0x2214f5+','+_0x4a7a40+','+_0x388c66+','+_0x5e5599+')';}function hexToRgba(_0x38efaf,_0x321d8e=0x1){const _0x1a0cdb=_0x1031;if(_0x38efaf==='transparent'||_0x38efaf==='#00000000')return[0x0,0x0,0x0,0x0];_0x38efaf=_0x38efaf['replace']('#','');if(_0x38efaf[_0x1a0cdb(0xf8)]===0x3)_0x38efaf=_0x38efaf[_0x1a0cdb(0xcd)]('')[_0x1a0cdb(0xd0)](_0x67f93c=>_0x67f93c+_0x67f93c)[_0x1a0cdb(0xeb)]('');if(_0x38efaf[_0x1a0cdb(0xf8)]===0x8){const _0x2fa3fe=parseInt(_0x38efaf[_0x1a0cdb(0xe6)](0x0,0x2),0x10),_0x12b735=parseInt(_0x38efaf[_0x1a0cdb(0xe6)](0x2,0x4),0x10),_0x430dd0=parseInt(_0x38efaf[_0x1a0cdb(0xe6)](0x4,0x6),0x10),_0x183a81=parseInt(_0x38efaf[_0x1a0cdb(0xe6)](0x6,0x8),0x10);return[_0x2fa3fe,_0x12b735,_0x430dd0,_0x183a81];}let _0x4d5d90=parseInt(_0x38efaf,0x10);return[_0x4d5d90>>0x10&0xff,_0x4d5d90>>0x8&0xff,_0x4d5d90&0xff,Math[_0x1a0cdb(0xc4)](0xff*_0x321d8e)];}function colorsMatch(_0x2d2ead,_0x289a6d){return _0x2d2ead[0x0]===_0x289a6d[0x0]&&_0x2d2ead[0x1]===_0x289a6d[0x1]&&_0x2d2ead[0x2]===_0x289a6d[0x2]&&_0x2d2ead[0x3]===_0x289a6d[0x3];}function createPalette(){const _0x3765d2=_0x1031,_0x27f496=document['getElementById'](_0x3765d2(0xd3));if(!_0x27f496)return;_0x27f496[_0x3765d2(0xc6)]='',PALETTE_COLORS['forEach']((_0x263f43,_0x53683d)=>{const _0x5bef4d=_0x3765d2,_0x50f217=document[_0x5bef4d(0xda)]('button');_0x50f217['className']=_0x5bef4d(0xe2),_0x50f217[_0x5bef4d(0xbb)]['position']='relative',_0x50f217[_0x5bef4d(0xbb)][_0x5bef4d(0xba)]='hidden',_0x50f217[_0x5bef4d(0xc6)]='';let _0x47bb9e=document['createElement']('div');_0x47bb9e[_0x5bef4d(0xbb)][_0x5bef4d(0xbf)]='absolute',_0x47bb9e[_0x5bef4d(0xbb)]['inset']='0',_0x47bb9e['style'][_0x5bef4d(0xdf)]=_0x5bef4d(0xcb),_0x47bb9e[_0x5bef4d(0xbb)][_0x5bef4d(0xed)]='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x1c0f9c=document[_0x5bef4d(0xda)]('div');_0x1c0f9c[_0x5bef4d(0xbb)][_0x5bef4d(0xbf)]=_0x5bef4d(0xfc),_0x1c0f9c[_0x5bef4d(0xbb)][_0x5bef4d(0xd9)]='0',_0x1c0f9c['style']['borderRadius']=_0x5bef4d(0xcb);if(_0x263f43==='transparent'||_0x263f43==='#00000000')_0x1c0f9c['style'][_0x5bef4d(0xed)]='none',_0x50f217[_0x5bef4d(0xde)]='透明',_0x50f217[_0x5bef4d(0xc6)]='<span\x20style=\x22position:relative;z-index:1;font-size:13px;color:#888;\x22>透明</span>';else{if(/^#([0-9a-f]{8})$/i[_0x5bef4d(0xfb)](_0x263f43)){_0x1c0f9c[_0x5bef4d(0xbb)][_0x5bef4d(0xed)]=hexToRgbaCss(_0x263f43,0x1);const [_0x2e1670,_0x3645a7,_0x4743a8,_0x4dad15]=hexToRgba(_0x263f43),_0x1960ed=_0x4dad15/0xff;_0x50f217[_0x5bef4d(0xde)]=rgbaToHex(_0x2e1670,_0x3645a7,_0x4743a8)+'\x20'+Math[_0x5bef4d(0xc4)](_0x1960ed*0x64)+'%';}else _0x263f43['toLowerCase']()===currentColor['toLowerCase']()&&currentAlpha<0x1?(_0x1c0f9c[_0x5bef4d(0xbb)][_0x5bef4d(0xed)]=hexToRgbaCss(_0x263f43,currentAlpha),_0x50f217[_0x5bef4d(0xde)]=_0x263f43+_0x5bef4d(0xcc)+Math[_0x5bef4d(0xc4)](currentAlpha*0x64)+'%'):(_0x1c0f9c[_0x5bef4d(0xbb)][_0x5bef4d(0xed)]=_0x263f43,_0x50f217['title']=_0x263f43);}_0x50f217[_0x5bef4d(0xd2)](_0x47bb9e),_0x50f217['appendChild'](_0x1c0f9c),_0x50f217[_0x5bef4d(0xf0)]=()=>{const _0x117431=_0x5bef4d;if(_0x263f43===_0x117431(0xce)||_0x263f43===_0x117431(0xd5))currentColor='transparent',currentAlpha=0x0;else{if(/^#([0-9a-f]{8})$/i[_0x117431(0xfb)](_0x263f43)){const [_0x535817,_0x5933c4,_0x3a1d90,_0x4a73ba]=hexToRgba(_0x263f43);currentAlpha=_0x4a73ba/0xff,currentColor=rgbaToHex(_0x535817,_0x5933c4,_0x3a1d90);}else currentColor=_0x263f43,currentAlpha=0x1;}updateCurrentColorSwatch(),document['querySelectorAll'](_0x117431(0xf1))[_0x117431(0xe4)](_0xcb8e93=>_0xcb8e93['classList'][_0x117431(0xf7)](_0x117431(0x100))),_0x50f217['classList'][_0x117431(0xf2)]('selected');};if(_0x53683d!==0x0){const _0x13d968=document[_0x5bef4d(0xda)](_0x5bef4d(0xe8));_0x13d968[_0x5bef4d(0xf6)]='×',_0x13d968[_0x5bef4d(0xc8)]='palette-del-btn',_0x13d968['title']=_0x5bef4d(0xe5),_0x13d968['onclick']=_0x3c7185=>{const _0x142400=_0x5bef4d;_0x3c7185['stopPropagation'](),PALETTE_COLORS[_0x142400(0xf8)]>0x2&&(PALETTE_COLORS[_0x142400(0xe7)](_0x53683d,0x1),createPalette());},_0x50f217['appendChild'](_0x13d968);}_0x27f496['appendChild'](_0x50f217);});const _0x34f924=document[_0x3765d2(0xda)]('button');_0x34f924[_0x3765d2(0xc8)]=_0x3765d2(0xf9),_0x34f924['title']='パレットに色を追加',_0x34f924[_0x3765d2(0xc6)]='+',_0x34f924[_0x3765d2(0xf0)]=_0x15c3b7=>{const _0x347266=_0x3765d2;_0x15c3b7[_0x347266(0xc2)](),showColorPickerDialog({'color':currentColor===_0x347266(0xce)?'#000000':currentColor,'alpha':currentAlpha,'okLabel':'追加','onChange':()=>{},'onOk':({hex:_0x49c8f0,rgba:_0x1348c8,a:_0x2669a8})=>{const _0x21d679=_0x347266;if(_0x2669a8===0x0){if(PALETTE_COLORS[0x0]===_0x21d679(0xce))PALETTE_COLORS[_0x21d679(0xe7)](0x1,0x0,'transparent');else PALETTE_COLORS[_0x21d679(0xd6)](_0x21d679(0xce));}else{const _0x2345fc=Math[_0x21d679(0xc4)](_0x2669a8*0xff),_0xc49494=_0x2345fc[_0x21d679(0xf4)](0x10)[_0x21d679(0xff)](0x2,'0');PALETTE_COLORS[_0x21d679(0xd6)](''+_0x49c8f0+_0xc49494);}if(PALETTE_COLORS[_0x21d679(0xf8)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x21d679(0xe6)](0x0,0x18);savePaletteToDB(),createPalette();}});},_0x27f496[_0x3765d2(0xe1)](_0x34f924,_0x27f496[_0x3765d2(0xf3)]);const _0x866cb1=document['getElementById'](_0x3765d2(0xc5));if(_0x866cb1)_0x866cb1['style'][_0x3765d2(0xdb)]='';}function scanImageColors(){const _0x33c81b=_0x1031,_0x2729fa=getCurrentProject(),_0x63c907=getCurrentFrame();if(!_0x2729fa||!_0x63c907)return[];const _0xa1b19=new Map(),_0x32f479=_0x2729fa[_0x33c81b(0xca)],_0x4f7efd=_0x2729fa[_0x33c81b(0xd8)],_0x5d66b1=0x1388,_0x362f00=Math[_0x33c81b(0xe0)](0x1,Math[_0x33c81b(0xdc)](Math[_0x33c81b(0x101)](_0x32f479*_0x4f7efd/_0x5d66b1))),_0xcdc4da=_0x362f00*_0x362f00,_0x582567=canvas[_0x33c81b(0xcf)]('2d',{'willReadFrequently':!![]});for(let _0x3199b3=0x0;_0x3199b3<_0x4f7efd;_0x3199b3+=_0x362f00){for(let _0x5d3f71=0x0;_0x5d3f71<_0x32f479;_0x5d3f71+=_0x362f00){const _0x1f637f=Math[_0x33c81b(0xd7)](Math[_0x33c81b(0xc9)](_0x5d3f71*cellSize+cellSize/0x2),canvas[_0x33c81b(0xca)]-0x1),_0x1a3cf8=Math[_0x33c81b(0xd7)](Math[_0x33c81b(0xc9)](_0x3199b3*cellSize+cellSize/0x2),canvas[_0x33c81b(0xd8)]-0x1),_0x454373=_0x582567[_0x33c81b(0xea)](_0x1f637f,_0x1a3cf8,0x1,0x1)['data'],_0x597616=_0x454373[0x0]+','+_0x454373[0x1]+','+_0x454373[0x2]+','+_0x454373[0x3];_0xa1b19[_0x33c81b(0xef)](_0x597616,(_0xa1b19[_0x33c81b(0xfe)](_0x597616)||0x0)+_0xcdc4da);}}return Array[_0x33c81b(0xd4)](_0xa1b19[_0x33c81b(0xec)]())[_0x33c81b(0xd0)](([_0x44695f,_0x59ba7e])=>{const _0x3714c8=_0x33c81b,[_0x228835,_0x58b16e,_0x4c36dc,_0x3c7f04]=_0x44695f[_0x3714c8(0xcd)](',')['map'](_0x4bcc23=>parseInt(_0x4bcc23,0xa));return{'r':_0x228835,'g':_0x58b16e,'b':_0x4c36dc,'a':_0x3c7f04,'count':_0x59ba7e};})[_0x33c81b(0xc7)]((_0x1b480c,_0x4afc02)=>_0x4afc02[_0x33c81b(0xc0)]-_0x1b480c[_0x33c81b(0xc0)]);}function _0x373a(){const _0x316b37=['selected','sqrt','apply','overflow','style','9UfPZub','5077513KnOjeB','(((.+)+)+)+$','position','count','110kuQMpx','stopPropagation','search','round','scanColorsPanel','innerHTML','sort','className','floor','width','8px','\x20透明度','split','transparent','getContext','map','4362uuTiRw','appendChild','color-palette','from','#00000000','unshift','min','height','inset','createElement','display','ceil','7123542pCrUhj','title','borderRadius','max','insertBefore','palette-color','1801420MyzrtW','forEach','この色をパレットから削除','slice','splice','span','7570648ZhPslt','getImageData','join','entries','background','1824sdocSE','set','onclick','.palette-color','add','firstChild','toString','8XWmNgO','textContent','remove','length','palette-add-btn','2627075hEiXnr','test','absolute','1235064YyoFDJ','get','padStart'];_0x373a=function(){return _0x316b37;};return _0x373a();}function rgbaToHex(_0x587223,_0x16bd11,_0x561fd1){const _0x19d0be=_0x1031;return'#'+[_0x587223,_0x16bd11,_0x561fd1][_0x19d0be(0xd0)](_0x562dca=>_0x562dca[_0x19d0be(0xf4)](0x10)[_0x19d0be(0xff)](0x2,'0'))[_0x19d0be(0xeb)]('');}