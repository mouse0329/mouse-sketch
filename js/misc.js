const _0x2b64e6=_0x48a8;(function(_0x15cb4d,_0x490db5){const _0x3d9d77=_0x48a8,_0x1da6e9=_0x15cb4d();while(!![]){try{const _0x18a3f1=-parseInt(_0x3d9d77(0x108))/0x1+parseInt(_0x3d9d77(0x145))/0x2+-parseInt(_0x3d9d77(0x14d))/0x3*(-parseInt(_0x3d9d77(0x15e))/0x4)+-parseInt(_0x3d9d77(0x142))/0x5+parseInt(_0x3d9d77(0x106))/0x6+parseInt(_0x3d9d77(0x12c))/0x7+parseInt(_0x3d9d77(0x156))/0x8*(parseInt(_0x3d9d77(0x13b))/0x9);if(_0x18a3f1===_0x490db5)break;else _0x1da6e9['push'](_0x1da6e9['shift']());}catch(_0xc7d5fc){_0x1da6e9['push'](_0x1da6e9['shift']());}}}(_0x150b,0x26eef));const _0x1f8218=(function(){let _0x206b70=!![];return function(_0xb840c5,_0x1d2099){const _0x5f32d1=_0x206b70?function(){const _0xc95a49=_0x48a8;if(_0x1d2099){const _0x2e2209=_0x1d2099[_0xc95a49(0x165)](_0xb840c5,arguments);return _0x1d2099=null,_0x2e2209;}}:function(){};return _0x206b70=![],_0x5f32d1;};}()),_0x17fd50=_0x1f8218(this,function(){const _0x2a3705=_0x48a8;return _0x17fd50[_0x2a3705(0x12a)]()[_0x2a3705(0x130)](_0x2a3705(0x151))[_0x2a3705(0x12a)]()[_0x2a3705(0x125)](_0x17fd50)[_0x2a3705(0x130)](_0x2a3705(0x151));});function _0x48a8(_0x32e509,_0x572880){_0x32e509=_0x32e509-0xf6;const _0x21692b=_0x150b();let _0x17fd50=_0x21692b[_0x32e509];return _0x17fd50;}_0x17fd50();function playAnimation(){const _0x315867=_0x48a8,_0x1e43aa=getCurrentProject();if(!_0x1e43aa||!_0x1e43aa[_0x315867(0x15b)]||_0x1e43aa[_0x315867(0x15b)]['length']<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x143a65=_0x1e43aa[_0x315867(0x15b)];animationTimer=setInterval(()=>{const _0x3837bb=_0x315867;ctx[_0x3837bb(0x11e)](0x0,0x0,canvas[_0x3837bb(0x155)],canvas[_0x3837bb(0x119)]);const _0xf6041=_0x143a65[animationIndex];for(let _0x226c93=0x0;_0x226c93<_0xf6041[_0x3837bb(0x131)]['length'];_0x226c93++){let _0xad6845=_0xf6041['layers'][_0x226c93],_0x5bcf9b=null;if(_0xad6845 instanceof HTMLCanvasElement)_0x5bcf9b=_0xad6845;else _0xad6845[_0x3837bb(0x11d)]instanceof HTMLCanvasElement&&(_0x5bcf9b=_0xad6845[_0x3837bb(0x11d)]);_0x5bcf9b?ctx[_0x3837bb(0x174)](_0x5bcf9b,0x0,0x0):console[_0x3837bb(0x15f)](_0x3837bb(0x152),_0xad6845);}drawGrid(_0x1e43aa[_0x3837bb(0x155)],_0x1e43aa[_0x3837bb(0x119)]),animationIndex=(animationIndex+0x1)%_0x143a65['length'];},animationDelay),updateAnimUi(!![]);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll()),updateAnimUi(![]);}function setAnimationDelay(_0x16dc63){const _0x29a659=_0x48a8;_0x16dc63=Math[_0x29a659(0x11a)](0xa,parseInt(_0x16dc63,0xa)||0x12c),animationDelay=_0x16dc63,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x444ae9){const _0x406f8f=_0x48a8;currentTool=_0x444ae9,isDrawing=![],document[_0x406f8f(0x178)]('.tool-btn')['forEach'](_0x2a5a8e=>{const _0x23e8c4=_0x406f8f;_0x2a5a8e[_0x23e8c4(0x14b)][_0x23e8c4(0x11b)]('active',_0x2a5a8e['dataset'][_0x23e8c4(0x12e)]===_0x444ae9);}),document[_0x406f8f(0x178)](_0x406f8f(0x176))[_0x406f8f(0x10b)](_0x17c279=>{const _0x185b2c=_0x406f8f;_0x17c279[_0x185b2c(0x14b)]['toggle'](_0x185b2c(0x144),_0x17c279[_0x185b2c(0x111)][_0x185b2c(0x12e)]===_0x444ae9);}),_0x444ae9===_0x406f8f(0x16a)?canvas[_0x406f8f(0x112)]['cursor']=_0x406f8f(0x150):canvas[_0x406f8f(0x112)][_0x406f8f(0x15d)]=_0x406f8f(0x12f);}function getTouchPos(_0x4eb425){const _0x479a5c=_0x48a8;if(!_0x4eb425)return null;const _0x5efc33=canvas[_0x479a5c(0x13d)]();let _0x5e55a1=null;if(_0x4eb425['touches']&&_0x4eb425[_0x479a5c(0x158)]['length']>0x0)_0x5e55a1=_0x4eb425[_0x479a5c(0x158)][0x0];else{if(_0x4eb425[_0x479a5c(0x127)]&&_0x4eb425['changedTouches'][_0x479a5c(0x149)]>0x0)_0x5e55a1=_0x4eb425[_0x479a5c(0x127)][0x0];else{if(_0x4eb425[_0x479a5c(0x126)]!=null&&_0x4eb425['clientY']!=null)_0x5e55a1=_0x4eb425;else return null;}}const _0x38d145=canvas[_0x479a5c(0x155)]/_0x5efc33[_0x479a5c(0x155)],_0x34eb13=canvas[_0x479a5c(0x119)]/_0x5efc33[_0x479a5c(0x119)],_0x1199e9=(_0x5e55a1['clientX']-_0x5efc33[_0x479a5c(0x137)])*_0x38d145,_0x255a30=(_0x5e55a1[_0x479a5c(0x154)]-_0x5efc33[_0x479a5c(0x171)])*_0x34eb13;return{'x':Math[_0x479a5c(0x12d)](_0x1199e9/cellSize),'y':Math['floor'](_0x255a30/cellSize)};}function applyTheme(_0x333fb5){const _0x32ecab=_0x48a8;document[_0x32ecab(0x161)][_0x32ecab(0x104)]('data-theme',_0x333fb5);const _0x3d1cce=document[_0x32ecab(0xfd)](_0x32ecab(0x173));_0x3d1cce&&(_0x3d1cce[_0x32ecab(0x166)]=_0x333fb5==='dark'?'‚òÄÔ∏è':'üåô',_0x3d1cce[_0x32ecab(0x104)]('aria-pressed',_0x333fb5==='dark'),_0x3d1cce[_0x32ecab(0x124)]=_0x333fb5==='dark'?_0x32ecab(0x10c):'„ÉÄ„Éº„ÇØ„ÉÜ„Éº„Éû„Å´ÂàáÊõø'),localStorage[_0x32ecab(0x167)](_0x32ecab(0x135),_0x333fb5);}function updateUndoRedoButtons(){const _0x5302da=_0x48a8,_0x48dfb2=getCurrentFrame(),_0x10489d=document[_0x5302da(0xfd)]('undoBtn'),_0x15ffab=document[_0x5302da(0xfd)](_0x5302da(0x116));if(!_0x48dfb2){if(_0x10489d)_0x10489d[_0x5302da(0x110)]=!![];if(_0x15ffab)_0x15ffab[_0x5302da(0x110)]=!![];return;}const _0x5e4aeb=typeof _0x48dfb2[_0x5302da(0x177)]===_0x5302da(0x118)?_0x48dfb2['activeLayer']:-0x1;if(_0x5e4aeb<0x0){if(_0x10489d)_0x10489d[_0x5302da(0x110)]=!![];if(_0x15ffab)_0x15ffab['disabled']=!![];return;}const _0x52b977=Array[_0x5302da(0x117)](_0x48dfb2['layerHistories'])&&_0x48dfb2[_0x5302da(0xfa)][_0x5e4aeb]?_0x48dfb2[_0x5302da(0xfa)][_0x5e4aeb]:[],_0x54785f=Array['isArray'](_0x48dfb2[_0x5302da(0x13f)])&&_0x48dfb2[_0x5302da(0x13f)][_0x5e4aeb]?_0x48dfb2['layerRedoStacks'][_0x5e4aeb]:[];if(_0x10489d)_0x10489d['disabled']=!(_0x52b977&&_0x52b977[_0x5302da(0x149)]>=0x2);if(_0x15ffab)_0x15ffab[_0x5302da(0x110)]=!(_0x54785f&&_0x54785f[_0x5302da(0x149)]>0x0);}function undo(){const _0x183ccf=_0x48a8;let _0x2214e2=getCurrentFrame();if(!_0x2214e2||!Array[_0x183ccf(0x117)](_0x2214e2[_0x183ccf(0xfa)])||!Array[_0x183ccf(0x117)](_0x2214e2[_0x183ccf(0x13f)]))return;const _0x4fbe15=typeof _0x2214e2[_0x183ccf(0x177)]===_0x183ccf(0x118)?_0x2214e2[_0x183ccf(0x177)]:-0x1;if(_0x4fbe15<0x0)return;const _0x171cd1=_0x2214e2[_0x183ccf(0xfa)][_0x4fbe15],_0x5f2e52=_0x2214e2[_0x183ccf(0x13f)][_0x4fbe15];if(!_0x171cd1||_0x171cd1[_0x183ccf(0x149)]<0x2)return;_0x5f2e52[_0x183ccf(0x11f)](_0x171cd1['pop']()),updateUndoRedoButtons();const _0x20fc4a=new Image();_0x20fc4a[_0x183ccf(0x100)]=()=>{const _0x86d7ef=_0x183ccf,_0x5bb41c=_0x2214e2[_0x86d7ef(0x131)][_0x4fbe15],_0x18134b=_0x5bb41c&&_0x5bb41c[_0x86d7ef(0x11d)]?_0x5bb41c[_0x86d7ef(0x11d)]:_0x5bb41c;if(!_0x18134b)return;let _0x4103c2=_0x18134b[_0x86d7ef(0x138)]('2d');_0x4103c2[_0x86d7ef(0x11e)](0x0,0x0,_0x18134b[_0x86d7ef(0x155)],_0x18134b[_0x86d7ef(0x119)]),_0x4103c2[_0x86d7ef(0x174)](_0x20fc4a,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x20fc4a[_0x183ccf(0x10e)]=_0x171cd1[_0x171cd1['length']-0x1];}function redo(){const _0x3c7038=_0x48a8;let _0x482907=getCurrentFrame();if(!_0x482907||!Array['isArray'](_0x482907[_0x3c7038(0xfa)])||!Array[_0x3c7038(0x117)](_0x482907[_0x3c7038(0x13f)]))return;const _0xbec4f=typeof _0x482907[_0x3c7038(0x177)]===_0x3c7038(0x118)?_0x482907[_0x3c7038(0x177)]:-0x1;if(_0xbec4f<0x0)return;const _0x1331ac=_0x482907[_0x3c7038(0xfa)][_0xbec4f],_0x2fd7e5=_0x482907['layerRedoStacks'][_0xbec4f];if(!_0x2fd7e5||_0x2fd7e5[_0x3c7038(0x149)]===0x0)return;const _0x1b3acf=_0x2fd7e5[_0x3c7038(0x10a)]();if(_0x1331ac)_0x1331ac[_0x3c7038(0x11f)](_0x1b3acf);updateUndoRedoButtons();const _0xb758fe=new Image();_0xb758fe['onload']=()=>{const _0x58d379=_0x3c7038,_0x5457c3=_0x482907[_0x58d379(0x131)][_0xbec4f],_0x3bdc1f=_0x5457c3&&_0x5457c3[_0x58d379(0x11d)]?_0x5457c3[_0x58d379(0x11d)]:_0x5457c3;if(!_0x3bdc1f)return;let _0x4f23e5=_0x3bdc1f[_0x58d379(0x138)]('2d');_0x4f23e5[_0x58d379(0x11e)](0x0,0x0,_0x3bdc1f[_0x58d379(0x155)],_0x3bdc1f[_0x58d379(0x119)]),_0x4f23e5[_0x58d379(0x174)](_0xb758fe,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0xb758fe[_0x3c7038(0x10e)]=_0x1b3acf;}function wait(_0x49b175){return new Promise(_0x1cf7a0=>setTimeout(_0x1cf7a0,_0x49b175));}function showLoading(_0x251e28){const _0x1d5f42=_0x48a8;try{const _0x532397=document[_0x1d5f42(0xfd)](_0x1d5f42(0x128));if(!_0x532397)return;const _0x5adcc8=document[_0x1d5f42(0xfd)](_0x1d5f42(0x122));if(_0x5adcc8&&_0x251e28)_0x5adcc8[_0x1d5f42(0x166)]=_0x251e28;_0x532397[_0x1d5f42(0x112)][_0x1d5f42(0x141)]=_0x1d5f42(0x121),_0x532397[_0x1d5f42(0xf7)](_0x1d5f42(0x143));}catch(_0x36208d){console[_0x1d5f42(0x15f)](_0x1d5f42(0x160),_0x36208d);}}function hideLoading(){const _0x4cabd2=_0x48a8;try{const _0x4f521d=document[_0x4cabd2(0xfd)](_0x4cabd2(0x128));if(!_0x4f521d)return;_0x4f521d[_0x4cabd2(0x112)][_0x4cabd2(0x141)]='none',_0x4f521d[_0x4cabd2(0x104)]('hidden','');}catch(_0x303d78){console['warn']('hideLoading\x20error',_0x303d78);}}window[_0x2b64e6(0x16f)]=showLoading,window[_0x2b64e6(0xfe)]=hideLoading;function initCanvas(){const _0x50ad78=_0x2b64e6,_0x41a713=parseInt(0x10),_0x2840ad=parseInt(0x10);let _0x2a3ca7=getCurrentProject();_0x2a3ca7[_0x50ad78(0x155)]=_0x41a713,_0x2a3ca7[_0x50ad78(0x119)]=_0x2840ad,canvas[_0x50ad78(0x155)]=_0x41a713*cellSize,canvas[_0x50ad78(0x119)]=_0x2840ad*cellSize,_0x2a3ca7['layers']=[],_0x2a3ca7[_0x50ad78(0xfa)]=[],_0x2a3ca7[_0x50ad78(0x13f)]=[];let _0x29d4d4=document['createElement'](_0x50ad78(0x11d));_0x29d4d4['width']=_0x41a713*cellSize,_0x29d4d4[_0x50ad78(0x119)]=_0x2840ad*cellSize,_0x2a3ca7[_0x50ad78(0x131)][_0x50ad78(0x11f)](_0x29d4d4),_0x2a3ca7[_0x50ad78(0xfa)]['push']([]),_0x2a3ca7[_0x50ad78(0x13f)][_0x50ad78(0x11f)]([]),_0x2a3ca7[_0x50ad78(0x177)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas[_0x50ad78(0x10f)]=null,canvas[_0x50ad78(0xfb)]=null,canvas['onmouseup']=null,canvas[_0x50ad78(0x157)]=null,canvas['ontouchstart']=null,canvas['ontouchmove']=null,canvas[_0x50ad78(0x133)]=null,canvas[_0x50ad78(0x114)]=null,canvas[_0x50ad78(0x105)](_0x50ad78(0x14c),handleTouchStart),canvas['removeEventListener'](_0x50ad78(0x129),handleTouchMove),canvas[_0x50ad78(0x105)](_0x50ad78(0x12b),handleTouchEnd),canvas[_0x50ad78(0x105)](_0x50ad78(0x123),handleTouchEnd),canvas[_0x50ad78(0x10f)]=handleMouseDown,canvas[_0x50ad78(0xfb)]=handleMouseMove,canvas[_0x50ad78(0x159)]=handleMouseUp,canvas['onmouseleave']=handleMouseUp,canvas[_0x50ad78(0x14f)]=handleTouchStart,canvas[_0x50ad78(0x101)]=handleTouchMove,canvas[_0x50ad78(0x133)]=handleTouchEnd,canvas[_0x50ad78(0x114)]=handleTouchEnd,canvas[_0x50ad78(0x134)](_0x50ad78(0x14c),handleTouchStart,{'passive':![]}),canvas[_0x50ad78(0x134)]('touchmove',handleTouchMove,{'passive':![]}),canvas['addEventListener']('touchend',handleTouchEnd,{'passive':![]}),canvas['addEventListener'](_0x50ad78(0x123),handleTouchEnd,{'passive':![]});}function setAlpha(_0x5e94de){const _0x114122=_0x2b64e6;let _0x2c77ae=Math[_0x114122(0x11a)](0x0,Math['min'](0x64,parseInt(_0x5e94de,0xa)||0x0));currentAlpha=_0x2c77ae/0x64,updateCurrentColorSwatch();}function renderScanPanel(_0x1ab5a7){const _0x3ddd00=_0x2b64e6,_0x5650b9=document[_0x3ddd00(0xfd)](_0x3ddd00(0x170));if(!_0x5650b9)return;_0x5650b9[_0x3ddd00(0x169)]='';if(!_0x1ab5a7||_0x1ab5a7['length']===0x0){_0x5650b9['textContent']=_0x3ddd00(0x107);return;}const _0x554685=document[_0x3ddd00(0x113)](_0x3ddd00(0x115));_0x554685[_0x3ddd00(0x15c)]='used-color-grid';const _0x587727=document[_0x3ddd00(0x136)](),_0x3ea87b=0x30;_0x1ab5a7[_0x3ddd00(0x132)](0x0,_0x3ea87b)[_0x3ddd00(0x10b)](_0x7e1e79=>{const _0x386b33=_0x3ddd00,_0x40d00=document['createElement']('div');_0x40d00[_0x386b33(0x15c)]='used-color-item';const _0x19f52b=document['createElement'](_0x386b33(0x115));_0x19f52b[_0x386b33(0x15c)]='used-color-swatch';_0x7e1e79['a']===0x0?_0x19f52b[_0x386b33(0x14b)]['add'](_0x386b33(0x168)):_0x19f52b['style'][_0x386b33(0x103)]='rgba('+_0x7e1e79['r']+','+_0x7e1e79['g']+','+_0x7e1e79['b']+','+(_0x7e1e79['a']/0xff)[_0x386b33(0x162)](0x2)+')';const _0x1a126b=document[_0x386b33(0x113)](_0x386b33(0x115));_0x1a126b[_0x386b33(0x15c)]=_0x386b33(0x14a),_0x1a126b[_0x386b33(0x166)]=_0x7e1e79['a']===0x0?'ÈÄèÊòé':_0x7e1e79['a']===0xff?rgbaToHex(_0x7e1e79['r'],_0x7e1e79['g'],_0x7e1e79['b']):'rgba('+_0x7e1e79['r']+','+_0x7e1e79['g']+','+_0x7e1e79['b']+','+(_0x7e1e79['a']/0xff)[_0x386b33(0x162)](0x2)+')';const _0x165bdd=document[_0x386b33(0x113)](_0x386b33(0x115));_0x165bdd[_0x386b33(0x15c)]='used-color-count',_0x165bdd[_0x386b33(0x166)]=_0x7e1e79[_0x386b33(0xfc)]+'„Çª„É´',_0x40d00[_0x386b33(0x109)](_0x19f52b),_0x40d00[_0x386b33(0x109)](_0x1a126b),_0x40d00['appendChild'](_0x165bdd),_0x40d00[_0x386b33(0x146)]=()=>{const _0x2a971e=_0x386b33;if(_0x7e1e79['a']===0x0){currentColor=_0x2a971e(0xf6);const _0x22c519=document[_0x2a971e(0xfd)](_0x2a971e(0x13c));if(_0x22c519)_0x22c519[_0x2a971e(0x15a)]=_0x2a971e(0x102);setAlpha(0x0);}else{currentColor=rgbaToHex(_0x7e1e79['r'],_0x7e1e79['g'],_0x7e1e79['b']);const _0x4661d4=document[_0x2a971e(0xfd)]('colorPicker');if(_0x4661d4)_0x4661d4[_0x2a971e(0x15a)]=currentColor;setAlpha(Math['round'](_0x7e1e79['a']/0xff*0x64));}_0x5650b9['style']['display']=_0x2a971e(0x140);},_0x587727[_0x386b33(0x109)](_0x40d00);}),_0x554685['appendChild'](_0x587727),_0x5650b9[_0x3ddd00(0x109)](_0x554685);if(_0x1ab5a7[_0x3ddd00(0x149)]>_0x3ea87b){const _0x161c24=document['createElement'](_0x3ddd00(0x115));_0x161c24[_0x3ddd00(0x15c)]=_0x3ddd00(0xf9),_0x161c24['textContent']='‰ªñ\x20'+(_0x1ab5a7[_0x3ddd00(0x149)]-_0x3ea87b)+_0x3ddd00(0x16e),_0x5650b9[_0x3ddd00(0x109)](_0x161c24);}}function indexOfSubarray(_0x5e5d0e,_0x2aff39){const _0x24e8c6=_0x2b64e6;for(let _0x10bd13=0x0;_0x10bd13<=_0x5e5d0e[_0x24e8c6(0x149)]-_0x2aff39[_0x24e8c6(0x149)];_0x10bd13++){let _0x285976=!![];for(let _0x813778=0x0;_0x813778<_0x2aff39[_0x24e8c6(0x149)];_0x813778++){if(_0x5e5d0e[_0x10bd13+_0x813778]!==_0x2aff39[_0x813778]){_0x285976=![];break;}}if(_0x285976)return _0x10bd13;}return-0x1;}function extractMetadataFromArrayBuffer(_0x27a195){const _0x57cc1d=_0x2b64e6,_0x268d05=new TextEncoder()[_0x57cc1d(0x148)](NEZUMI_METADATA_SIG),_0x171d58=new Uint8Array(_0x27a195),_0x3ec8cd=indexOfSubarray(_0x171d58,_0x268d05);if(_0x3ec8cd===-0x1)return null;const _0xfe7de1=_0x171d58[_0x57cc1d(0x13a)](_0x3ec8cd+_0x268d05[_0x57cc1d(0x149)]);try{const _0x410863=new TextDecoder()['decode'](_0xfe7de1);return JSON[_0x57cc1d(0x10d)](_0x410863);}catch(_0x3ca130){return null;}}function setZoomValue(_0x2f2f27){const _0x4b010f=_0x2b64e6,_0x1108ac=Math[_0x4b010f(0x11a)](0x14,Math[_0x4b010f(0x139)](0x1f4,parseInt(_0x2f2f27,0xa)||0x64)),_0x4b35c7=_0x1108ac/0x64;scale=_0x4b35c7,updateTransform();const _0x3fdfc9=document[_0x4b010f(0xfd)]('zoomSlider'),_0x4bffcc=document[_0x4b010f(0xfd)](_0x4b010f(0x153));if(_0x3fdfc9)_0x3fdfc9['value']=_0x1108ac;if(_0x4bffcc)_0x4bffcc[_0x4b010f(0x166)]=_0x1108ac+'%';}function zoomIn(){const _0xd8cc0e=_0x2b64e6,_0x36335b=document[_0xd8cc0e(0xfd)](_0xd8cc0e(0x163));let _0x30ef5c=_0x36335b?parseInt(_0x36335b[_0xd8cc0e(0x15a)],0xa):Math[_0xd8cc0e(0xff)](scale*0x64);_0x30ef5c=Math[_0xd8cc0e(0x139)](0x1f4,_0x30ef5c+0xa),setZoomValue(_0x30ef5c);}function zoomOut(){const _0x30868e=_0x2b64e6,_0x32af2b=document[_0x30868e(0xfd)](_0x30868e(0x163));let _0x22d00b=_0x32af2b?parseInt(_0x32af2b[_0x30868e(0x15a)],0xa):Math[_0x30868e(0xff)](scale*0x64);_0x22d00b=Math[_0x30868e(0x11a)](0x14,_0x22d00b-0xa),setZoomValue(_0x22d00b);}function toggleGrid(_0x1027a0){const _0x1f1eff=_0x2b64e6;typeof _0x1027a0===_0x1f1eff(0x13e)?showGrid=_0x1027a0:showGrid=!showGrid;const _0x1df95c=document['getElementById'](_0x1f1eff(0x14e));if(_0x1df95c){_0x1df95c[_0x1f1eff(0x14b)]['toggle']('active',showGrid),_0x1df95c[_0x1f1eff(0x124)]=showGrid?_0x1f1eff(0x16c):_0x1f1eff(0x175);const _0x100237=_0x1df95c[_0x1f1eff(0x11c)](_0x1f1eff(0x172));if(_0x100237)_0x100237[_0x1f1eff(0x166)]=showGrid?_0x1f1eff(0x164):'grid_off';}redrawAll();}function toggleFrontLayerDim(_0x191482){const _0x1711fb=_0x2b64e6;typeof _0x191482===_0x1711fb(0x13e)?dimFrontLayers=_0x191482:dimFrontLayers=!dimFrontLayers;const _0x1fde78=document[_0x1711fb(0xfd)]('frontDimBtn');_0x1fde78&&(_0x1fde78[_0x1711fb(0x14b)][_0x1711fb(0x11b)](_0x1711fb(0x144),dimFrontLayers),_0x1fde78[_0x1711fb(0x166)]=dimFrontLayers?_0x1711fb(0x120):_0x1711fb(0xf8),_0x1fde78[_0x1711fb(0x124)]=dimFrontLayers?_0x1711fb(0x179):_0x1711fb(0x16d)),redrawAll();}function updateAnimUi(_0x14fade){const _0x3cf9a9=_0x2b64e6,_0x60f5ae=document[_0x3cf9a9(0xfd)]('playBtn'),_0x187b5c=document[_0x3cf9a9(0xfd)](_0x3cf9a9(0x16b)),_0x4088f9=document['getElementById'](_0x3cf9a9(0x147));if(_0x60f5ae)_0x60f5ae['classList']['toggle'](_0x3cf9a9(0x144),!!_0x14fade);if(_0x187b5c)_0x187b5c['classList'][_0x3cf9a9(0x11b)](_0x3cf9a9(0x144),!_0x14fade);_0x4088f9&&(_0x4088f9['hidden']=!_0x14fade,_0x4088f9['textContent']=_0x14fade?'ÂÜçÁîü‰∏≠':'ÂÅúÊ≠¢‰∏≠');}function _0x150b(){const _0xa57df=['hidden','active','271582CvhQKJ','onclick','animStatus','encode','length','used-color-label','classList','touchstart','3PxeokY','gridToggleBtn','ontouchstart','grab','(((.+)+)+)+$','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','zoomValue','clientY','width','3032KnqqzZ','onmouseleave','touches','onmouseup','value','frames','className','cursor','151804fOiGxZ','warn','showLoading\x20error','documentElement','toFixed','zoomSlider','grid_on','apply','textContent','setItem','transparent-swatch','innerHTML','pan','stopBtn','„Ç∞„É™„ÉÉ„ÉâON','ÂâçÈù¢„É¨„Ç§„É§„Éº„ÇíËñÑ„ÅèË°®Á§∫','\x20Ëâ≤...','showLoading','scanColorsPanel','top','.material-icons','themeToggleBtn','drawImage','„Ç∞„É™„ÉÉ„ÉâOFF','#palette-toolbar\x20.tool-btn','activeLayer','querySelectorAll','„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çà„Çä‰∏ä„ÇíËñÑ„ÅèË°®Á§∫‰∏≠','transparent','removeAttribute','ÂâçÈù¢ÈÄèÈÅé','used-color-more','layerHistories','onmousemove','count','getElementById','hideLoading','round','onload','ontouchmove','#000000','background','setAttribute','removeEventListener','1477104WsWXFC','Ëâ≤„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü','283821hOenAp','appendChild','pop','forEach','„É©„Ç§„Éà„ÉÜ„Éº„Éû„Å´ÂàáÊõø','parse','src','onmousedown','disabled','dataset','style','createElement','ontouchcancel','div','redoBtn','isArray','number','height','max','toggle','querySelector','canvas','clearRect','push','ÂâçÈù¢ÈÄèÈÅé‰∏≠','flex','loading-message','touchcancel','title','constructor','clientX','changedTouches','loading-overlay','touchmove','toString','touchend','365302hIdrwF','floor','tool','crosshair','search','layers','slice','ontouchend','addEventListener','nezumi-theme','createDocumentFragment','left','getContext','min','subarray','1089qGQOyE','colorPicker','getBoundingClientRect','boolean','layerRedoStacks','none','display','373395rmqpad'];_0x150b=function(){return _0xa57df;};return _0x150b();}function getCanvasCoords(_0x286f4b){const _0x443215=_0x2b64e6,_0x2dac12=canvas[_0x443215(0x13d)](),_0x3bab0e=canvas[_0x443215(0x155)]/_0x2dac12[_0x443215(0x155)],_0x162adf=canvas[_0x443215(0x119)]/_0x2dac12[_0x443215(0x119)],_0x2d465c=(_0x286f4b[_0x443215(0x126)]-_0x2dac12[_0x443215(0x137)])*_0x3bab0e,_0x43c97a=(_0x286f4b[_0x443215(0x154)]-_0x2dac12[_0x443215(0x171)])*_0x162adf;return{'x':_0x2d465c,'y':_0x43c97a};}