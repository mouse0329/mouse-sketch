const _0x5475df=_0x591a;(function(_0x5d9ca9,_0x213293){const _0x218c77=_0x591a,_0x2c6b03=_0x5d9ca9();while(!![]){try{const _0x1a950c=-parseInt(_0x218c77(0x168))/0x1*(parseInt(_0x218c77(0x1a4))/0x2)+parseInt(_0x218c77(0x176))/0x3*(-parseInt(_0x218c77(0x19e))/0x4)+parseInt(_0x218c77(0x169))/0x5*(parseInt(_0x218c77(0x18d))/0x6)+-parseInt(_0x218c77(0x150))/0x7+-parseInt(_0x218c77(0x14b))/0x8+parseInt(_0x218c77(0x1ac))/0x9*(-parseInt(_0x218c77(0x1a9))/0xa)+parseInt(_0x218c77(0x158))/0xb*(parseInt(_0x218c77(0x18f))/0xc);if(_0x1a950c===_0x213293)break;else _0x2c6b03['push'](_0x2c6b03['shift']());}catch(_0x1fa531){_0x2c6b03['push'](_0x2c6b03['shift']());}}}(_0x1065,0x3b97e));const _0xa1b452=(function(){let _0x35622a=!![];return function(_0x3f5c7c,_0x397008){const _0x4b27f3=_0x35622a?function(){const _0x34fb6e=_0x591a;if(_0x397008){const _0x2e9ed6=_0x397008[_0x34fb6e(0x19c)](_0x3f5c7c,arguments);return _0x397008=null,_0x2e9ed6;}}:function(){};return _0x35622a=![],_0x4b27f3;};}()),_0x4c52ce=_0xa1b452(this,function(){const _0x5e4bc8=_0x591a;return _0x4c52ce[_0x5e4bc8(0x16d)]()[_0x5e4bc8(0x19f)](_0x5e4bc8(0x13c))['toString']()[_0x5e4bc8(0x14c)](_0x4c52ce)[_0x5e4bc8(0x19f)](_0x5e4bc8(0x13c));});_0x4c52ce();function createProject(_0x3caad7=0x10,_0x16b038=0x10,_0x17ff2c=''){const _0x2b17dd=_0x591a;let _0x40db94=0x14,_0x19b3a6=[],_0x36296d=[],_0x32695c=[],_0x16b4f7=document[_0x2b17dd(0x19b)](_0x2b17dd(0x1b3));_0x16b4f7[_0x2b17dd(0x1a3)]=_0x3caad7*_0x40db94,_0x16b4f7[_0x2b17dd(0x1a6)]=_0x16b038*_0x40db94,_0x19b3a6[_0x2b17dd(0x174)]({'canvas':_0x16b4f7,'visible':!![]}),_0x36296d[_0x2b17dd(0x174)]([]),_0x32695c[_0x2b17dd(0x174)]([]);let _0x12d893={'layers':_0x19b3a6,'activeLayer':0x0,'layerHistories':_0x36296d,'layerRedoStacks':_0x32695c};return{'frames':[_0x12d893],'activeFrame':0x0,'width':_0x3caad7,'height':_0x16b038,'name':_0x17ff2c||'画像'+(projects[_0x2b17dd(0x182)]+0x1)};}function editProjectName(_0x52c999,_0x12da20){const _0x3ecaba=_0x591a,_0x473e7f=document['createElement'](_0x3ecaba(0x145));_0x473e7f['type']=_0x3ecaba(0x184),_0x473e7f[_0x3ecaba(0x146)]=projects[_0x52c999][_0x3ecaba(0x14f)]||'画像'+(_0x52c999+0x1),_0x473e7f['className']=_0x3ecaba(0x18e),_0x473e7f[_0x3ecaba(0x15a)]['width']=_0x3ecaba(0x149),_0x473e7f['onblur']=()=>{const _0x5c1fd2=_0x3ecaba;projects[_0x52c999][_0x5c1fd2(0x14f)]=_0x473e7f[_0x5c1fd2(0x146)][_0x5c1fd2(0x170)]()||'画像'+(_0x52c999+0x1),updateProjectUI();},_0x473e7f['onkeydown']=_0x3b32ad=>{const _0x322d1a=_0x3ecaba;if(_0x3b32ad[_0x322d1a(0x148)]===_0x322d1a(0x19a))_0x473e7f[_0x322d1a(0x1b1)]();},_0x12da20[_0x3ecaba(0x1b0)](_0x473e7f),_0x473e7f[_0x3ecaba(0x166)](),_0x473e7f[_0x3ecaba(0x195)]();}function addProject(){showNewProjectDialog((_0x2ae567,_0x269ee4,_0x2d895a)=>{const _0x1f4f87=_0x591a;if(!Number[_0x1f4f87(0x155)](_0x2ae567)||_0x2ae567<0x1)_0x2ae567=0x10;if(!Number[_0x1f4f87(0x155)](_0x269ee4)||_0x269ee4<0x1)_0x269ee4=0x10;projects['push'](createProject(_0x2ae567,_0x269ee4,_0x2d895a)),activeProject=projects['length']-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();});}function removeProjectAt(_0x11655c){const _0x889558=_0x591a;if(projects['length']<=0x1)return;const _0x517a41=projects[_0x11655c]&&projects[_0x11655c]['name']?projects[_0x11655c]['name']:'画像'+(_0x11655c+0x1);if(!confirm('「'+_0x517a41+_0x889558(0x13f)))return;projects[_0x889558(0x135)](_0x11655c,0x1);if(activeProject>=projects[_0x889558(0x182)])activeProject=projects['length']-0x1;updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentProject(){return projects[activeProject];}function addFrame(){const _0x47ffb8=_0x591a,_0x3b1f0d=getCurrentProject(),_0x1faf31=_0x3b1f0d[_0x47ffb8(0x15c)][_0x3b1f0d[_0x47ffb8(0x151)]],_0x285cd9=_0x261389=>{const _0x6fddf4=_0x47ffb8,_0x22d307=_0x261389&&_0x261389[_0x6fddf4(0x1b3)]?_0x261389['canvas']:_0x261389;if(!_0x22d307)return console[_0x6fddf4(0x186)]('複製できないレイヤーがありますチュー',_0x261389),null;const _0x37d0e2=document['createElement']('canvas');_0x37d0e2['width']=_0x22d307[_0x6fddf4(0x1a3)]||_0x3b1f0d[_0x6fddf4(0x1a3)]*cellSize,_0x37d0e2[_0x6fddf4(0x1a6)]=_0x22d307[_0x6fddf4(0x1a6)]||_0x3b1f0d[_0x6fddf4(0x1a6)]*cellSize;const _0x28ac30=_0x37d0e2[_0x6fddf4(0x15e)]('2d');try{_0x28ac30['drawImage'](_0x22d307,0x0,0x0);}catch(_0x29a771){console[_0x6fddf4(0x186)](_0x6fddf4(0x17b),_0x29a771);}return{'canvas':_0x37d0e2,'visible':_0x261389&&typeof _0x261389[_0x6fddf4(0x152)]!==_0x6fddf4(0x17f)?_0x261389['visible']:!![]};},_0x35014e=_0x1faf31['layers'][_0x47ffb8(0x1af)](_0x285cd9),_0x2292fc=_0x35014e[_0x47ffb8(0x1af)](()=>[]),_0x48bba=_0x35014e['map'](()=>[]),_0x346d10={'layers':_0x35014e,'activeLayer':0x0,'layerHistories':_0x2292fc,'layerRedoStacks':_0x48bba};_0x3b1f0d['frames'][_0x47ffb8(0x135)](_0x3b1f0d[_0x47ffb8(0x151)]+0x1,0x0,_0x346d10),_0x3b1f0d[_0x47ffb8(0x151)]++,updateFrameUI(),updateLayerUI(),redrawAll();}const cloneLayer=_0x2fa6c0=>{const _0x244bdb=_0x591a,_0x1c4337=_0x2fa6c0&&_0x2fa6c0[_0x244bdb(0x1b3)]?_0x2fa6c0[_0x244bdb(0x1b3)]:_0x2fa6c0;if(!_0x1c4337)return console[_0x244bdb(0x186)]('複製できないレイヤーがありますチュー',_0x2fa6c0),null;const _0x509932=document[_0x244bdb(0x19b)](_0x244bdb(0x1b3));_0x509932[_0x244bdb(0x1a3)]=_0x1c4337[_0x244bdb(0x1a3)],_0x509932[_0x244bdb(0x1a6)]=_0x1c4337[_0x244bdb(0x1a6)];const _0x1fa774=_0x509932[_0x244bdb(0x15e)]('2d');try{_0x1fa774['drawImage'](_0x1c4337,0x0,0x0);}catch(_0x5482a1){console['warn']('cloneLayer\x20draw\x20error',_0x5482a1);}return{'canvas':_0x509932,'visible':_0x2fa6c0&&typeof _0x2fa6c0['visible']!==_0x244bdb(0x17f)?_0x2fa6c0[_0x244bdb(0x152)]:!![]};};function removeFrameAt(_0x1a8d2c){const _0x380df4=_0x591a;let _0x410027=getCurrentProject();if(_0x410027[_0x380df4(0x15c)]['length']<=0x1)return;_0x410027[_0x380df4(0x15c)]['splice'](_0x1a8d2c,0x1);if(_0x410027[_0x380df4(0x151)]>=_0x410027['frames'][_0x380df4(0x182)])_0x410027[_0x380df4(0x151)]=_0x410027[_0x380df4(0x15c)][_0x380df4(0x182)]-0x1;updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentFrame(){const _0x560604=_0x591a,_0x37bc55=getCurrentProject();if(!_0x37bc55||!_0x37bc55[_0x560604(0x15c)]||typeof _0x37bc55[_0x560604(0x151)]!==_0x560604(0x141)||!_0x37bc55[_0x560604(0x15c)][_0x37bc55[_0x560604(0x151)]])return null;return _0x37bc55['frames'][_0x37bc55[_0x560604(0x151)]];}function swapLayer(_0xe2c766,_0xf4112f){const _0x2d7d70=_0x591a;let _0x549f37=getCurrentFrame();[_0x549f37['layers'][_0xe2c766],_0x549f37[_0x2d7d70(0x160)][_0xf4112f]]=[_0x549f37[_0x2d7d70(0x160)][_0xf4112f],_0x549f37[_0x2d7d70(0x160)][_0xe2c766]],[_0x549f37['layerHistories'][_0xe2c766],_0x549f37[_0x2d7d70(0x144)][_0xf4112f]]=[_0x549f37[_0x2d7d70(0x144)][_0xf4112f],_0x549f37['layerHistories'][_0xe2c766]],[_0x549f37[_0x2d7d70(0x188)][_0xe2c766],_0x549f37[_0x2d7d70(0x188)][_0xf4112f]]=[_0x549f37[_0x2d7d70(0x188)][_0xf4112f],_0x549f37[_0x2d7d70(0x188)][_0xe2c766]];if(_0x549f37[_0x2d7d70(0x154)]===_0xe2c766)_0x549f37[_0x2d7d70(0x154)]=_0xf4112f;else{if(_0x549f37[_0x2d7d70(0x154)]===_0xf4112f)_0x549f37[_0x2d7d70(0x154)]=_0xe2c766;}updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x2d7d70(0x162))requestAutoSave();}function removeLayerAt(_0x21e06a){const _0x16c9f9=_0x591a;let _0x23a9a5=getCurrentFrame();if(_0x23a9a5[_0x16c9f9(0x160)]['length']<=0x1)return;_0x23a9a5[_0x16c9f9(0x160)][_0x16c9f9(0x135)](_0x21e06a,0x1),_0x23a9a5[_0x16c9f9(0x144)][_0x16c9f9(0x135)](_0x21e06a,0x1),_0x23a9a5[_0x16c9f9(0x188)][_0x16c9f9(0x135)](_0x21e06a,0x1);if(_0x23a9a5['activeLayer']>=_0x23a9a5['layers'][_0x16c9f9(0x182)])_0x23a9a5[_0x16c9f9(0x154)]=_0x23a9a5['layers']['length']-0x1;updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x16c9f9(0x162))requestAutoSave();}function addLayer(){const _0x6172a8=_0x591a;let _0x34ad6d=getCurrentProject(),_0x47fb11=getCurrentFrame(),_0x3a4884=document[_0x6172a8(0x19b)]('canvas');_0x3a4884[_0x6172a8(0x1a3)]=_0x34ad6d[_0x6172a8(0x1a3)]*cellSize,_0x3a4884[_0x6172a8(0x1a6)]=_0x34ad6d['height']*cellSize,_0x47fb11[_0x6172a8(0x160)][_0x6172a8(0x174)]({'canvas':_0x3a4884,'visible':!![]}),_0x47fb11['layerHistories'][_0x6172a8(0x174)]([]),_0x47fb11[_0x6172a8(0x188)]['push']([]),_0x47fb11[_0x6172a8(0x154)]=_0x47fb11[_0x6172a8(0x160)]['length']-0x1,saveHistory(),updateLayerUI(),redrawAll();}function removeLayer(){const _0x3f2fb2=_0x591a;let _0x2dc942=getCurrentFrame();if(_0x2dc942[_0x3f2fb2(0x160)][_0x3f2fb2(0x182)]<=0x1)return;_0x2dc942['layers']['splice'](_0x2dc942['activeLayer'],0x1),_0x2dc942[_0x3f2fb2(0x144)][_0x3f2fb2(0x135)](_0x2dc942[_0x3f2fb2(0x154)],0x1),_0x2dc942[_0x3f2fb2(0x188)]['splice'](_0x2dc942[_0x3f2fb2(0x154)],0x1),_0x2dc942['activeLayer']=Math[_0x3f2fb2(0x14e)](0x0,_0x2dc942[_0x3f2fb2(0x154)]-0x1),updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x3f2fb2(0x162))requestAutoSave();}function duplicateLayerAt(_0x472c0e){const _0x5bffec=_0x591a,_0x1bc4a8=getCurrentProject(),_0x3bdcd2=getCurrentFrame();if(!_0x1bc4a8||!_0x3bdcd2||typeof _0x472c0e!==_0x5bffec(0x141)||!_0x3bdcd2[_0x5bffec(0x160)][_0x472c0e])return;const _0x452b28=_0x3bdcd2[_0x5bffec(0x160)][_0x472c0e],_0x4f898e=_0x452b28&&_0x452b28[_0x5bffec(0x1b3)]?_0x452b28[_0x5bffec(0x1b3)]:_0x452b28;if(!_0x4f898e)return;const _0x18bdb0=document['createElement'](_0x5bffec(0x1b3));_0x18bdb0[_0x5bffec(0x1a3)]=_0x1bc4a8[_0x5bffec(0x1a3)]*cellSize,_0x18bdb0[_0x5bffec(0x1a6)]=_0x1bc4a8[_0x5bffec(0x1a6)]*cellSize;const _0x1df954=_0x18bdb0['getContext']('2d');_0x1df954[_0x5bffec(0x192)](0x0,0x0,_0x18bdb0[_0x5bffec(0x1a3)],_0x18bdb0['height']);try{_0x1df954[_0x5bffec(0x14d)](_0x4f898e,0x0,0x0);}catch(_0x4c7780){console['warn'](_0x5bffec(0x1ad),_0x4c7780);}const _0x3ebce5=_0x472c0e+0x1;_0x3bdcd2[_0x5bffec(0x160)]['splice'](_0x3ebce5,0x0,{'canvas':_0x18bdb0,'visible':!![]});if(Array[_0x5bffec(0x165)](_0x3bdcd2[_0x5bffec(0x144)]))_0x3bdcd2['layerHistories'][_0x5bffec(0x135)](_0x3ebce5,0x0,[]);if(Array[_0x5bffec(0x165)](_0x3bdcd2[_0x5bffec(0x188)]))_0x3bdcd2[_0x5bffec(0x188)][_0x5bffec(0x135)](_0x3ebce5,0x0,[]);_0x3bdcd2[_0x5bffec(0x154)]=_0x3ebce5,saveHistory(),updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x5bffec(0x162))requestAutoSave();}function selectLayer(_0x3223b8){const _0x4e5c16=_0x591a;getCurrentFrame()[_0x4e5c16(0x154)]=parseInt(_0x3223b8),updateLayerUI();}function copyLayer(){const _0x4b57e3=_0x591a,_0x292c49=getCurrentFrame();if(!_0x292c49)return;const _0x4ea62b=_0x292c49[_0x4b57e3(0x154)];if(typeof _0x4ea62b!=='number'||!_0x292c49[_0x4b57e3(0x160)][_0x4ea62b])return;const _0x19e5f9=_0x292c49['layers'][_0x4ea62b],_0x19e4c4=_0x19e5f9&&_0x19e5f9[_0x4b57e3(0x1b3)]?_0x19e5f9[_0x4b57e3(0x1b3)]:_0x19e5f9;if(!_0x19e4c4||typeof _0x19e4c4[_0x4b57e3(0x16e)]!==_0x4b57e3(0x162))return;copiedLayerDataUrl=_0x19e4c4[_0x4b57e3(0x16e)]();const _0x2d825a=document['getElementById']('pasteLayerBtn');if(_0x2d825a)_0x2d825a[_0x4b57e3(0x1a2)]=![];}function pasteLayer(){const _0x31d111=_0x591a;if(!copiedLayerDataUrl)return;const _0x21625c=getCurrentProject(),_0x206ece=getCurrentFrame();if(!_0x21625c||!_0x206ece)return;const _0x31abe8=document['createElement']('canvas');_0x31abe8['width']=_0x21625c[_0x31d111(0x1a3)]*cellSize,_0x31abe8[_0x31d111(0x1a6)]=_0x21625c[_0x31d111(0x1a6)]*cellSize;const _0x1d2f9f=_0x31abe8[_0x31d111(0x15e)]('2d'),_0x5b7ff8=new Image();_0x5b7ff8['onload']=()=>{const _0x5e1dd7=_0x31d111;_0x1d2f9f['clearRect'](0x0,0x0,_0x31abe8['width'],_0x31abe8[_0x5e1dd7(0x1a6)]),_0x1d2f9f[_0x5e1dd7(0x14d)](_0x5b7ff8,0x0,0x0),_0x206ece[_0x5e1dd7(0x160)][_0x5e1dd7(0x174)]({'canvas':_0x31abe8,'visible':!![]}),_0x206ece[_0x5e1dd7(0x144)][_0x5e1dd7(0x174)]([]),_0x206ece[_0x5e1dd7(0x188)][_0x5e1dd7(0x174)]([]),_0x206ece['activeLayer']=_0x206ece[_0x5e1dd7(0x160)]['length']-0x1,saveHistory(),updateLayerUI(),redrawAll();},_0x5b7ff8[_0x31d111(0x137)]=copiedLayerDataUrl;}async function exportLayersAsGif(){const _0xd97ffd=_0x591a,_0x46eb17=document['getElementById']('layerExportStatus');if(_0x46eb17)_0x46eb17[_0xd97ffd(0x181)]=_0xd97ffd(0x139);const _0x4db8db=getCurrentProject();if(!_0x4db8db){if(_0x46eb17)_0x46eb17[_0xd97ffd(0x181)]='';return;}const _0x503c96=_0x4db8db[_0xd97ffd(0x15c)],_0x2d9e00=_0x4db8db[_0xd97ffd(0x1a3)]*cellSize,_0x481a8b=_0x4db8db[_0xd97ffd(0x1a6)]*cellSize;let _0x334470=0x0;_0x503c96['forEach'](_0x188347=>{const _0x28091e=_0xd97ffd;_0x334470=Math[_0x28091e(0x14e)](_0x334470,_0x188347[_0x28091e(0x160)]['length']);});for(let _0x4c56b8=0x0;_0x4c56b8<_0x334470;_0x4c56b8++){const _0x2c6a20=await Promise['all'](_0x503c96[_0xd97ffd(0x1af)](_0x27e221=>{return new Promise(_0x35d497=>{const _0x16514e=_0x591a,_0x2bc135=document[_0x16514e(0x19b)](_0x16514e(0x1b3));_0x2bc135[_0x16514e(0x1a3)]=_0x2d9e00,_0x2bc135[_0x16514e(0x1a6)]=_0x481a8b;const _0x4b8304=_0x2bc135[_0x16514e(0x15e)]('2d'),_0x3f7789=_0x27e221['layers'][_0x4c56b8]&&_0x27e221['layers'][_0x4c56b8]['canvas']?_0x27e221[_0x16514e(0x160)][_0x4c56b8][_0x16514e(0x1b3)]:_0x27e221[_0x16514e(0x160)][_0x4c56b8];if(_0x3f7789)_0x4b8304[_0x16514e(0x14d)](_0x3f7789,0x0,0x0);const _0x17eff2=new Image();_0x17eff2[_0x16514e(0x177)]=()=>_0x35d497(_0x17eff2),_0x17eff2[_0x16514e(0x137)]=_0x2bc135[_0x16514e(0x16e)](_0x16514e(0x164));});})),_0x4b6f45=_0x2c6a20[_0xd97ffd(0x14a)](_0x4cab81=>{const _0x3a2780=_0xd97ffd,_0x1d8c16=document[_0x3a2780(0x19b)](_0x3a2780(0x1b3));_0x1d8c16['width']=_0x2d9e00,_0x1d8c16[_0x3a2780(0x1a6)]=_0x481a8b;const _0x3f52e7=_0x1d8c16[_0x3a2780(0x15e)]('2d');_0x3f52e7[_0x3a2780(0x14d)](_0x4cab81,0x0,0x0);const _0x24f0d=_0x3f52e7[_0x3a2780(0x1aa)](0x0,0x0,_0x2d9e00,_0x481a8b)[_0x3a2780(0x19d)];for(let _0x6b141f=0x3;_0x6b141f<_0x24f0d[_0x3a2780(0x182)];_0x6b141f+=0x4)if(_0x24f0d[_0x6b141f]!==0x0)return!![];return![];});if(!_0x4b6f45)continue;const _0x35417d=(_0x4db8db[_0xd97ffd(0x14f)]||_0xd97ffd(0x138))['replace'](/[\\/:*?"<>|]/g,'_')+('-layer'+(_0x4c56b8+0x1)+_0xd97ffd(0x15b));convertToGIF(_0x2c6a20,animationDelay,_0x35417d),await new Promise(_0x284ebc=>setTimeout(_0x284ebc,0x78));}if(_0x46eb17)_0x46eb17[_0xd97ffd(0x181)]='';}async function exportLayersAsApng(){const _0xca8d59=_0x591a,_0x47001d=document[_0xca8d59(0x15d)](_0xca8d59(0x196));if(_0x47001d)_0x47001d[_0xca8d59(0x181)]=_0xca8d59(0x139);const _0x5f0443=getCurrentProject();if(!_0x5f0443){if(_0x47001d)_0x47001d[_0xca8d59(0x181)]='';return;}const _0x107e09=_0x5f0443[_0xca8d59(0x15c)],_0x507908=_0x5f0443['width']*cellSize,_0xe6ebf0=_0x5f0443['height']*cellSize;let _0x163c85=0x0;_0x107e09[_0xca8d59(0x147)](_0x5956db=>{const _0x1a8fad=_0xca8d59;_0x163c85=Math[_0x1a8fad(0x14e)](_0x163c85,_0x5956db[_0x1a8fad(0x160)]['length']);});for(let _0x3350b3=0x0;_0x3350b3<_0x163c85;_0x3350b3++){const _0xb96d68=await Promise[_0xca8d59(0x156)](_0x107e09[_0xca8d59(0x1af)](_0xa5e3df=>{return new Promise(_0x44036e=>{const _0x4d9870=_0x591a,_0xdcda5d=document['createElement'](_0x4d9870(0x1b3));_0xdcda5d[_0x4d9870(0x1a3)]=_0x507908,_0xdcda5d[_0x4d9870(0x1a6)]=_0xe6ebf0;const _0x250d4f=_0xdcda5d['getContext']('2d'),_0x509d55=_0xa5e3df[_0x4d9870(0x160)][_0x3350b3]&&_0xa5e3df[_0x4d9870(0x160)][_0x3350b3][_0x4d9870(0x1b3)]?_0xa5e3df[_0x4d9870(0x160)][_0x3350b3][_0x4d9870(0x1b3)]:_0xa5e3df['layers'][_0x3350b3];if(_0x509d55)_0x250d4f[_0x4d9870(0x14d)](_0x509d55,0x0,0x0);const _0xef6b89=new Image();_0xef6b89[_0x4d9870(0x177)]=()=>_0x44036e(_0xef6b89),_0xef6b89['src']=_0xdcda5d['toDataURL'](_0x4d9870(0x164));});})),_0xf7fd49=_0xb96d68[_0xca8d59(0x14a)](_0x3b50a4=>{const _0x40af52=_0xca8d59,_0x1bacd4=document[_0x40af52(0x19b)](_0x40af52(0x1b3));_0x1bacd4[_0x40af52(0x1a3)]=_0x507908,_0x1bacd4[_0x40af52(0x1a6)]=_0xe6ebf0;const _0x11f536=_0x1bacd4[_0x40af52(0x15e)]('2d');_0x11f536['drawImage'](_0x3b50a4,0x0,0x0);const _0x32ad1d=_0x11f536[_0x40af52(0x1aa)](0x0,0x0,_0x507908,_0xe6ebf0)[_0x40af52(0x19d)];for(let _0x524bd1=0x3;_0x524bd1<_0x32ad1d[_0x40af52(0x182)];_0x524bd1+=0x4)if(_0x32ad1d[_0x524bd1]!==0x0)return!![];return![];});if(!_0xf7fd49)continue;const _0x2ab617=(_0x5f0443['name']||_0xca8d59(0x138))[_0xca8d59(0x159)](/[\\/:*?"<>|]/g,'_')+('-layer'+(_0x3350b3+0x1)+_0xca8d59(0x183));convertToAPNG(_0xb96d68,_0x507908,_0xe6ebf0,animationDelay,_0x2ab617),await new Promise(_0xc0c4ce=>setTimeout(_0xc0c4ce,0x78));}if(_0x47001d)_0x47001d[_0xca8d59(0x181)]='';}function _0x1065(){const _0x4dc57a=['text','stringify','warn','nezumi-export','layerRedoStacks','target','createObjectURL','beforeunload','log','18BkmKft','project-name-edit','12LhkapH','floor','ファイルを読み込み中...','clearRect','startAutoSaveInterval','ファイルにプロジェクトメタデータが見つかりませんでした。読み込みできません。','select','layerExportStatus','removeChild','click','revokeObjectURL','Enter','createElement','apply','data','56mtescl','search','generateAsync','parse','disabled','width','64084WcLaaw','nezumi-sketch.msketch','height','application/json','ファイルの読み込みに失敗しました。','11150zcsuBr','getImageData','addEventListener','2151yYyZMw','duplicateLayerAt\x20draw\x20error','IndexedDBからの読み込みに失敗したチュー…','map','replaceWith','blur','charCodeAt','canvas','loadProjectFromIDB:\x20DB\x20に保存が見つかりませんでした。localStorage\x20のクイック保存を確認します。','requestAutoSave:\x20scheduling\x20save\x20in\x20','folder','type','プロジェクトをIndexedDBに保存したチュー！','href','nudgeActiveLayer:\x20対象レイヤーのキャンバスが見つかりません','catch','splice','ZIP作成中...','src','nezumi-animation','処理中...','nezumi-sketch-save-quick','projects','(((.+)+)+)+$','readAsText','appendChild','」を削除しますか？','split','number','auto-save\x20(interval)\x20failed','IndexedDBからプロジェクトを読み込んだチュー！','layerHistories','input','value','forEach','key','80px','some','78312nBMWdI','constructor','drawImage','max','name','2340856zmWgcD','activeFrame','visible','activeProject','activeLayer','isFinite','all','error','14571931qPUVPc','replace','style','.gif','frames','getElementById','getContext','startsWith','layers','auto-save\x20failed','function','offsetCells','image/png','isArray','focus','nezumi-sketch-save','15KrTQbJ','375905DmgIke','loadProjectFromIDB:\x20localStorage\x20のクイック保存を復元します','auto-save:\x20saved','auto-save\x20(interval):\x20saved','toString','toDataURL','flushQuickSaveToLocalStorage:\x20saved\x20quick\x20snapshot','trim','files','frame-','active','push','file','46041ImfhNE','onload','loadProjectFromIDB:\x20データ確認','startAutoSaveInterval:\x20starting\x20interval\x20','body','cloneLayer\x20draw\x20error','pen','debug','.png','undefined','info','textContent','length','.apng'];_0x1065=function(){return _0x4dc57a;};return _0x1065();}async function exportFramesLayersZip(){const _0x397765=_0x591a,_0x3ddd1e=document[_0x397765(0x15d)](_0x397765(0x196));if(_0x3ddd1e)_0x3ddd1e[_0x397765(0x181)]=_0x397765(0x136);const _0x2c0987=getCurrentProject();if(!_0x2c0987){if(_0x3ddd1e)_0x3ddd1e['textContent']='';return;}const _0x2223ab=_0x2c0987[_0x397765(0x15c)],_0xe2adcc=_0x2c0987[_0x397765(0x1a3)]*cellSize,_0x1e6bfb=_0x2c0987[_0x397765(0x1a6)]*cellSize,_0x356a33=new JSZip();for(let _0x3e708e=0x0;_0x3e708e<_0x2223ab[_0x397765(0x182)];_0x3e708e++){const _0x1d6481=_0x2223ab[_0x3e708e],_0x55c4ef=_0x356a33[_0x397765(0x1b6)](_0x397765(0x172)+(_0x3e708e+0x1));for(let _0x3028cd=0x0;_0x3028cd<_0x1d6481[_0x397765(0x160)][_0x397765(0x182)];_0x3028cd++){const _0x429d0d=document[_0x397765(0x19b)](_0x397765(0x1b3));_0x429d0d[_0x397765(0x1a3)]=_0xe2adcc,_0x429d0d[_0x397765(0x1a6)]=_0x1e6bfb;const _0x20dcf1=_0x429d0d[_0x397765(0x15e)]('2d');_0x20dcf1[_0x397765(0x192)](0x0,0x0,_0xe2adcc,_0x1e6bfb);const _0x4d6cba=_0x1d6481[_0x397765(0x160)][_0x3028cd];if(_0x4d6cba){const _0x5281df=_0x4d6cba[_0x397765(0x1b3)]?_0x4d6cba[_0x397765(0x1b3)]:_0x4d6cba;if(_0x5281df)_0x20dcf1[_0x397765(0x14d)](_0x5281df,0x0,0x0);}const _0x1a20c4=_0x429d0d[_0x397765(0x16e)](_0x397765(0x164)),_0x5a5d68=_0x1a20c4[_0x397765(0x140)](',')[0x1],_0x207201=atob(_0x5a5d68),_0x417d06=new Uint8Array(_0x207201[_0x397765(0x182)]);for(let _0x37b90a=0x0;_0x37b90a<_0x207201[_0x397765(0x182)];_0x37b90a++)_0x417d06[_0x37b90a]=_0x207201[_0x397765(0x1b2)](_0x37b90a);_0x55c4ef[_0x397765(0x175)]('layer-'+(_0x3028cd+0x1)+_0x397765(0x17e),_0x417d06);}}const _0x13420e=await _0x356a33[_0x397765(0x1a0)]({'type':'blob'}),_0x1d9b6e=(_0x2c0987[_0x397765(0x14f)]||_0x397765(0x187))['replace'](/[\\/:*?"<>|]/g,'_'),_0x3114b2=document[_0x397765(0x19b)]('a');_0x3114b2[_0x397765(0x132)]=URL[_0x397765(0x18a)](_0x13420e),_0x3114b2['download']=_0x1d9b6e+'-frames-layers.zip',document[_0x397765(0x17a)][_0x397765(0x13e)](_0x3114b2),_0x3114b2[_0x397765(0x198)](),setTimeout(()=>{const _0x13dc05=_0x397765;URL[_0x13dc05(0x199)](_0x3114b2[_0x13dc05(0x132)]),document[_0x13dc05(0x17a)][_0x13dc05(0x197)](_0x3114b2);if(_0x3ddd1e)_0x3ddd1e[_0x13dc05(0x181)]='';},0x4b0);}function saveProjectFile(){const _0x22c79e=_0x591a,_0x3ddfdb=typeof getSavePayload===_0x22c79e(0x162)?getSavePayload():{'projects':projects[_0x22c79e(0x1af)](_0x3160c3=>({'width':_0x3160c3[_0x22c79e(0x1a3)],'height':_0x3160c3[_0x22c79e(0x1a6)],'name':_0x3160c3[_0x22c79e(0x14f)]||'','activeFrame':_0x3160c3[_0x22c79e(0x151)],'frames':_0x3160c3[_0x22c79e(0x15c)][_0x22c79e(0x1af)](_0x2e7fa3=>({'activeLayer':_0x2e7fa3['activeLayer'],'layers':_0x2e7fa3[_0x22c79e(0x160)][_0x22c79e(0x1af)](_0x5d5821=>_0x5d5821&&_0x5d5821['canvas']?_0x5d5821[_0x22c79e(0x1b3)][_0x22c79e(0x16e)]():_0x5d5821&&_0x5d5821[_0x22c79e(0x16e)]?_0x5d5821[_0x22c79e(0x16e)]():null)}))})),'activeProject':activeProject},_0x2c6254=new Blob([JSON[_0x22c79e(0x185)](_0x3ddfdb)],{'type':_0x22c79e(0x1a7)}),_0xa7a16=document[_0x22c79e(0x19b)]('a');_0xa7a16['download']=_0x22c79e(0x1a5),_0xa7a16['href']=URL[_0x22c79e(0x18a)](_0x2c6254),_0xa7a16[_0x22c79e(0x198)]();}function _0x591a(_0x1ef3c0,_0x23603a){_0x1ef3c0=_0x1ef3c0-0x132;const _0x212f24=_0x1065();let _0x4c52ce=_0x212f24[_0x1ef3c0];return _0x4c52ce;}function getSavePayload(){const _0x2c2b9e=_0x591a;return{'projects':projects[_0x2c2b9e(0x1af)](_0x577f0f=>({'width':_0x577f0f['width'],'height':_0x577f0f[_0x2c2b9e(0x1a6)],'name':_0x577f0f[_0x2c2b9e(0x14f)]||'','activeFrame':_0x577f0f['activeFrame'],'frames':_0x577f0f[_0x2c2b9e(0x15c)][_0x2c2b9e(0x1af)](_0x4d883f=>({'activeLayer':_0x4d883f[_0x2c2b9e(0x154)],'layers':_0x4d883f['layers']['map'](_0x35e597=>_0x35e597&&_0x35e597[_0x2c2b9e(0x1b3)]?_0x35e597[_0x2c2b9e(0x1b3)][_0x2c2b9e(0x16e)]():_0x35e597&&_0x35e597['toDataURL']?_0x35e597[_0x2c2b9e(0x16e)]():null)}))})),'activeProject':activeProject};}async function saveProjectToIDB(){const _0x292370=_0x591a,_0x2de51c=getSavePayload();try{await idbSet(_0x292370(0x167),_0x2de51c),console['log'](_0x292370(0x1b8));}catch(_0x4f3e75){console[_0x292370(0x157)]('保存に失敗したチュー:',_0x4f3e75);}}function flushQuickSaveToLocalStorage(){const _0x54b3c1=_0x591a;try{const _0xf4071c=getSavePayload();localStorage['setItem'](_0x54b3c1(0x13a),JSON[_0x54b3c1(0x185)](_0xf4071c)),console[_0x54b3c1(0x17d)](_0x54b3c1(0x16f));}catch(_0x3d4870){console[_0x54b3c1(0x157)]('flushQuickSaveToLocalStorage\x20failed',_0x3d4870);}}window['addEventListener']('visibilitychange',()=>{const _0x18e7ee=_0x591a;if(document['hidden']&&autosaveDirty){flushQuickSaveToLocalStorage();if(typeof saveProjectToIDB===_0x18e7ee(0x162))saveProjectToIDB();}}),window[_0x5475df(0x1ab)](_0x5475df(0x18b),()=>{const _0x5b6b6b=_0x5475df;if(autosaveDirty){flushQuickSaveToLocalStorage();if(typeof saveProjectToIDB===_0x5b6b6b(0x162))saveProjectToIDB();}});let autosaveDirty=![],autosaveTimer=null;const AUTOSAVE_DELAY=0x1388,AUTOSAVE_INTERVAL=0xea60;function requestAutoSave(){const _0x309a9d=_0x5475df;autosaveDirty=!![];if(autosaveTimer)clearTimeout(autosaveTimer);console[_0x309a9d(0x17d)](_0x309a9d(0x1b5)+AUTOSAVE_DELAY+'ms'),autosaveTimer=setTimeout(async()=>{const _0x46c50f=_0x309a9d;console[_0x46c50f(0x17d)]('requestAutoSave:\x20timer\x20fired');if(!autosaveDirty)return;try{await saveProjectToIDB(),autosaveDirty=![],console[_0x46c50f(0x18c)](_0x46c50f(0x16b));}catch(_0x377643){console[_0x46c50f(0x157)](_0x46c50f(0x161),_0x377643);}},AUTOSAVE_DELAY);}function startAutoSaveInterval(){const _0x7c7f6f=_0x5475df;console['debug'](_0x7c7f6f(0x179)+AUTOSAVE_INTERVAL+'ms'),setInterval(async()=>{const _0x371b18=_0x7c7f6f;if(!autosaveDirty)return;try{await saveProjectToIDB(),autosaveDirty=![],console[_0x371b18(0x18c)](_0x371b18(0x16c));}catch(_0x68ed26){console[_0x371b18(0x157)](_0x371b18(0x142),_0x68ed26);}},AUTOSAVE_INTERVAL);}window['requestAutoSave']=requestAutoSave,window[_0x5475df(0x193)]=startAutoSaveInterval;function loadProjectFile(_0x2dedc0){const _0x10b6de=_0x5475df,_0x479704=_0x2dedc0[_0x10b6de(0x189)][_0x10b6de(0x171)][0x0];if(!_0x479704)return;if(_0x479704[_0x10b6de(0x1b7)]&&_0x479704[_0x10b6de(0x1b7)][_0x10b6de(0x15f)]('image')){loadStandaloneFromFile(_0x479704)['then'](_0x161b04=>{const _0x2e13f2=_0x10b6de;alert('スタンドアロン形式のプロジェクトを読み込みました:\x20'+(_0x161b04[_0x2e13f2(0x14f)]||'画像'));})[_0x10b6de(0x134)](_0x5020f3=>{const _0x553568=_0x10b6de;console[_0x553568(0x186)](_0x5020f3),alert(_0x553568(0x194));});return;}const _0x17187d=new FileReader();try{showLoading(_0x10b6de(0x191));}catch(_0x4febcc){}_0x17187d[_0x10b6de(0x177)]=function(_0x317a8a){const _0x19058e=_0x10b6de;try{const _0x552d34=JSON[_0x19058e(0x1a1)](_0x317a8a['target']['result']);projects=_0x552d34[_0x19058e(0x13b)][_0x19058e(0x1af)]((_0x4fc71b,_0x14a0b9)=>{const _0x3b434a=_0x19058e;let _0xabee64=createProject(_0x4fc71b[_0x3b434a(0x1a3)],_0x4fc71b['height'],_0x4fc71b[_0x3b434a(0x14f)]||'画像'+(_0x14a0b9+0x1));return _0xabee64[_0x3b434a(0x15c)]=_0x4fc71b[_0x3b434a(0x15c)][_0x3b434a(0x1af)](_0x37c6fa=>{const _0xe7b542=_0x3b434a;let _0x5340b5={'layers':[],'activeLayer':_0x37c6fa[_0xe7b542(0x154)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x4c35af=0x0;_0x4c35af<_0x37c6fa['layers'][_0xe7b542(0x182)];_0x4c35af++){let _0x488aa0=new Image();_0x488aa0[_0xe7b542(0x137)]=_0x37c6fa[_0xe7b542(0x160)][_0x4c35af];let _0x50b093=document[_0xe7b542(0x19b)](_0xe7b542(0x1b3));_0x50b093['width']=_0x4fc71b[_0xe7b542(0x1a3)]*cellSize,_0x50b093[_0xe7b542(0x1a6)]=_0x4fc71b['height']*cellSize,_0x488aa0['onload']=()=>{const _0x9b34a5=_0xe7b542;let _0x48e2c6=_0x50b093[_0x9b34a5(0x15e)]('2d');_0x48e2c6[_0x9b34a5(0x192)](0x0,0x0,_0x50b093['width'],_0x50b093[_0x9b34a5(0x1a6)]),_0x48e2c6[_0x9b34a5(0x14d)](_0x488aa0,0x0,0x0);try{redrawAll();}catch(_0x11207f){}},_0x5340b5[_0xe7b542(0x160)]['push'](_0x50b093),_0x5340b5[_0xe7b542(0x144)][_0xe7b542(0x174)]([]),_0x5340b5[_0xe7b542(0x188)][_0xe7b542(0x174)]([]);}return _0x5340b5;}),_0xabee64['activeFrame']=_0x4fc71b[_0x3b434a(0x151)],_0xabee64[_0x3b434a(0x14f)]=_0x4fc71b[_0x3b434a(0x14f)]||'画像'+(_0x14a0b9+0x1),_0xabee64;}),activeProject=_0x552d34[_0x19058e(0x153)]||0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}catch(_0x1de1b5){alert(_0x19058e(0x1a8));}finally{try{hideLoading();}catch(_0x124382){}}},_0x17187d['onerror']=function(){try{hideLoading();}catch(_0x53a0a8){}},_0x17187d[_0x10b6de(0x13d)](_0x479704);}async function loadProjectFromIDB(){const _0x54bdbd=_0x5475df;try{let _0x221f49=await idbGet(_0x54bdbd(0x167));if(!_0x221f49){console[_0x54bdbd(0x180)](_0x54bdbd(0x1b4));try{const _0x4b4a98=localStorage['getItem'](_0x54bdbd(0x13a));if(_0x4b4a98){const _0x5c7569=JSON[_0x54bdbd(0x1a1)](_0x4b4a98);_0x5c7569&&_0x5c7569[_0x54bdbd(0x13b)]&&(console[_0x54bdbd(0x180)](_0x54bdbd(0x16a)),_0x221f49=_0x5c7569);}}catch(_0x2d2844){console['warn']('loadProjectFromIDB:\x20localStorage\x20quick\x20load\x20failed',_0x2d2844);}if(!_0x221f49){if(typeof requestAutoSave===_0x54bdbd(0x162))requestAutoSave();return;}}console[_0x54bdbd(0x18c)](_0x54bdbd(0x178),{'projects':Array[_0x54bdbd(0x165)](_0x221f49[_0x54bdbd(0x13b)])?_0x221f49[_0x54bdbd(0x13b)][_0x54bdbd(0x182)]:0x0,'activeProject':_0x221f49[_0x54bdbd(0x153)]}),projects=_0x221f49[_0x54bdbd(0x13b)][_0x54bdbd(0x1af)]((_0x12ee1d,_0x2c9813)=>{const _0x5f3f23=_0x54bdbd;let _0x306bb1=createProject(_0x12ee1d[_0x5f3f23(0x1a3)],_0x12ee1d[_0x5f3f23(0x1a6)],_0x12ee1d['name']||'画像'+(_0x2c9813+0x1));return _0x306bb1[_0x5f3f23(0x15c)]=_0x12ee1d[_0x5f3f23(0x15c)][_0x5f3f23(0x1af)](_0x1b7562=>{const _0x3f5f31=_0x5f3f23;let _0x12e176={'layers':[],'activeLayer':_0x1b7562[_0x3f5f31(0x154)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x2ae8d3=0x0;_0x2ae8d3<_0x1b7562[_0x3f5f31(0x160)][_0x3f5f31(0x182)];_0x2ae8d3++){let _0x491741=new Image();_0x491741[_0x3f5f31(0x137)]=_0x1b7562[_0x3f5f31(0x160)][_0x2ae8d3];let _0x21da55=document[_0x3f5f31(0x19b)](_0x3f5f31(0x1b3));_0x21da55[_0x3f5f31(0x1a3)]=_0x12ee1d[_0x3f5f31(0x1a3)]*cellSize,_0x21da55[_0x3f5f31(0x1a6)]=_0x12ee1d[_0x3f5f31(0x1a6)]*cellSize,_0x491741[_0x3f5f31(0x177)]=()=>{const _0x58d4f7=_0x3f5f31;let _0x50d5b6=_0x21da55[_0x58d4f7(0x15e)]('2d');_0x50d5b6[_0x58d4f7(0x192)](0x0,0x0,_0x21da55[_0x58d4f7(0x1a3)],_0x21da55['height']),_0x50d5b6['drawImage'](_0x491741,0x0,0x0);try{redrawAll();}catch(_0x1ab6a6){}},_0x12e176[_0x3f5f31(0x160)]['push']({'canvas':_0x21da55,'visible':!![]}),_0x12e176[_0x3f5f31(0x144)][_0x3f5f31(0x174)]([]),_0x12e176[_0x3f5f31(0x188)][_0x3f5f31(0x174)]([]);}return _0x12e176;}),_0x306bb1[_0x5f3f23(0x151)]=_0x12ee1d[_0x5f3f23(0x151)],_0x306bb1[_0x5f3f23(0x14f)]=_0x12ee1d[_0x5f3f23(0x14f)]||'画像'+(_0x2c9813+0x1),_0x306bb1;}),activeProject=_0x221f49[_0x54bdbd(0x153)]||0x0,await wait(0x64),updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();try{if(typeof updateUndoRedoButtons===_0x54bdbd(0x162))updateUndoRedoButtons();}catch(_0x4b8620){}setTool(_0x54bdbd(0x17c)),console[_0x54bdbd(0x18c)](_0x54bdbd(0x143));}catch(_0x3ea787){alert(_0x54bdbd(0x1ae)),console[_0x54bdbd(0x157)](_0x3ea787);}}function shiftLayerCanvas(_0x1447cb,_0x345f3d,_0x5ca8cb){const _0x590778=_0x5475df;if(!_0x1447cb)return;const _0x99c135=_0x1447cb[_0x590778(0x1a3)],_0x4bed66=_0x1447cb['height'],_0x3e35e7=document['createElement']('canvas');_0x3e35e7[_0x590778(0x1a3)]=_0x99c135,_0x3e35e7[_0x590778(0x1a6)]=_0x4bed66;const _0x3f1d95=_0x3e35e7[_0x590778(0x15e)]('2d');_0x3f1d95['clearRect'](0x0,0x0,_0x99c135,_0x4bed66),_0x3f1d95[_0x590778(0x14d)](_0x1447cb,0x0,0x0);const _0x4205ba=_0x1447cb['getContext']('2d');_0x4205ba[_0x590778(0x192)](0x0,0x0,_0x99c135,_0x4bed66),_0x4205ba['drawImage'](_0x3e35e7,_0x345f3d,_0x5ca8cb);}function nudgeActiveLayer(_0xdfd8fd,_0x4de009){const _0x29d540=_0x5475df,_0x79b65b=getCurrentProject();if(!_0x79b65b)return;const _0x2bf3fc=getCurrentFrame();if(!_0x2bf3fc)return;const _0x6d7c8a=_0x2bf3fc[_0x29d540(0x154)];if(_0x6d7c8a==null)return;const _0x685db5=(_0xdfd8fd||0x0)*cellSize,_0x5d36b8=(_0x4de009||0x0)*cellSize;if(_0x685db5===0x0&&_0x5d36b8===0x0)return;saveHistory();const _0xddcb5f=_0x2bf3fc[_0x29d540(0x160)][_0x6d7c8a],_0x1b5515=_0xddcb5f&&_0xddcb5f['canvas']?_0xddcb5f['canvas']:_0xddcb5f;_0x1b5515?(shiftLayerCanvas(_0x1b5515,_0x685db5,_0x5d36b8),redrawAll()):console[_0x29d540(0x186)](_0x29d540(0x133),_0xddcb5f);}function startLayerMove(_0x5b9281){const _0x21ca69=_0x5475df;layerMoveState['active']=!![];const _0x2969d0=getCanvasCoords(_0x5b9281);layerMoveState['startCell']={'x':Math[_0x21ca69(0x190)](_0x2969d0['x']/cellSize),'y':Math['floor'](_0x2969d0['y']/cellSize)},layerMoveState[_0x21ca69(0x163)]={'x':0x0,'y':0x0};}function endLayerMove(_0x1017cf){const _0x136c1c=_0x5475df;if(!layerMoveState[_0x136c1c(0x173)])return;const _0x4aa048=layerMoveState[_0x136c1c(0x163)]['x']*cellSize,_0x2ade81=layerMoveState[_0x136c1c(0x163)]['y']*cellSize;if(_0x4aa048!==0x0||_0x2ade81!==0x0){saveHistory();const _0x281f0b=getCurrentFrame();if(_0x281f0b&&typeof _0x281f0b['activeLayer']==='number'){const _0x4aeb59=_0x281f0b[_0x136c1c(0x160)][_0x281f0b[_0x136c1c(0x154)]],_0x392940=_0x4aeb59&&_0x4aeb59[_0x136c1c(0x1b3)]?_0x4aeb59[_0x136c1c(0x1b3)]:_0x4aeb59;if(_0x392940)shiftLayerCanvas(_0x392940,_0x4aa048,_0x2ade81);}}layerMoveState[_0x136c1c(0x173)]=![],layerMoveState['startCell']=null,layerMoveState[_0x136c1c(0x163)]={'x':0x0,'y':0x0},redrawAll();}