const _0x2f8444=_0x590d;(function(_0x1f0c2e,_0x17264d){const _0x2431b7=_0x590d,_0x1b1f40=_0x1f0c2e();while(!![]){try{const _0x40782b=-parseInt(_0x2431b7(0x201))/0x1+-parseInt(_0x2431b7(0x1e8))/0x2*(-parseInt(_0x2431b7(0x212))/0x3)+-parseInt(_0x2431b7(0x1fb))/0x4*(-parseInt(_0x2431b7(0x21e))/0x5)+parseInt(_0x2431b7(0x20f))/0x6+-parseInt(_0x2431b7(0x1e3))/0x7*(parseInt(_0x2431b7(0x211))/0x8)+-parseInt(_0x2431b7(0x1e5))/0x9+parseInt(_0x2431b7(0x1f9))/0xa;if(_0x40782b===_0x17264d)break;else _0x1b1f40['push'](_0x1b1f40['shift']());}catch(_0x376628){_0x1b1f40['push'](_0x1b1f40['shift']());}}}(_0x3125,0x9c71b));const _0x40d1b3=(function(){let _0x481feb=!![];return function(_0x5d4b87,_0x4ec409){const _0x2f9dc8=_0x481feb?function(){if(_0x4ec409){const _0x58e74a=_0x4ec409['apply'](_0x5d4b87,arguments);return _0x4ec409=null,_0x58e74a;}}:function(){};return _0x481feb=![],_0x2f9dc8;};}()),_0x51ffb6=_0x40d1b3(this,function(){const _0x20d6fd=_0x590d;return _0x51ffb6['toString']()[_0x20d6fd(0x213)](_0x20d6fd(0x22f))['toString']()[_0x20d6fd(0x200)](_0x51ffb6)[_0x20d6fd(0x213)](_0x20d6fd(0x22f));});_0x51ffb6();function _0x3125(){const _0x314e2f=['max','catch','replace','APNGに変換中...','name','render','jpeg','nezumi-standalone','プロジェクトがありません','vp8','1556298ncKKBp','push','594976tqpghe','102RLvjrH','search','nezumi-spritesheet','getContext','appendChild','GIFに変換できる画像がありません。','buffer','byteLength','toDataURL','WebCodecs','image/apng','activeLayer','1474840SSxxxb','configure','createObjectURL','min','encode','webp','src','.apng','drawImage','visible','フレーム間の余白(px)\x20を指定（例:\x200）','createElement','all','value','addFrame','height','href','(((.+)+)+)+$','jpg','map','GIF','undefined','click','70rIcBwd','then','10789695tKTWOQ','canvas','png','37434aDacdS','image/png','フレームがありません','clearRect','revokeObjectURL','getElementById','flush','isArray','body','download','VideoEncoder','nezumi-animation','スプライトシートの拡大率を指定（例:\x201\x20=\x20元サイズ,\x202\x20=\x202倍）','layers','error','onload','_spritesheet.png','11485530XElsRd','data','8OTHfbx','length','removeChild','close','frames','constructor','50880TzwOhc','forEach','UPNG','width'];_0x3125=function(){return _0x314e2f;};return _0x3125();}function getExportQuality(){const _0x436e64=_0x590d;var _0x2f37b7=document[_0x436e64(0x1ed)]('exportQuality');return _0x2f37b7?parseInt(_0x2f37b7[_0x436e64(0x22b)],0xa):0x8;}function exportImage(_0x22f4d1){const _0x2b9891=_0x590d;let _0x12b10d=getCurrentProject(),_0x202640=_0x12b10d[_0x2b9891(0x1ff)],_0x57232a=_0x22f4d1===_0x2b9891(0x1de)||_0x22f4d1===_0x2b9891(0x20b)?'image/jpeg':'image/'+_0x22f4d1,_0xda1cbc=_0x202640[_0x2b9891(0x1fc)]>0x1,_0x320be8=(_0x12b10d[_0x2b9891(0x209)]||'nezumi-drawing')[_0x2b9891(0x207)](/[\\/:*?"<>|]/g,'_');if(!_0xda1cbc){let _0x567bbf=document[_0x2b9891(0x229)](_0x2b9891(0x1e6));_0x567bbf[_0x2b9891(0x204)]=_0x12b10d[_0x2b9891(0x204)]*cellSize,_0x567bbf[_0x2b9891(0x22d)]=_0x12b10d[_0x2b9891(0x22d)]*cellSize;let _0x119e1f=_0x567bbf[_0x2b9891(0x215)]('2d'),_0x4ebda0=getCurrentFrame();for(let _0x126aac=0x0;_0x126aac<(Array[_0x2b9891(0x1ef)](_0x4ebda0['layers'])?_0x4ebda0[_0x2b9891(0x1f5)][_0x2b9891(0x1fc)]:0x0);_0x126aac++){const _0xe00683=_0x4ebda0['layers'][_0x126aac];if(!_0xe00683)continue;const _0x3980fd=typeof _0xe00683[_0x2b9891(0x227)]!=='undefined'?_0xe00683['visible']:!![];if(!_0x3980fd)continue;const _0xefb925=_0xe00683[_0x2b9891(0x1e6)]?_0xe00683[_0x2b9891(0x1e6)]:_0xe00683;if(_0xefb925)_0x119e1f[_0x2b9891(0x226)](_0xefb925,0x0,0x0);}let _0x6a6991=document[_0x2b9891(0x229)]('a');_0x6a6991['download']=_0x320be8+'.'+_0x22f4d1;if(_0x22f4d1===_0x2b9891(0x1de)||_0x22f4d1===_0x2b9891(0x20b)){let _0x43c883=getExportQuality(),_0x40f8e7=Math[_0x2b9891(0x205)](0.1,Math[_0x2b9891(0x221)](0x1,_0x43c883/0xa));_0x6a6991[_0x2b9891(0x22e)]=_0x567bbf[_0x2b9891(0x21a)](_0x57232a,_0x40f8e7);}else _0x22f4d1===_0x2b9891(0x1e7)?_0x6a6991[_0x2b9891(0x22e)]=_0x567bbf['toDataURL'](_0x57232a):_0x6a6991['href']=_0x567bbf[_0x2b9891(0x21a)](_0x57232a);_0x6a6991['click']();}else{if(_0x22f4d1===_0x2b9891(0x223)&&typeof window[_0x2b9891(0x21b)]!==_0x2b9891(0x1e1))exportWebpAnimation(_0x202640,_0x12b10d[_0x2b9891(0x204)]*cellSize,_0x12b10d[_0x2b9891(0x22d)]*cellSize,_0x320be8);else for(let _0x5b18a4=0x0;_0x5b18a4<_0x202640[_0x2b9891(0x1fc)];_0x5b18a4++){let _0x3c5518=document[_0x2b9891(0x229)](_0x2b9891(0x1e6));_0x3c5518[_0x2b9891(0x204)]=_0x12b10d[_0x2b9891(0x204)]*cellSize,_0x3c5518['height']=_0x12b10d['height']*cellSize;let _0x33778b=_0x3c5518[_0x2b9891(0x215)]('2d'),_0x16c904=_0x202640[_0x5b18a4];for(let _0x149bf9=0x0;_0x149bf9<(Array[_0x2b9891(0x1ef)](_0x16c904[_0x2b9891(0x1f5)])?_0x16c904[_0x2b9891(0x1f5)]['length']:0x0);_0x149bf9++){const _0xf013ad=_0x16c904[_0x2b9891(0x1f5)][_0x149bf9];if(!_0xf013ad)continue;const _0x31327a=typeof _0xf013ad[_0x2b9891(0x227)]!==_0x2b9891(0x1e1)?_0xf013ad[_0x2b9891(0x227)]:!![];if(!_0x31327a)continue;const _0x8adeb5=_0xf013ad[_0x2b9891(0x1e6)]?_0xf013ad[_0x2b9891(0x1e6)]:_0xf013ad;if(_0x8adeb5)_0x33778b[_0x2b9891(0x226)](_0x8adeb5,0x0,0x0);}let _0x2465c4=document[_0x2b9891(0x229)]('a');_0x2465c4[_0x2b9891(0x1f1)]=_0x320be8+'-f'+(_0x5b18a4+0x1)+'.'+_0x22f4d1;if(_0x22f4d1===_0x2b9891(0x1de)||_0x22f4d1===_0x2b9891(0x20b)){let _0x316fc1=getExportQuality(),_0x57a9f5=Math[_0x2b9891(0x205)](0.1,Math[_0x2b9891(0x221)](0x1,_0x316fc1/0xa));_0x2465c4['href']=_0x3c5518['toDataURL'](_0x57232a,_0x57a9f5);}else _0x22f4d1==='png'?_0x2465c4[_0x2b9891(0x22e)]=_0x3c5518[_0x2b9891(0x21a)](_0x57232a):_0x2465c4[_0x2b9891(0x22e)]=_0x3c5518[_0x2b9891(0x21a)](_0x57232a);setTimeout(()=>_0x2465c4[_0x2b9891(0x1e2)](),_0x5b18a4*0x64);}}}async function exportWebpAnimation(_0x23cf87,_0x4679a0,_0x2e537a,_0x15aba8=_0x2f8444(0x1f3)){const _0x200bfa=_0x2f8444;if(!window[_0x200bfa(0x21b)]||!window[_0x200bfa(0x1f2)]){alert('このブラウザはWebCodecsによるWEBPアニメーションに対応していません。');return;}const _0xefeedd=[],_0x24282d=new VideoEncoder({'output':_0x4958cc=>_0xefeedd[_0x200bfa(0x210)](_0x4958cc),'error':_0x2969e6=>console[_0x200bfa(0x1f6)](_0x2969e6)});_0x24282d[_0x200bfa(0x21f)]({'codec':_0x200bfa(0x20e),'width':_0x4679a0,'height':_0x2e537a,'framerate':0x5});for(let _0x357d99=0x0;_0x357d99<_0x23cf87[_0x200bfa(0x1fc)];_0x357d99++){let _0x5ec9f8=document[_0x200bfa(0x229)](_0x200bfa(0x1e6));_0x5ec9f8[_0x200bfa(0x204)]=_0x4679a0,_0x5ec9f8[_0x200bfa(0x22d)]=_0x2e537a;let _0x1beb75=_0x5ec9f8['getContext']('2d'),_0x4afec8=_0x23cf87[_0x357d99];for(let _0x288df3=0x0;_0x288df3<(Array[_0x200bfa(0x1ef)](_0x4afec8['layers'])?_0x4afec8[_0x200bfa(0x1f5)][_0x200bfa(0x1fc)]:0x0);_0x288df3++){const _0x1a9775=_0x4afec8['layers'][_0x288df3];if(!_0x1a9775)continue;const _0x20e861=typeof _0x1a9775[_0x200bfa(0x227)]!==_0x200bfa(0x1e1)?_0x1a9775['visible']:!![];if(!_0x20e861)continue;const _0x73c5e9=_0x1a9775['canvas']?_0x1a9775['canvas']:_0x1a9775;if(_0x73c5e9)_0x1beb75[_0x200bfa(0x226)](_0x73c5e9,0x0,0x0);}let _0x1b87c4=await createImageBitmap(_0x5ec9f8);_0x24282d[_0x200bfa(0x222)](_0x1b87c4,{'keyFrame':!![],'duration':0xc8}),_0x1b87c4[_0x200bfa(0x1fe)]();}await _0x24282d[_0x200bfa(0x1ee)](),_0x24282d[_0x200bfa(0x1fe)]();const _0x2564fa=new Blob(_0xefeedd[_0x200bfa(0x1df)](_0x51244c=>_0x51244c[_0x200bfa(0x219)]?_0x51244c:_0x51244c['data']),{'type':'video/webm'}),_0x50c27a=document[_0x200bfa(0x229)]('a');_0x50c27a['download']=_0x15aba8+'.webm',_0x50c27a[_0x200bfa(0x22e)]=URL[_0x200bfa(0x220)](_0x2564fa),_0x50c27a[_0x200bfa(0x1e2)]();}function exportGif(){const _0x4062eb=_0x2f8444;try{showLoading('GIFに変換中...');}catch(_0x3334cb){}let _0x2383e3=getCurrentProject(),_0x57c5c2=_0x2383e3[_0x4062eb(0x1ff)],_0x48123b=_0x2383e3['width']*cellSize,_0x2b6065=_0x2383e3[_0x4062eb(0x22d)]*cellSize;const _0xfae8ce=_0x57c5c2[_0x4062eb(0x1df)](_0x3d1ff2=>{const _0x1c7933=_0x4062eb;let _0x50e97e=document['createElement'](_0x1c7933(0x1e6));_0x50e97e[_0x1c7933(0x204)]=_0x48123b,_0x50e97e['height']=_0x2b6065;let _0x2de5ff=_0x50e97e[_0x1c7933(0x215)]('2d');for(let _0x209613=0x0;_0x209613<(Array[_0x1c7933(0x1ef)](_0x3d1ff2['layers'])?_0x3d1ff2[_0x1c7933(0x1f5)]['length']:0x0);_0x209613++){const _0x537a83=_0x3d1ff2['layers'][_0x209613];if(!_0x537a83)continue;const _0x4e4714=typeof _0x537a83[_0x1c7933(0x227)]!=='undefined'?_0x537a83[_0x1c7933(0x227)]:!![];if(!_0x4e4714)continue;const _0x4a35a3=_0x537a83[_0x1c7933(0x1e6)]?_0x537a83[_0x1c7933(0x1e6)]:_0x537a83;if(_0x4a35a3)_0x2de5ff['drawImage'](_0x4a35a3,0x0,0x0);}return _0x50e97e['toDataURL'](_0x1c7933(0x1e9));});Promise['all'](_0xfae8ce[_0x4062eb(0x1df)](_0x419d67=>{return new Promise(_0x2c5696=>{const _0x58bbfc=_0x590d,_0x24bb1d=new Image();_0x24bb1d[_0x58bbfc(0x224)]=_0x419d67,_0x24bb1d[_0x58bbfc(0x1f7)]=()=>_0x2c5696(_0x24bb1d);});}))[_0x4062eb(0x1e4)](_0x2f57d4=>{const _0x3b546f=_0x4062eb,_0x4f95ed=_0x2f57d4['filter'](_0x3d5417=>_0x3d5417[_0x3b546f(0x204)]>0x0&&_0x3d5417[_0x3b546f(0x22d)]>0x0);if(_0x4f95ed[_0x3b546f(0x1fc)]===0x0){try{hideLoading();}catch(_0x48073b){}alert(_0x3b546f(0x217));return;}const _0x590cf3=(_0x2383e3[_0x3b546f(0x209)]||_0x3b546f(0x1f3))['replace'](/[\\/:*?"<>|]/g,'_');let _0x190d9f=getExportQuality(),_0xc23d66=0x1f-_0x190d9f*0x3;convertToGIF(_0x4f95ed,animationDelay,_0x590cf3+'.gif',_0xc23d66);})[_0x4062eb(0x206)](_0x15f704=>{const _0x303d38=_0x4062eb;try{hideLoading();}catch(_0x405846){};console[_0x303d38(0x1f6)](_0x15f704);});}function _0x590d(_0x5eca90,_0x1b1abc){_0x5eca90=_0x5eca90-0x1de;const _0xe59e7d=_0x3125();let _0x51ffb6=_0xe59e7d[_0x5eca90];return _0x51ffb6;}function exportApng(){const _0x339146=_0x2f8444;try{showLoading(_0x339146(0x208));}catch(_0x1394fc){}let _0x2ddf0d=getCurrentProject(),_0x7274e9=_0x2ddf0d[_0x339146(0x1ff)],_0x1151e9=_0x2ddf0d[_0x339146(0x204)]*cellSize,_0x69e75=_0x2ddf0d['height']*cellSize;const _0x4990a0=_0x7274e9[_0x339146(0x1df)](_0x640165=>{const _0x404d9b=_0x339146;let _0x420934=document[_0x404d9b(0x229)](_0x404d9b(0x1e6));_0x420934[_0x404d9b(0x204)]=_0x1151e9,_0x420934[_0x404d9b(0x22d)]=_0x69e75;let _0x25fd4d=_0x420934[_0x404d9b(0x215)]('2d');for(let _0xc4ff6f=0x0;_0xc4ff6f<(Array[_0x404d9b(0x1ef)](_0x640165[_0x404d9b(0x1f5)])?_0x640165[_0x404d9b(0x1f5)][_0x404d9b(0x1fc)]:0x0);_0xc4ff6f++){const _0xc23807=_0x640165['layers'][_0xc4ff6f];if(!_0xc23807)continue;const _0x44c64a=typeof _0xc23807[_0x404d9b(0x227)]!=='undefined'?_0xc23807['visible']:!![];if(!_0x44c64a)continue;const _0x58fbcc=_0xc23807[_0x404d9b(0x1e6)]?_0xc23807[_0x404d9b(0x1e6)]:_0xc23807;if(_0x58fbcc)_0x25fd4d[_0x404d9b(0x226)](_0x58fbcc,0x0,0x0);}let _0xeca3e4=new Image();return _0xeca3e4[_0x404d9b(0x224)]=_0x420934[_0x404d9b(0x21a)](_0x404d9b(0x1e9)),_0xeca3e4;}),_0x3a942e=(_0x2ddf0d[_0x339146(0x209)]||'nezumi-animation')['replace'](/[\\/:*?"<>|]/g,'_');let _0x3ce6ee=getExportQuality(),_0x1d9d5a=Math['max'](0x0,Math[_0x339146(0x221)](0xa,0xb-_0x3ce6ee));convertToAPNG(_0x4990a0,_0x1151e9,_0x69e75,animationDelay,_0x3a942e+_0x339146(0x225),_0x1d9d5a);}async function convertToGIF(_0x2f88f2,_0x5b3299=0xc8,_0x3d4e8a='nezumi-animation.gif',_0x2cd396=0xa){const _0x32e4a8=_0x2f8444,_0x2fb209=new window[(_0x32e4a8(0x1e0))]({'workers':0x2,'quality':_0x2cd396,'workerScript':'lib/gif.worker.js'});_0x2f88f2[_0x32e4a8(0x202)](_0x10b42b=>_0x2fb209[_0x32e4a8(0x22c)](_0x10b42b,{'delay':_0x5b3299})),_0x2fb209['on']('finished',_0x11e5ff=>{const _0x341d55=_0x32e4a8,_0x480de9=URL[_0x341d55(0x220)](_0x11e5ff),_0x45e00d=document[_0x341d55(0x229)]('a');_0x45e00d[_0x341d55(0x22e)]=_0x480de9,_0x45e00d['download']=_0x3d4e8a,document['body'][_0x341d55(0x216)](_0x45e00d),_0x45e00d[_0x341d55(0x1e2)](),setTimeout(()=>{const _0x1c6551=_0x341d55;document[_0x1c6551(0x1f0)][_0x1c6551(0x1fd)](_0x45e00d),URL[_0x1c6551(0x1ec)](_0x480de9);try{hideLoading();}catch(_0x106bca){}},0x3e8);}),_0x2fb209[_0x32e4a8(0x20a)]();}function makeAPNGBlob(_0x3a96bd,_0x5070e5,_0x5c7351,_0x10209a=0xc8,_0x13dabc=0x0){const _0x4c06d3=_0x2f8444,_0x4ce950=[],_0x31a434=[],_0x26a07b=document[_0x4c06d3(0x229)](_0x4c06d3(0x1e6));_0x26a07b[_0x4c06d3(0x204)]=_0x5070e5,_0x26a07b[_0x4c06d3(0x22d)]=_0x5c7351;const _0x4f1b36=_0x26a07b[_0x4c06d3(0x215)]('2d');_0x3a96bd[_0x4c06d3(0x202)](_0x465d18=>{const _0x7d8e34=_0x4c06d3;_0x4f1b36[_0x7d8e34(0x1eb)](0x0,0x0,_0x5070e5,_0x5c7351),_0x4f1b36[_0x7d8e34(0x226)](_0x465d18,0x0,0x0,_0x5070e5,_0x5c7351);const _0x429b6b=_0x4f1b36['getImageData'](0x0,0x0,_0x5070e5,_0x5c7351)[_0x7d8e34(0x1fa)][_0x7d8e34(0x218)];_0x4ce950[_0x7d8e34(0x210)](_0x429b6b),_0x31a434[_0x7d8e34(0x210)](_0x10209a);});const _0x436133=window[_0x4c06d3(0x203)][_0x4c06d3(0x222)](_0x4ce950,_0x5070e5,_0x5c7351,_0x13dabc,_0x31a434);return new Blob([_0x436133],{'type':_0x4c06d3(0x21c)});}function convertToAPNG(_0xd94383,_0x4419ec,_0x5d620a,_0x1280b6=0xc8,_0x808773='nezumi-animation.apng',_0x21c9e4=0x0){const _0x44dc1c=_0x2f8444,_0x4472dd=makeAPNGBlob(_0xd94383,_0x4419ec,_0x5d620a,_0x1280b6,_0x21c9e4),_0x32949b=URL[_0x44dc1c(0x220)](_0x4472dd),_0x4fed9e=document[_0x44dc1c(0x229)]('a');_0x4fed9e[_0x44dc1c(0x22e)]=_0x32949b,_0x4fed9e['download']=_0x808773,document['body'][_0x44dc1c(0x216)](_0x4fed9e),_0x4fed9e['click'](),setTimeout(()=>{const _0x4cd184=_0x44dc1c;document[_0x4cd184(0x1f0)][_0x4cd184(0x1fd)](_0x4fed9e),URL[_0x4cd184(0x1ec)](_0x32949b);try{hideLoading();}catch(_0x592d7e){}},0x3e8);}function exportSpriteSheetDialog(){const _0x3ab71f=_0x2f8444;let _0x2b6a86=prompt(_0x3ab71f(0x1f4),'1');if(_0x2b6a86===null)return;let _0x528e2b=Math[_0x3ab71f(0x205)](0x1,parseInt(_0x2b6a86,0xa)||0x1),_0x1f7cf6=prompt(_0x3ab71f(0x228),'0');if(_0x1f7cf6===null)return;let _0x4a3bc2=Math[_0x3ab71f(0x205)](0x0,parseInt(_0x1f7cf6,0xa)||0x0);exportSpriteSheet(_0x528e2b,_0x4a3bc2);}function exportSpriteSheet(_0xf2242d=0x1,_0x2c358a=0x0){const _0xe128d0=_0x2f8444,_0x35de0d=getCurrentProject();if(!_0x35de0d){alert(_0xe128d0(0x20d));return;}const _0x80637b=_0x35de0d[_0xe128d0(0x1ff)];if(!_0x80637b||_0x80637b[_0xe128d0(0x1fc)]===0x0){alert(_0xe128d0(0x1ea));return;}const _0x44e7cf=_0x35de0d['width']*cellSize,_0x4d9bf4=_0x35de0d[_0xe128d0(0x22d)]*cellSize,_0x5e1f2a=_0x44e7cf*_0x80637b[_0xe128d0(0x1fc)]*_0xf2242d+Math[_0xe128d0(0x205)](0x0,_0x80637b[_0xe128d0(0x1fc)]-0x1)*_0x2c358a,_0x2bbd2d=_0x4d9bf4*_0xf2242d,_0x33f02e=document[_0xe128d0(0x229)]('canvas');_0x33f02e['width']=_0x5e1f2a,_0x33f02e[_0xe128d0(0x22d)]=_0x2bbd2d;const _0x5cd924=_0x33f02e[_0xe128d0(0x215)]('2d');_0x5cd924[_0xe128d0(0x1eb)](0x0,0x0,_0x33f02e[_0xe128d0(0x204)],_0x33f02e[_0xe128d0(0x22d)]);let _0x29ba16=0x0;for(let _0x10efae=0x0;_0x10efae<_0x80637b[_0xe128d0(0x1fc)];_0x10efae++){let _0x586620=document[_0xe128d0(0x229)](_0xe128d0(0x1e6));_0x586620['width']=_0x44e7cf,_0x586620[_0xe128d0(0x22d)]=_0x4d9bf4;let _0x5cfb75=_0x586620[_0xe128d0(0x215)]('2d');for(let _0xc29618=0x0;_0xc29618<(Array['isArray'](_0x80637b[_0x10efae][_0xe128d0(0x1f5)])?_0x80637b[_0x10efae][_0xe128d0(0x1f5)]['length']:0x0);_0xc29618++){const _0x1f5156=_0x80637b[_0x10efae][_0xe128d0(0x1f5)][_0xc29618];if(!_0x1f5156)continue;const _0x1f4ff9=typeof _0x1f5156[_0xe128d0(0x227)]!=='undefined'?_0x1f5156[_0xe128d0(0x227)]:!![];if(!_0x1f4ff9)continue;const _0x45dff2=_0x1f5156[_0xe128d0(0x1e6)]?_0x1f5156[_0xe128d0(0x1e6)]:_0x1f5156;if(_0x45dff2)_0x5cfb75[_0xe128d0(0x226)](_0x45dff2,0x0,0x0);}_0xf2242d===0x1&&_0x2c358a===0x0?(_0x5cd924[_0xe128d0(0x226)](_0x586620,_0x29ba16,0x0),_0x29ba16+=_0x44e7cf):(_0x5cd924['drawImage'](_0x586620,0x0,0x0,_0x44e7cf,_0x4d9bf4,_0x29ba16,0x0,_0x44e7cf*_0xf2242d,_0x4d9bf4*_0xf2242d),_0x29ba16+=_0x44e7cf*_0xf2242d),_0x10efae<_0x80637b['length']-0x1&&_0x2c358a>0x0&&(_0x29ba16+=_0x2c358a);}const _0x567151=(_0x35de0d[_0xe128d0(0x209)]||_0xe128d0(0x214))[_0xe128d0(0x207)](/[\\/:*?"<>|]/g,'_'),_0x4f683f=document[_0xe128d0(0x229)]('a');_0x4f683f[_0xe128d0(0x22e)]=_0x33f02e['toDataURL'](_0xe128d0(0x1e9)),_0x4f683f[_0xe128d0(0x1f1)]=_0x567151+_0xe128d0(0x1f8),document[_0xe128d0(0x1f0)][_0xe128d0(0x216)](_0x4f683f),_0x4f683f[_0xe128d0(0x1e2)](),setTimeout(()=>{const _0x2e994b=_0xe128d0;document['body'][_0x2e994b(0x1fd)](_0x4f683f);},0x3e8);}async function exportStandalone(){const _0x362146=_0x2f8444;try{showLoading('書き出し中...');}catch(_0x3c75be){}let _0x564cf9=getCurrentProject(),_0xb23516=_0x564cf9[_0x362146(0x1ff)],_0x130731=_0x564cf9[_0x362146(0x204)]*cellSize,_0x2b9be0=_0x564cf9['height']*cellSize;const _0x511b0d=_0xb23516['map'](_0x150d89=>{const _0x46fe93=_0x362146;let _0x5cd8c9=document[_0x46fe93(0x229)](_0x46fe93(0x1e6));_0x5cd8c9[_0x46fe93(0x204)]=_0x130731,_0x5cd8c9['height']=_0x2b9be0;let _0x5bcdfb=_0x5cd8c9[_0x46fe93(0x215)]('2d');for(let _0x284e34=0x0;_0x284e34<_0x150d89['layers'][_0x46fe93(0x1fc)];_0x284e34++){const _0x3858d4=_0x150d89['layers'][_0x284e34]&&_0x150d89[_0x46fe93(0x1f5)][_0x284e34]['canvas']?_0x150d89[_0x46fe93(0x1f5)][_0x284e34][_0x46fe93(0x1e6)]:_0x150d89[_0x46fe93(0x1f5)][_0x284e34];if(_0x3858d4)_0x5bcdfb[_0x46fe93(0x226)](_0x3858d4,0x0,0x0);}let _0x42a7af=new Image();return _0x42a7af[_0x46fe93(0x224)]=_0x5cd8c9['toDataURL'](_0x46fe93(0x1e9)),_0x42a7af;});await Promise[_0x362146(0x22a)](_0x511b0d[_0x362146(0x1df)](_0x7af70f=>new Promise(_0x4d0f57=>{const _0x350d47=_0x362146;_0x7af70f[_0x350d47(0x1f7)]=_0x4d0f57;})))[_0x362146(0x206)](()=>{});const _0x81179=(_0x564cf9[_0x362146(0x209)]||'nezumi-animation')[_0x362146(0x207)](/[\\/:*?"<>|]/g,'_'),_0x3d6fab=makeAPNGBlob(_0x511b0d,_0x130731,_0x2b9be0,animationDelay),_0x20894e={'type':_0x362146(0x20c),'version':0x1,'project':{'width':_0x564cf9[_0x362146(0x204)],'height':_0x564cf9[_0x362146(0x22d)],'name':_0x564cf9['name']||'','activeFrame':_0x564cf9['activeFrame'],'frames':_0x564cf9[_0x362146(0x1ff)][_0x362146(0x1df)](_0x582b5f=>({'activeLayer':_0x582b5f[_0x362146(0x21d)],'layers':_0x582b5f[_0x362146(0x1f5)][_0x362146(0x1df)](_0x26ee1d=>_0x26ee1d&&_0x26ee1d[_0x362146(0x1e6)]?_0x26ee1d[_0x362146(0x1e6)][_0x362146(0x21a)]():_0x26ee1d&&_0x26ee1d[_0x362146(0x21a)]?_0x26ee1d['toDataURL']():null)}))}},_0x1e81b3=appendMetadataToBlob(_0x3d6fab,_0x20894e),_0x62a9e8=URL[_0x362146(0x220)](_0x1e81b3),_0x377b7e=document['createElement']('a');_0x377b7e[_0x362146(0x22e)]=_0x62a9e8,_0x377b7e[_0x362146(0x1f1)]=_0x81179+_0x362146(0x225),document[_0x362146(0x1f0)][_0x362146(0x216)](_0x377b7e);try{hideLoading();}catch(_0x244b70){}_0x377b7e[_0x362146(0x1e2)](),setTimeout(()=>{const _0x3d5c0e=_0x362146;document[_0x3d5c0e(0x1f0)][_0x3d5c0e(0x1fd)](_0x377b7e),URL[_0x3d5c0e(0x1ec)](_0x62a9e8);},0x3e8);}