const _0x4121e7=_0x163d;(function(_0xf33ba0,_0x325ce9){const _0x655eef=_0x163d,_0x3d371c=_0xf33ba0();while(!![]){try{const _0x243fca=-parseInt(_0x655eef(0x11e))/0x1+parseInt(_0x655eef(0x10d))/0x2*(-parseInt(_0x655eef(0x15e))/0x3)+parseInt(_0x655eef(0x12f))/0x4+-parseInt(_0x655eef(0x141))/0x5+-parseInt(_0x655eef(0xe8))/0x6+-parseInt(_0x655eef(0x146))/0x7+parseInt(_0x655eef(0x13a))/0x8*(parseInt(_0x655eef(0x12d))/0x9);if(_0x243fca===_0x325ce9)break;else _0x3d371c['push'](_0x3d371c['shift']());}catch(_0x5875bf){_0x3d371c['push'](_0x3d371c['shift']());}}}(_0x2b79,0x7c8a4));const _0x703b97=(function(){let _0x486b5c=!![];return function(_0x32e1a7,_0x1247ea){const _0x55bd65=_0x486b5c?function(){const _0xc6afb5=_0x163d;if(_0x1247ea){const _0x188bec=_0x1247ea[_0xc6afb5(0xf1)](_0x32e1a7,arguments);return _0x1247ea=null,_0x188bec;}}:function(){};return _0x486b5c=![],_0x55bd65;};}()),_0x1a641b=_0x703b97(this,function(){const _0x258380=_0x163d;return _0x1a641b[_0x258380(0xe4)]()[_0x258380(0xfa)](_0x258380(0x122))[_0x258380(0xe4)]()[_0x258380(0x159)](_0x1a641b)['search'](_0x258380(0x122));});_0x1a641b();function playAnimation(){const _0x4322c9=_0x163d,_0x5ee97a=getCurrentProject();if(!_0x5ee97a||!_0x5ee97a['frames']||_0x5ee97a[_0x4322c9(0x143)][_0x4322c9(0x15d)]<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x595074=_0x5ee97a[_0x4322c9(0x143)];animationTimer=setInterval(()=>{const _0x494d0b=_0x4322c9;ctx[_0x494d0b(0x14a)](0x0,0x0,canvas[_0x494d0b(0x152)],canvas[_0x494d0b(0xed)]);const _0x3332ee=_0x595074[animationIndex];for(let _0x39db8e=0x0;_0x39db8e<_0x3332ee[_0x494d0b(0x137)][_0x494d0b(0x15d)];_0x39db8e++){let _0x3da143=_0x3332ee[_0x494d0b(0x137)][_0x39db8e],_0x347c89=null;if(_0x3da143 instanceof HTMLCanvasElement)_0x347c89=_0x3da143;else _0x3da143[_0x494d0b(0x13f)]instanceof HTMLCanvasElement&&(_0x347c89=_0x3da143['canvas']);_0x347c89?ctx[_0x494d0b(0x142)](_0x347c89,0x0,0x0):console['warn'](_0x494d0b(0xef),_0x3da143);}drawGrid(_0x5ee97a[_0x494d0b(0x152)],_0x5ee97a['height']),animationIndex=(animationIndex+0x1)%_0x595074[_0x494d0b(0x15d)];},animationDelay),updateAnimUi(!![]);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll()),updateAnimUi(![]);}function setAnimationDelay(_0x1b0c0d){const _0x1d194b=_0x163d;_0x1b0c0d=Math[_0x1d194b(0x140)](0xa,parseInt(_0x1b0c0d,0xa)||0x12c),animationDelay=_0x1b0c0d,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x18bc13){const _0x40cc9d=_0x163d;currentTool=_0x18bc13,isDrawing=![],document[_0x40cc9d(0x14b)](_0x40cc9d(0x139))[_0x40cc9d(0x10f)](_0x54cdcf=>{const _0x5aabec=_0x40cc9d;_0x54cdcf[_0x5aabec(0x150)][_0x5aabec(0x158)](_0x5aabec(0x134),_0x54cdcf[_0x5aabec(0x144)][_0x5aabec(0x13c)]===_0x18bc13);}),document[_0x40cc9d(0x14b)]('#palette-toolbar\x20.tool-btn')['forEach'](_0x2137c6=>{const _0x4c1512=_0x40cc9d;_0x2137c6['classList']['toggle'](_0x4c1512(0x134),_0x2137c6['dataset'][_0x4c1512(0x13c)]===_0x18bc13);}),_0x18bc13===_0x40cc9d(0x15b)?canvas['style']['cursor']=_0x40cc9d(0xfd):canvas[_0x40cc9d(0xe5)][_0x40cc9d(0x156)]=_0x40cc9d(0x104);}function getTouchPos(_0x5a112a){const _0x3ac720=_0x163d;if(!_0x5a112a)return null;const _0x19048=canvas[_0x3ac720(0x118)]();let _0x22bc7a=null;if(_0x5a112a['touches']&&_0x5a112a[_0x3ac720(0xea)]['length']>0x0)_0x22bc7a=_0x5a112a[_0x3ac720(0xea)][0x0];else{if(_0x5a112a[_0x3ac720(0x11a)]&&_0x5a112a[_0x3ac720(0x11a)][_0x3ac720(0x15d)]>0x0)_0x22bc7a=_0x5a112a[_0x3ac720(0x11a)][0x0];else{if(_0x5a112a[_0x3ac720(0x12c)]!=null&&_0x5a112a[_0x3ac720(0x135)]!=null)_0x22bc7a=_0x5a112a;else return null;}}const _0x3de954=canvas['width']/_0x19048[_0x3ac720(0x152)],_0x53bb30=canvas['height']/_0x19048[_0x3ac720(0xed)],_0x1c0d6c=(_0x22bc7a['clientX']-_0x19048[_0x3ac720(0xf0)])*_0x3de954,_0x44df27=(_0x22bc7a[_0x3ac720(0x135)]-_0x19048['top'])*_0x53bb30;return{'x':Math['floor'](_0x1c0d6c/cellSize),'y':Math[_0x3ac720(0x149)](_0x44df27/cellSize)};}function applyTheme(_0x52c962){const _0x3e7a8f=_0x163d;document[_0x3e7a8f(0x115)][_0x3e7a8f(0x14d)](_0x3e7a8f(0x151),_0x52c962);const _0x4a8664=document['getElementById']('themeToggleBtn');_0x4a8664&&(_0x4a8664[_0x3e7a8f(0x107)]=_0x52c962===_0x3e7a8f(0x109)?'‚òÄÔ∏è':'üåô',_0x4a8664[_0x3e7a8f(0x14d)](_0x3e7a8f(0xf9),_0x52c962===_0x3e7a8f(0x109)),_0x4a8664[_0x3e7a8f(0x11f)]=_0x52c962==='dark'?_0x3e7a8f(0x13d):'„ÉÄ„Éº„ÇØ„ÉÜ„Éº„Éû„Å´ÂàáÊõø'),localStorage[_0x3e7a8f(0xee)](_0x3e7a8f(0x162),_0x52c962);}function updateUndoRedoButtons(){const _0x5766cf=_0x163d,_0x48f445=getCurrentFrame(),_0x77167c=document[_0x5766cf(0x11d)](_0x5766cf(0x120)),_0x43b0dc=document[_0x5766cf(0x11d)]('redoBtn');if(!_0x48f445){if(_0x77167c)_0x77167c['disabled']=!![];if(_0x43b0dc)_0x43b0dc[_0x5766cf(0x103)]=!![];return;}const _0x5dd9c7=typeof _0x48f445['activeLayer']===_0x5766cf(0xf5)?_0x48f445[_0x5766cf(0x15a)]:-0x1;if(_0x5dd9c7<0x0){if(_0x77167c)_0x77167c[_0x5766cf(0x103)]=!![];if(_0x43b0dc)_0x43b0dc[_0x5766cf(0x103)]=!![];return;}const _0x5739aa=Array['isArray'](_0x48f445['layerHistories'])&&_0x48f445[_0x5766cf(0x14f)][_0x5dd9c7]?_0x48f445[_0x5766cf(0x14f)][_0x5dd9c7]:[],_0x152997=Array[_0x5766cf(0xf2)](_0x48f445[_0x5766cf(0x12e)])&&_0x48f445[_0x5766cf(0x12e)][_0x5dd9c7]?_0x48f445['layerRedoStacks'][_0x5dd9c7]:[];if(_0x77167c)_0x77167c[_0x5766cf(0x103)]=!(_0x5739aa&&_0x5739aa['length']>=0x2);if(_0x43b0dc)_0x43b0dc[_0x5766cf(0x103)]=!(_0x152997&&_0x152997[_0x5766cf(0x15d)]>0x0);}function undo(){const _0x5abc17=_0x163d;let _0x59742d=getCurrentFrame();if(!_0x59742d||!Array['isArray'](_0x59742d[_0x5abc17(0x14f)])||!Array['isArray'](_0x59742d[_0x5abc17(0x12e)]))return;const _0x4dcd82=typeof _0x59742d['activeLayer']==='number'?_0x59742d[_0x5abc17(0x15a)]:-0x1;if(_0x4dcd82<0x0)return;const _0x3254a6=_0x59742d[_0x5abc17(0x14f)][_0x4dcd82],_0x4eced9=_0x59742d[_0x5abc17(0x12e)][_0x4dcd82];if(!_0x3254a6||_0x3254a6[_0x5abc17(0x15d)]<0x2)return;_0x4eced9[_0x5abc17(0x155)](_0x3254a6[_0x5abc17(0xfc)]()),updateUndoRedoButtons();const _0x42d6c4=new Image();_0x42d6c4[_0x5abc17(0x108)]=()=>{const _0x2f7bca=_0x5abc17,_0x1cc21a=_0x59742d['layers'][_0x4dcd82],_0x576214=_0x1cc21a&&_0x1cc21a[_0x2f7bca(0x13f)]?_0x1cc21a[_0x2f7bca(0x13f)]:_0x1cc21a;if(!_0x576214)return;let _0xba8376=_0x576214['getContext']('2d');_0xba8376[_0x2f7bca(0x14a)](0x0,0x0,_0x576214[_0x2f7bca(0x152)],_0x576214['height']),_0xba8376[_0x2f7bca(0x142)](_0x42d6c4,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x42d6c4[_0x5abc17(0x132)]=_0x3254a6[_0x3254a6['length']-0x1];}function redo(){const _0xce5c2b=_0x163d;let _0x177bf8=getCurrentFrame();if(!_0x177bf8||!Array[_0xce5c2b(0xf2)](_0x177bf8[_0xce5c2b(0x14f)])||!Array['isArray'](_0x177bf8[_0xce5c2b(0x12e)]))return;const _0x5c6790=typeof _0x177bf8[_0xce5c2b(0x15a)]===_0xce5c2b(0xf5)?_0x177bf8[_0xce5c2b(0x15a)]:-0x1;if(_0x5c6790<0x0)return;const _0x546f2a=_0x177bf8[_0xce5c2b(0x14f)][_0x5c6790],_0x523da4=_0x177bf8[_0xce5c2b(0x12e)][_0x5c6790];if(!_0x523da4||_0x523da4['length']===0x0)return;const _0x569d90=_0x523da4[_0xce5c2b(0xfc)]();if(_0x546f2a)_0x546f2a[_0xce5c2b(0x155)](_0x569d90);updateUndoRedoButtons();const _0x317962=new Image();_0x317962['onload']=()=>{const _0x27b0f3=_0xce5c2b,_0x4d1dc2=_0x177bf8[_0x27b0f3(0x137)][_0x5c6790],_0x44949c=_0x4d1dc2&&_0x4d1dc2[_0x27b0f3(0x13f)]?_0x4d1dc2['canvas']:_0x4d1dc2;if(!_0x44949c)return;let _0x3cc6cd=_0x44949c[_0x27b0f3(0x12a)]('2d');_0x3cc6cd[_0x27b0f3(0x14a)](0x0,0x0,_0x44949c[_0x27b0f3(0x152)],_0x44949c[_0x27b0f3(0xed)]),_0x3cc6cd[_0x27b0f3(0x142)](_0x317962,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x317962[_0xce5c2b(0x132)]=_0x569d90;}function wait(_0x46f4ff){return new Promise(_0x16790d=>setTimeout(_0x16790d,_0x46f4ff));}function showLoading(_0xde33f7){const _0x2e551a=_0x163d;try{const _0x409804=document[_0x2e551a(0x11d)](_0x2e551a(0x102));if(!_0x409804)return;const _0x37131e=document['getElementById'](_0x2e551a(0x10c));if(_0x37131e&&_0xde33f7)_0x37131e[_0x2e551a(0x107)]=_0xde33f7;_0x409804[_0x2e551a(0xe5)][_0x2e551a(0x13b)]=_0x2e551a(0xec),_0x409804[_0x2e551a(0xf7)](_0x2e551a(0x128));}catch(_0x4a09e8){console['warn']('showLoading\x20error',_0x4a09e8);}}function _0x163d(_0x406e74,_0x52379e){_0x406e74=_0x406e74-0xe4;const _0x557018=_0x2b79();let _0x1a641b=_0x557018[_0x406e74];return _0x1a641b;}function hideLoading(){const _0x39433a=_0x163d;try{const _0x5907e1=document[_0x39433a(0x11d)]('loading-overlay');if(!_0x5907e1)return;_0x5907e1[_0x39433a(0xe5)]['display']='none',_0x5907e1[_0x39433a(0x14d)](_0x39433a(0x128),'');}catch(_0x2b2c1e){console['warn'](_0x39433a(0x100),_0x2b2c1e);}}function _0x2b79(){const _0x20e53a=['apply','isArray','hideLoading','ontouchend','number','animStatus','removeAttribute','used-color-swatch','aria-pressed','search','zoomValue','pop','grab','transparent-swatch','min','hideLoading\x20error','used-color-count','loading-overlay','disabled','crosshair','frontDimBtn','ÂâçÈù¢ÈÄèÈÅé','textContent','onload','dark','onmouseup','ÂâçÈù¢„É¨„Ç§„É§„Éº„ÇíËñÑ„ÅèË°®Á§∫','loading-message','4OtGreg','subarray','forEach','gridToggleBtn','boolean','round','ontouchstart','onmousedown','documentElement','touchend','value','getBoundingClientRect','scanColorsPanel','changedTouches','top','„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çà„Çä‰∏ä„ÇíËñÑ„ÅèË°®Á§∫‰∏≠','getElementById','298873eXFAYl','title','undoBtn','onclick','(((.+)+)+)+$','colorPicker','transparent','ÂâçÈù¢ÈÄèÈÅé‰∏≠','„Ç∞„É™„ÉÉ„ÉâOFF','used-color-grid','hidden','appendChild','getContext','used-color-label','clientX','756QzdnvR','layerRedoStacks','152224jTRIMW','innerHTML','ontouchcancel','src','toFixed','active','clientY','add','layers','Ëâ≤„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü','.tool-btn','261376BYwwcp','display','tool','„É©„Ç§„Éà„ÉÜ„Éº„Éû„Å´ÂàáÊõø','onmousemove','canvas','max','3688490UHphkV','drawImage','frames','dataset','zoomSlider','1649361PABtLB','removeEventListener','ÂÅúÊ≠¢‰∏≠','floor','clearRect','querySelectorAll','querySelector','setAttribute','addEventListener','layerHistories','classList','data-theme','width','rgba(','touchcancel','push','cursor','ÂÜçÁîü‰∏≠','toggle','constructor','activeLayer','pan','„Ç∞„É™„ÉÉ„ÉâON','length','546477hycrtd','playBtn','createElement','className','nezumi-theme','toString','style','touchmove','showLoading','3815256cuEdIu','div','touches','stopBtn','flex','height','setItem','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','left'];_0x2b79=function(){return _0x20e53a;};return _0x2b79();}window[_0x4121e7(0xe7)]=showLoading,window[_0x4121e7(0xf3)]=hideLoading;function initCanvas(){const _0x1c25c9=_0x4121e7,_0x31d2d1=parseInt(0x10),_0x31d1ef=parseInt(0x10);let _0x5a4ad9=getCurrentProject();_0x5a4ad9[_0x1c25c9(0x152)]=_0x31d2d1,_0x5a4ad9[_0x1c25c9(0xed)]=_0x31d1ef,canvas['width']=_0x31d2d1*cellSize,canvas[_0x1c25c9(0xed)]=_0x31d1ef*cellSize,_0x5a4ad9[_0x1c25c9(0x137)]=[],_0x5a4ad9['layerHistories']=[],_0x5a4ad9[_0x1c25c9(0x12e)]=[];let _0x62bb9e=document['createElement']('canvas');_0x62bb9e[_0x1c25c9(0x152)]=_0x31d2d1*cellSize,_0x62bb9e[_0x1c25c9(0xed)]=_0x31d1ef*cellSize,_0x5a4ad9[_0x1c25c9(0x137)][_0x1c25c9(0x155)](_0x62bb9e),_0x5a4ad9[_0x1c25c9(0x14f)][_0x1c25c9(0x155)]([]),_0x5a4ad9['layerRedoStacks']['push']([]),_0x5a4ad9[_0x1c25c9(0x15a)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas[_0x1c25c9(0x114)]=null,canvas[_0x1c25c9(0x13e)]=null,canvas['onmouseup']=null,canvas['onmouseleave']=null,canvas[_0x1c25c9(0x113)]=null,canvas['ontouchmove']=null,canvas[_0x1c25c9(0xf4)]=null,canvas[_0x1c25c9(0x131)]=null,canvas['removeEventListener']('touchstart',handleTouchStart),canvas[_0x1c25c9(0x147)]('touchmove',handleTouchMove),canvas[_0x1c25c9(0x147)](_0x1c25c9(0x116),handleTouchEnd),canvas[_0x1c25c9(0x147)]('touchcancel',handleTouchEnd),canvas['onmousedown']=handleMouseDown,canvas[_0x1c25c9(0x13e)]=handleMouseMove,canvas[_0x1c25c9(0x10a)]=handleMouseUp,canvas['onmouseleave']=handleMouseUp,canvas[_0x1c25c9(0x113)]=handleTouchStart,canvas['ontouchmove']=handleTouchMove,canvas[_0x1c25c9(0xf4)]=handleTouchEnd,canvas[_0x1c25c9(0x131)]=handleTouchEnd,canvas[_0x1c25c9(0x14e)]('touchstart',handleTouchStart,{'passive':![]}),canvas[_0x1c25c9(0x14e)](_0x1c25c9(0xe6),handleTouchMove,{'passive':![]}),canvas['addEventListener']('touchend',handleTouchEnd,{'passive':![]}),canvas[_0x1c25c9(0x14e)](_0x1c25c9(0x154),handleTouchEnd,{'passive':![]});}function setAlpha(_0x2e050d){const _0x10e52f=_0x4121e7;let _0x3dbaf6=Math[_0x10e52f(0x140)](0x0,Math['min'](0x64,parseInt(_0x2e050d,0xa)||0x0));currentAlpha=_0x3dbaf6/0x64,updateCurrentColorSwatch();}function renderScanPanel(_0x81b369){const _0x1ec241=_0x4121e7,_0x519b41=document['getElementById'](_0x1ec241(0x119));if(!_0x519b41)return;_0x519b41[_0x1ec241(0x130)]='';if(!_0x81b369||_0x81b369[_0x1ec241(0x15d)]===0x0){_0x519b41[_0x1ec241(0x107)]=_0x1ec241(0x138);return;}const _0x4f0db1=document['createElement'](_0x1ec241(0xe9));_0x4f0db1[_0x1ec241(0x161)]=_0x1ec241(0x127),_0x81b369[_0x1ec241(0x10f)](_0x1be05d=>{const _0x52c342=_0x1ec241,_0x15c1dc=document[_0x52c342(0x160)](_0x52c342(0xe9));_0x15c1dc[_0x52c342(0x161)]='used-color-item';const _0x207e95=document[_0x52c342(0x160)](_0x52c342(0xe9));_0x207e95['className']=_0x52c342(0xf8);_0x1be05d['a']===0x0?_0x207e95[_0x52c342(0x150)][_0x52c342(0x136)](_0x52c342(0xfe)):_0x207e95['style']['background']=_0x52c342(0x153)+_0x1be05d['r']+','+_0x1be05d['g']+','+_0x1be05d['b']+','+(_0x1be05d['a']/0xff)[_0x52c342(0x133)](0x2)+')';const _0x4c9a65=document[_0x52c342(0x160)](_0x52c342(0xe9));_0x4c9a65[_0x52c342(0x161)]=_0x52c342(0x12b),_0x4c9a65[_0x52c342(0x107)]=_0x1be05d['a']===0x0?'ÈÄèÊòé':_0x1be05d['a']===0xff?rgbaToHex(_0x1be05d['r'],_0x1be05d['g'],_0x1be05d['b']):_0x52c342(0x153)+_0x1be05d['r']+','+_0x1be05d['g']+','+_0x1be05d['b']+','+(_0x1be05d['a']/0xff)[_0x52c342(0x133)](0x2)+')';const _0x2fee49=document[_0x52c342(0x160)](_0x52c342(0xe9));_0x2fee49[_0x52c342(0x161)]=_0x52c342(0x101),_0x2fee49[_0x52c342(0x107)]=_0x1be05d['count']+'„Çª„É´',_0x15c1dc[_0x52c342(0x129)](_0x207e95),_0x15c1dc['appendChild'](_0x4c9a65),_0x15c1dc['appendChild'](_0x2fee49),_0x15c1dc[_0x52c342(0x121)]=()=>{const _0x2fdc83=_0x52c342;if(_0x1be05d['a']===0x0){currentColor=_0x2fdc83(0x124);const _0x39a0d6=document[_0x2fdc83(0x11d)]('colorPicker');if(_0x39a0d6)_0x39a0d6[_0x2fdc83(0x117)]='#000000';setAlpha(0x0);}else{currentColor=rgbaToHex(_0x1be05d['r'],_0x1be05d['g'],_0x1be05d['b']);const _0x4a9014=document[_0x2fdc83(0x11d)](_0x2fdc83(0x123));if(_0x4a9014)_0x4a9014[_0x2fdc83(0x117)]=currentColor;setAlpha(Math[_0x2fdc83(0x112)](_0x1be05d['a']/0xff*0x64));}_0x519b41[_0x2fdc83(0xe5)][_0x2fdc83(0x13b)]='none';},_0x4f0db1[_0x52c342(0x129)](_0x15c1dc);}),_0x519b41[_0x1ec241(0x129)](_0x4f0db1);}function indexOfSubarray(_0x43dd5b,_0x2db8dd){const _0x2039b3=_0x4121e7;for(let _0x5216b6=0x0;_0x5216b6<=_0x43dd5b[_0x2039b3(0x15d)]-_0x2db8dd[_0x2039b3(0x15d)];_0x5216b6++){let _0x23c309=!![];for(let _0x4ca4e9=0x0;_0x4ca4e9<_0x2db8dd['length'];_0x4ca4e9++){if(_0x43dd5b[_0x5216b6+_0x4ca4e9]!==_0x2db8dd[_0x4ca4e9]){_0x23c309=![];break;}}if(_0x23c309)return _0x5216b6;}return-0x1;}function extractMetadataFromArrayBuffer(_0xbf2373){const _0x2851cc=_0x4121e7,_0xf44cf5=new TextEncoder()['encode'](NEZUMI_METADATA_SIG),_0x257c8c=new Uint8Array(_0xbf2373),_0x4d74fb=indexOfSubarray(_0x257c8c,_0xf44cf5);if(_0x4d74fb===-0x1)return null;const _0x2ed1aa=_0x257c8c[_0x2851cc(0x10e)](_0x4d74fb+_0xf44cf5[_0x2851cc(0x15d)]);try{const _0x4f95d1=new TextDecoder()['decode'](_0x2ed1aa);return JSON['parse'](_0x4f95d1);}catch(_0x1f3b49){return null;}}function setZoomValue(_0x506e29){const _0x545528=_0x4121e7,_0x5aa9a2=Math[_0x545528(0x140)](0x14,Math[_0x545528(0xff)](0x1f4,parseInt(_0x506e29,0xa)||0x64)),_0x409cfc=_0x5aa9a2/0x64;scale=_0x409cfc,updateTransform();const _0x228eaa=document[_0x545528(0x11d)](_0x545528(0x145)),_0x135269=document[_0x545528(0x11d)](_0x545528(0xfb));if(_0x228eaa)_0x228eaa[_0x545528(0x117)]=_0x5aa9a2;if(_0x135269)_0x135269[_0x545528(0x107)]=_0x5aa9a2+'%';}function zoomIn(){const _0xf965ad=_0x4121e7,_0x26c428=document[_0xf965ad(0x11d)](_0xf965ad(0x145));let _0x411604=_0x26c428?parseInt(_0x26c428[_0xf965ad(0x117)],0xa):Math[_0xf965ad(0x112)](scale*0x64);_0x411604=Math[_0xf965ad(0xff)](0x1f4,_0x411604+0xa),setZoomValue(_0x411604);}function zoomOut(){const _0x40f4c7=_0x4121e7,_0x15881e=document[_0x40f4c7(0x11d)](_0x40f4c7(0x145));let _0x558264=_0x15881e?parseInt(_0x15881e['value'],0xa):Math['round'](scale*0x64);_0x558264=Math['max'](0x14,_0x558264-0xa),setZoomValue(_0x558264);}function toggleGrid(_0x13a603){const _0xbcb8de=_0x4121e7;typeof _0x13a603===_0xbcb8de(0x111)?showGrid=_0x13a603:showGrid=!showGrid;const _0x1edffd=document[_0xbcb8de(0x11d)](_0xbcb8de(0x110));if(_0x1edffd){_0x1edffd[_0xbcb8de(0x150)][_0xbcb8de(0x158)](_0xbcb8de(0x134),showGrid),_0x1edffd[_0xbcb8de(0x11f)]=showGrid?_0xbcb8de(0x15c):_0xbcb8de(0x126);const _0x1ae1a5=_0x1edffd[_0xbcb8de(0x14c)]('.material-icons');if(_0x1ae1a5)_0x1ae1a5[_0xbcb8de(0x107)]=showGrid?'grid_on':'grid_off';}redrawAll();}function toggleFrontLayerDim(_0x58479a){const _0x3c439b=_0x4121e7;typeof _0x58479a===_0x3c439b(0x111)?dimFrontLayers=_0x58479a:dimFrontLayers=!dimFrontLayers;const _0x3de1f1=document[_0x3c439b(0x11d)](_0x3c439b(0x105));_0x3de1f1&&(_0x3de1f1[_0x3c439b(0x150)][_0x3c439b(0x158)](_0x3c439b(0x134),dimFrontLayers),_0x3de1f1[_0x3c439b(0x107)]=dimFrontLayers?_0x3c439b(0x125):_0x3c439b(0x106),_0x3de1f1['title']=dimFrontLayers?_0x3c439b(0x11c):_0x3c439b(0x10b)),redrawAll();}function updateAnimUi(_0x387399){const _0x152229=_0x4121e7,_0x1a5720=document['getElementById'](_0x152229(0x15f)),_0x23e8cc=document['getElementById'](_0x152229(0xeb)),_0x1a1de5=document['getElementById'](_0x152229(0xf6));if(_0x1a5720)_0x1a5720[_0x152229(0x150)][_0x152229(0x158)](_0x152229(0x134),!!_0x387399);if(_0x23e8cc)_0x23e8cc[_0x152229(0x150)][_0x152229(0x158)](_0x152229(0x134),!_0x387399);_0x1a1de5&&(_0x1a1de5[_0x152229(0x128)]=!_0x387399,_0x1a1de5['textContent']=_0x387399?_0x152229(0x157):_0x152229(0x148));}function getCanvasCoords(_0x245500){const _0x4432f2=_0x4121e7,_0xd2ceac=canvas[_0x4432f2(0x118)](),_0x36abcf=canvas[_0x4432f2(0x152)]/_0xd2ceac[_0x4432f2(0x152)],_0x27b9e9=canvas[_0x4432f2(0xed)]/_0xd2ceac[_0x4432f2(0xed)],_0x31b54d=(_0x245500['clientX']-_0xd2ceac['left'])*_0x36abcf,_0x3153c8=(_0x245500[_0x4432f2(0x135)]-_0xd2ceac[_0x4432f2(0x11b)])*_0x27b9e9;return{'x':_0x31b54d,'y':_0x3153c8};}