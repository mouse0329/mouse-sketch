const _0x2003e3=_0x59ba;(function(_0x57a6d2,_0x4cf84f){const _0x8f31af=_0x59ba,_0x55fb3e=_0x57a6d2();while(!![]){try{const _0xe51caa=-parseInt(_0x8f31af(0x1b7))/0x1*(-parseInt(_0x8f31af(0x1bb))/0x2)+parseInt(_0x8f31af(0x1b0))/0x3+-parseInt(_0x8f31af(0x1c3))/0x4+parseInt(_0x8f31af(0x1b8))/0x5*(-parseInt(_0x8f31af(0x1c5))/0x6)+-parseInt(_0x8f31af(0x1be))/0x7*(-parseInt(_0x8f31af(0x1ab))/0x8)+-parseInt(_0x8f31af(0x1ae))/0x9*(parseInt(_0x8f31af(0x1c9))/0xa)+parseInt(_0x8f31af(0x1ad))/0xb*(parseInt(_0x8f31af(0x1ba))/0xc);if(_0xe51caa===_0x4cf84f)break;else _0x55fb3e['push'](_0x55fb3e['shift']());}catch(_0x2ce21a){_0x55fb3e['push'](_0x55fb3e['shift']());}}}(_0x5e21,0xaa2a3));function _0x59ba(_0x25140e,_0x1fb584){_0x25140e=_0x25140e-0x1a7;const _0x104927=_0x5e21();let _0x189790=_0x104927[_0x25140e];return _0x189790;}const _0x2075c3=(function(){let _0x1aa3ef=!![];return function(_0xc9a50a,_0x23716d){const _0x4aaf46=_0x1aa3ef?function(){const _0x12b179=_0x59ba;if(_0x23716d){const _0x2e4c08=_0x23716d[_0x12b179(0x1b4)](_0xc9a50a,arguments);return _0x23716d=null,_0x2e4c08;}}:function(){};return _0x1aa3ef=![],_0x4aaf46;};}()),_0x189790=_0x2075c3(this,function(){const _0x3bb363=_0x59ba;return _0x189790[_0x3bb363(0x1bd)]()[_0x3bb363(0x1bf)]('(((.+)+)+)+$')[_0x3bb363(0x1bd)]()[_0x3bb363(0x1b9)](_0x189790)[_0x3bb363(0x1bf)]('(((.+)+)+)+$');});_0x189790();function _0x5e21(){const _0x3567f3=['1768296BHceBm','#ff9900','#0000ff','#deb887','apply','#00cc66','#ff0000','2ONGEDw','2949105zCDhcc','constructor','12ihynBo','26810nVxQFv','#ffd700','toString','14qmkOGT','search','#ff7f7f','#8b4513','square','4751112giTcfp','normal','6pmSIrN','#a52a2a','#ffcc00','#c0c0c0','3923530qumnLp','#00ffff','#ff00ff','#f5deb3','#ff1493','#0066cc','pen','5030024caZfKb','#00ff00','10925189SCpeWv','9vTlsAf','nezumi-store'];_0x5e21=function(){return _0x3567f3;};return _0x5e21();}let canvas=null,ctx=null,cellSize=0x14,wrapper=null,posX=0x0,posY=0x0,scale=0x1,showGrid=!![],dimFrontLayers=![];const FRONT_LAYER_DIM_ALPHA=0.35;let currentTool=_0x2003e3(0x1aa),penSize=0x1,penMode=_0x2003e3(0x1c2),penAlphaMode=_0x2003e3(0x1c4),currentColor=_0x2003e3(0x1b6),currentAlpha=0x1,colorPickMode=![],projects=[],activeProject=0x0,animationTimer=null,animationIndex=0x0,animationDelay=0x12c,isDrawing=![],lastMouse=null,lastTouch=null,panStart=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;const PAN_CANCEL_DISTANCE=0x28;let layerMoveState={'active':![],'startCell':null,'offsetCells':{'x':0x0,'y':0x0}};const DEFAULT_PALETTE=['transparent','#000000','#ffffff','#808080',_0x2003e3(0x1c8),_0x2003e3(0x1b6),_0x2003e3(0x1c0),_0x2003e3(0x1b1),_0x2003e3(0x1c7),_0x2003e3(0x1ac),_0x2003e3(0x1b5),_0x2003e3(0x1b2),_0x2003e3(0x1a9),_0x2003e3(0x1ca),'#4b0082','#800080',_0x2003e3(0x1cb),_0x2003e3(0x1bc),_0x2003e3(0x1a7),_0x2003e3(0x1b3),_0x2003e3(0x1c1),_0x2003e3(0x1c6),_0x2003e3(0x1a8),'#2e8b57'];let PALETTE_COLORS=DEFAULT_PALETTE['slice'](),copiedLayerDataUrl=null;const dbName='nezumi-sketch-db',storeName=_0x2003e3(0x1af),NEZUMI_METADATA_SIG='NEZUMI_META::';let lastColorScanAt=0x0;const COLOR_SCAN_INTERVAL_MS=0xfa;