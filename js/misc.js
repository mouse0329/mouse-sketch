const _0x2cf82e=_0x55f5;(function(_0x2665ff,_0x4f0903){const _0x442eb4=_0x55f5,_0x116193=_0x2665ff();while(!![]){try{const _0x4dde80=-parseInt(_0x442eb4(0x1c1))/0x1*(parseInt(_0x442eb4(0x1bd))/0x2)+parseInt(_0x442eb4(0x1c9))/0x3+parseInt(_0x442eb4(0x1ac))/0x4+-parseInt(_0x442eb4(0x171))/0x5*(-parseInt(_0x442eb4(0x1ba))/0x6)+parseInt(_0x442eb4(0x1c4))/0x7*(-parseInt(_0x442eb4(0x198))/0x8)+parseInt(_0x442eb4(0x161))/0x9*(-parseInt(_0x442eb4(0x195))/0xa)+parseInt(_0x442eb4(0x1a2))/0xb;if(_0x4dde80===_0x4f0903)break;else _0x116193['push'](_0x116193['shift']());}catch(_0x302545){_0x116193['push'](_0x116193['shift']());}}}(_0x174b,0xf3052));const _0x298794=(function(){let _0x2f0a92=!![];return function(_0x269140,_0x1fc661){const _0x42ea69=_0x2f0a92?function(){const _0x300be9=_0x55f5;if(_0x1fc661){const _0x387c18=_0x1fc661[_0x300be9(0x18b)](_0x269140,arguments);return _0x1fc661=null,_0x387c18;}}:function(){};return _0x2f0a92=![],_0x42ea69;};}()),_0x35ebd0=_0x298794(this,function(){const _0x2d0c2a=_0x55f5;return _0x35ebd0[_0x2d0c2a(0x1b7)]()[_0x2d0c2a(0x1b6)](_0x2d0c2a(0x18f))[_0x2d0c2a(0x1b7)]()['constructor'](_0x35ebd0)[_0x2d0c2a(0x1b6)]('(((.+)+)+)+$');});_0x35ebd0();function playAnimation(){const _0x14bfa6=_0x55f5,_0x496da5=getCurrentProject();if(!_0x496da5||!_0x496da5[_0x14bfa6(0x1aa)]||_0x496da5[_0x14bfa6(0x1aa)][_0x14bfa6(0x1b2)]<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x265d04=_0x496da5[_0x14bfa6(0x1aa)];animationTimer=setInterval(()=>{const _0x4ff917=_0x14bfa6;ctx[_0x4ff917(0x17a)](0x0,0x0,canvas[_0x4ff917(0x1d3)],canvas[_0x4ff917(0x197)]);const _0x2bffbd=_0x265d04[animationIndex];for(let _0x5d7502=0x0;_0x5d7502<_0x2bffbd['layers'][_0x4ff917(0x1b2)];_0x5d7502++){let _0x5631a6=_0x2bffbd['layers'][_0x5d7502],_0x927e84=null;if(_0x5631a6 instanceof HTMLCanvasElement)_0x927e84=_0x5631a6;else _0x5631a6[_0x4ff917(0x163)]instanceof HTMLCanvasElement&&(_0x927e84=_0x5631a6[_0x4ff917(0x163)]);_0x927e84?ctx['drawImage'](_0x927e84,0x0,0x0):console[_0x4ff917(0x1d6)](_0x4ff917(0x1d0),_0x5631a6);}drawGrid(_0x496da5['width'],_0x496da5['height']),animationIndex=(animationIndex+0x1)%_0x265d04[_0x4ff917(0x1b2)];},animationDelay),updateAnimUi(!![]);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll()),updateAnimUi(![]);}function setAnimationDelay(_0x38db27){const _0x286af6=_0x55f5;_0x38db27=Math[_0x286af6(0x1af)](0xa,parseInt(_0x38db27,0xa)||0x12c),animationDelay=_0x38db27,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x321c00){const _0x54fda0=_0x55f5;currentTool=_0x321c00,isDrawing=![],document['querySelectorAll'](_0x54fda0(0x173))[_0x54fda0(0x15b)](_0x371ca5=>{const _0x4f6f41=_0x54fda0;_0x371ca5['classList']['toggle'](_0x4f6f41(0x185),_0x371ca5[_0x4f6f41(0x180)][_0x4f6f41(0x1b5)]===_0x321c00);}),document[_0x54fda0(0x172)](_0x54fda0(0x160))['forEach'](_0x5542a8=>{const _0x3e4f54=_0x54fda0;_0x5542a8[_0x3e4f54(0x1bf)][_0x3e4f54(0x15d)]('active',_0x5542a8[_0x3e4f54(0x180)][_0x3e4f54(0x1b5)]===_0x321c00);}),_0x321c00===_0x54fda0(0x181)?canvas[_0x54fda0(0x16e)]['cursor']='grab':canvas['style'][_0x54fda0(0x165)]=_0x54fda0(0x182);}function _0x174b(){const _0x2a5e5e=['value','width','number','drawImage','warn','„É©„Ç§„Éà„ÉÜ„Éº„Éû„Å´ÂàáÊõø','transparent-swatch','colorPicker','used-color-swatch','documentElement','setAttribute','div','„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çà„Çä‰∏ä„ÇíËñÑ„ÅèË°®Á§∫‰∏≠','textContent','onmouseup','forEach','layerRedoStacks','toggle','used-color-grid','ÂÜçÁîü‰∏≠','#palette-toolbar\x20.tool-btn','207lqUVGM','disabled','canvas','scanColorsPanel','cursor','ontouchmove','top','min','pop','ontouchstart','dark','ÂÅúÊ≠¢‰∏≠','setItem','style','„ÉÄ„Éº„ÇØ„ÉÜ„Éº„Éû„Å´ÂàáÊõø','showLoading','5209760WMbSJD','querySelectorAll','.tool-btn','parse','#000000','querySelector','boolean','addEventListener','none','clearRect','ÂâçÈù¢ÈÄèÈÅé','playBtn','left','layers','clientX','dataset','pan','crosshair','innerHTML','onmousedown','active','display','activeLayer','loading-overlay','stopBtn','getBoundingClientRect','apply','ÂâçÈù¢ÈÄèÈÅé‰∏≠','.material-icons','gridToggleBtn','(((.+)+)+)+$','getContext','ontouchend','aria-pressed','clientY','src','504690pHzKVX','floor','height','80PJkbBB','toFixed','touches','animStatus','undoBtn','used-color-label','add','hidden','„Ç∞„É™„ÉÉ„ÉâOFF','removeAttribute','22280753dkTSsX','className','onmouseleave','ontouchcancel','title','nezumi-theme','createElement','changedTouches','frames','themeToggleBtn','5853776qPVEIh','touchstart','subarray','max','touchcancel','getElementById','length','count','encode','tool','search','toString','decode','showLoading\x20error','6AGEOTn','touchmove','touchend','981524ZMvgXc','layerHistories','classList','removeEventListener','4UZadOh','isArray','push','1080583RWMJnd','used-color-item','appendChild','Ëâ≤„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü','zoomSlider','3396048tiRcIJ','round','onmousemove','hideLoading\x20error','frontDimBtn','zoomValue','background','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','onload'];_0x174b=function(){return _0x2a5e5e;};return _0x174b();}function getTouchPos(_0x2e89ab){const _0x33c8be=_0x55f5;if(!_0x2e89ab)return null;const _0x384cc6=canvas[_0x33c8be(0x18a)]();let _0x305298=null;if(_0x2e89ab[_0x33c8be(0x19a)]&&_0x2e89ab['touches'][_0x33c8be(0x1b2)]>0x0)_0x305298=_0x2e89ab[_0x33c8be(0x19a)][0x0];else{if(_0x2e89ab[_0x33c8be(0x1a9)]&&_0x2e89ab[_0x33c8be(0x1a9)]['length']>0x0)_0x305298=_0x2e89ab['changedTouches'][0x0];else{if(_0x2e89ab['clientX']!=null&&_0x2e89ab['clientY']!=null)_0x305298=_0x2e89ab;else return null;}}const _0x55f5a1=canvas[_0x33c8be(0x1d3)]/_0x384cc6['width'],_0x2c62a9=canvas['height']/_0x384cc6[_0x33c8be(0x197)],_0x1a5a4b=(_0x305298[_0x33c8be(0x17f)]-_0x384cc6[_0x33c8be(0x17d)])*_0x55f5a1,_0x1a8d82=(_0x305298[_0x33c8be(0x193)]-_0x384cc6[_0x33c8be(0x167)])*_0x2c62a9;return{'x':Math[_0x33c8be(0x196)](_0x1a5a4b/cellSize),'y':Math['floor'](_0x1a8d82/cellSize)};}function applyTheme(_0x4901e5){const _0x3e3a2e=_0x55f5;document[_0x3e3a2e(0x1db)][_0x3e3a2e(0x156)]('data-theme',_0x4901e5);const _0x5930c6=document[_0x3e3a2e(0x1b1)](_0x3e3a2e(0x1ab));_0x5930c6&&(_0x5930c6[_0x3e3a2e(0x159)]=_0x4901e5===_0x3e3a2e(0x16b)?'‚òÄÔ∏è':'üåô',_0x5930c6[_0x3e3a2e(0x156)](_0x3e3a2e(0x192),_0x4901e5==='dark'),_0x5930c6['title']=_0x4901e5===_0x3e3a2e(0x16b)?_0x3e3a2e(0x1d7):_0x3e3a2e(0x16f)),localStorage[_0x3e3a2e(0x16d)](_0x3e3a2e(0x1a7),_0x4901e5);}function updateUndoRedoButtons(){const _0x5f480a=_0x55f5,_0x451d8a=getCurrentFrame(),_0x53568d=document[_0x5f480a(0x1b1)](_0x5f480a(0x19c)),_0x3355ac=document[_0x5f480a(0x1b1)]('redoBtn');if(!_0x451d8a){if(_0x53568d)_0x53568d[_0x5f480a(0x162)]=!![];if(_0x3355ac)_0x3355ac['disabled']=!![];return;}const _0x11efea=typeof _0x451d8a[_0x5f480a(0x187)]==='number'?_0x451d8a['activeLayer']:-0x1;if(_0x11efea<0x0){if(_0x53568d)_0x53568d[_0x5f480a(0x162)]=!![];if(_0x3355ac)_0x3355ac[_0x5f480a(0x162)]=!![];return;}const _0x3c1837=Array['isArray'](_0x451d8a[_0x5f480a(0x1be)])&&_0x451d8a[_0x5f480a(0x1be)][_0x11efea]?_0x451d8a[_0x5f480a(0x1be)][_0x11efea]:[],_0x29e896=Array[_0x5f480a(0x1c2)](_0x451d8a[_0x5f480a(0x15c)])&&_0x451d8a[_0x5f480a(0x15c)][_0x11efea]?_0x451d8a[_0x5f480a(0x15c)][_0x11efea]:[];if(_0x53568d)_0x53568d[_0x5f480a(0x162)]=!(_0x3c1837&&_0x3c1837[_0x5f480a(0x1b2)]>=0x2);if(_0x3355ac)_0x3355ac[_0x5f480a(0x162)]=!(_0x29e896&&_0x29e896[_0x5f480a(0x1b2)]>0x0);}function undo(){const _0x8c5700=_0x55f5;let _0x507c2e=getCurrentFrame();if(!_0x507c2e||!Array['isArray'](_0x507c2e[_0x8c5700(0x1be)])||!Array[_0x8c5700(0x1c2)](_0x507c2e[_0x8c5700(0x15c)]))return;const _0x587b2b=typeof _0x507c2e[_0x8c5700(0x187)]===_0x8c5700(0x1d4)?_0x507c2e['activeLayer']:-0x1;if(_0x587b2b<0x0)return;const _0x2d624a=_0x507c2e[_0x8c5700(0x1be)][_0x587b2b],_0x30ecd3=_0x507c2e[_0x8c5700(0x15c)][_0x587b2b];if(!_0x2d624a||_0x2d624a[_0x8c5700(0x1b2)]<0x2)return;_0x30ecd3[_0x8c5700(0x1c3)](_0x2d624a[_0x8c5700(0x169)]()),updateUndoRedoButtons();const _0x3587af=new Image();_0x3587af[_0x8c5700(0x1d1)]=()=>{const _0x2274c6=_0x8c5700,_0x1920fe=_0x507c2e[_0x2274c6(0x17e)][_0x587b2b],_0x538a97=_0x1920fe&&_0x1920fe[_0x2274c6(0x163)]?_0x1920fe[_0x2274c6(0x163)]:_0x1920fe;if(!_0x538a97)return;let _0x59cc58=_0x538a97[_0x2274c6(0x190)]('2d');_0x59cc58[_0x2274c6(0x17a)](0x0,0x0,_0x538a97[_0x2274c6(0x1d3)],_0x538a97[_0x2274c6(0x197)]),_0x59cc58[_0x2274c6(0x1d5)](_0x3587af,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x3587af[_0x8c5700(0x194)]=_0x2d624a[_0x2d624a[_0x8c5700(0x1b2)]-0x1];}function redo(){const _0x4f9279=_0x55f5;let _0x4caf67=getCurrentFrame();if(!_0x4caf67||!Array['isArray'](_0x4caf67[_0x4f9279(0x1be)])||!Array[_0x4f9279(0x1c2)](_0x4caf67[_0x4f9279(0x15c)]))return;const _0x162bba=typeof _0x4caf67[_0x4f9279(0x187)]===_0x4f9279(0x1d4)?_0x4caf67['activeLayer']:-0x1;if(_0x162bba<0x0)return;const _0x5c223a=_0x4caf67[_0x4f9279(0x1be)][_0x162bba],_0x2b2cee=_0x4caf67[_0x4f9279(0x15c)][_0x162bba];if(!_0x2b2cee||_0x2b2cee[_0x4f9279(0x1b2)]===0x0)return;const _0x21010f=_0x2b2cee['pop']();if(_0x5c223a)_0x5c223a[_0x4f9279(0x1c3)](_0x21010f);updateUndoRedoButtons();const _0x3f01e9=new Image();_0x3f01e9[_0x4f9279(0x1d1)]=()=>{const _0x5a7b62=_0x4f9279,_0x325dc2=_0x4caf67[_0x5a7b62(0x17e)][_0x162bba],_0x340163=_0x325dc2&&_0x325dc2[_0x5a7b62(0x163)]?_0x325dc2[_0x5a7b62(0x163)]:_0x325dc2;if(!_0x340163)return;let _0x3cb580=_0x340163[_0x5a7b62(0x190)]('2d');_0x3cb580[_0x5a7b62(0x17a)](0x0,0x0,_0x340163[_0x5a7b62(0x1d3)],_0x340163['height']),_0x3cb580[_0x5a7b62(0x1d5)](_0x3f01e9,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x3f01e9[_0x4f9279(0x194)]=_0x21010f;}function wait(_0x2b0b4c){return new Promise(_0x3bd0c8=>setTimeout(_0x3bd0c8,_0x2b0b4c));}function showLoading(_0x334a6e){const _0x537afe=_0x55f5;try{const _0x492206=document[_0x537afe(0x1b1)](_0x537afe(0x188));if(!_0x492206)return;const _0x79e3b6=document['getElementById']('loading-message');if(_0x79e3b6&&_0x334a6e)_0x79e3b6['textContent']=_0x334a6e;_0x492206[_0x537afe(0x16e)][_0x537afe(0x186)]='flex',_0x492206[_0x537afe(0x1a1)]('hidden');}catch(_0x20dba9){console[_0x537afe(0x1d6)](_0x537afe(0x1b9),_0x20dba9);}}function hideLoading(){const _0x54644a=_0x55f5;try{const _0x4fe717=document[_0x54644a(0x1b1)](_0x54644a(0x188));if(!_0x4fe717)return;_0x4fe717[_0x54644a(0x16e)][_0x54644a(0x186)]='none',_0x4fe717[_0x54644a(0x156)](_0x54644a(0x19f),'');}catch(_0x156f1a){console[_0x54644a(0x1d6)](_0x54644a(0x1cc),_0x156f1a);}}window[_0x2cf82e(0x170)]=showLoading,window['hideLoading']=hideLoading;function initCanvas(){const _0x5b63ce=_0x2cf82e,_0x3aa259=parseInt(0x10),_0x4045bf=parseInt(0x10);let _0x49f70c=getCurrentProject();_0x49f70c[_0x5b63ce(0x1d3)]=_0x3aa259,_0x49f70c['height']=_0x4045bf,canvas[_0x5b63ce(0x1d3)]=_0x3aa259*cellSize,canvas[_0x5b63ce(0x197)]=_0x4045bf*cellSize,_0x49f70c['layers']=[],_0x49f70c['layerHistories']=[],_0x49f70c[_0x5b63ce(0x15c)]=[];let _0x1d9201=document[_0x5b63ce(0x1a8)]('canvas');_0x1d9201['width']=_0x3aa259*cellSize,_0x1d9201[_0x5b63ce(0x197)]=_0x4045bf*cellSize,_0x49f70c[_0x5b63ce(0x17e)][_0x5b63ce(0x1c3)](_0x1d9201),_0x49f70c[_0x5b63ce(0x1be)][_0x5b63ce(0x1c3)]([]),_0x49f70c[_0x5b63ce(0x15c)][_0x5b63ce(0x1c3)]([]),_0x49f70c[_0x5b63ce(0x187)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas['onmousedown']=null,canvas[_0x5b63ce(0x1cb)]=null,canvas[_0x5b63ce(0x15a)]=null,canvas[_0x5b63ce(0x1a4)]=null,canvas[_0x5b63ce(0x16a)]=null,canvas['ontouchmove']=null,canvas[_0x5b63ce(0x191)]=null,canvas[_0x5b63ce(0x1a5)]=null,canvas[_0x5b63ce(0x1c0)](_0x5b63ce(0x1ad),handleTouchStart),canvas[_0x5b63ce(0x1c0)](_0x5b63ce(0x1bb),handleTouchMove),canvas[_0x5b63ce(0x1c0)]('touchend',handleTouchEnd),canvas[_0x5b63ce(0x1c0)](_0x5b63ce(0x1b0),handleTouchEnd),canvas[_0x5b63ce(0x184)]=handleMouseDown,canvas['onmousemove']=handleMouseMove,canvas[_0x5b63ce(0x15a)]=handleMouseUp,canvas[_0x5b63ce(0x1a4)]=handleMouseUp,canvas[_0x5b63ce(0x16a)]=handleTouchStart,canvas[_0x5b63ce(0x166)]=handleTouchMove,canvas[_0x5b63ce(0x191)]=handleTouchEnd,canvas[_0x5b63ce(0x1a5)]=handleTouchEnd,canvas[_0x5b63ce(0x178)](_0x5b63ce(0x1ad),handleTouchStart,{'passive':![]}),canvas['addEventListener'](_0x5b63ce(0x1bb),handleTouchMove,{'passive':![]}),canvas[_0x5b63ce(0x178)](_0x5b63ce(0x1bc),handleTouchEnd,{'passive':![]}),canvas[_0x5b63ce(0x178)](_0x5b63ce(0x1b0),handleTouchEnd,{'passive':![]});}function setAlpha(_0x1b33ec){const _0x3cebd8=_0x2cf82e;let _0x483650=Math[_0x3cebd8(0x1af)](0x0,Math['min'](0x64,parseInt(_0x1b33ec,0xa)||0x0));currentAlpha=_0x483650/0x64,updateCurrentColorSwatch();}function renderScanPanel(_0x57c64d){const _0x10c0e8=_0x2cf82e,_0x6364ec=document[_0x10c0e8(0x1b1)](_0x10c0e8(0x164));if(!_0x6364ec)return;_0x6364ec[_0x10c0e8(0x183)]='';if(!_0x57c64d||_0x57c64d[_0x10c0e8(0x1b2)]===0x0){_0x6364ec[_0x10c0e8(0x159)]=_0x10c0e8(0x1c7);return;}const _0x20d65f=document['createElement'](_0x10c0e8(0x157));_0x20d65f[_0x10c0e8(0x1a3)]=_0x10c0e8(0x15e),_0x57c64d[_0x10c0e8(0x15b)](_0x308001=>{const _0x5d1066=_0x10c0e8,_0x3df667=document['createElement'](_0x5d1066(0x157));_0x3df667[_0x5d1066(0x1a3)]=_0x5d1066(0x1c5);const _0x10e300=document[_0x5d1066(0x1a8)]('div');_0x10e300[_0x5d1066(0x1a3)]=_0x5d1066(0x1da);_0x308001['a']===0x0?_0x10e300[_0x5d1066(0x1bf)][_0x5d1066(0x19e)](_0x5d1066(0x1d8)):_0x10e300[_0x5d1066(0x16e)][_0x5d1066(0x1cf)]='rgba('+_0x308001['r']+','+_0x308001['g']+','+_0x308001['b']+','+(_0x308001['a']/0xff)[_0x5d1066(0x199)](0x2)+')';const _0x6c9a70=document[_0x5d1066(0x1a8)](_0x5d1066(0x157));_0x6c9a70[_0x5d1066(0x1a3)]=_0x5d1066(0x19d),_0x6c9a70[_0x5d1066(0x159)]=_0x308001['a']===0x0?'ÈÄèÊòé':_0x308001['a']===0xff?rgbaToHex(_0x308001['r'],_0x308001['g'],_0x308001['b']):'rgba('+_0x308001['r']+','+_0x308001['g']+','+_0x308001['b']+','+(_0x308001['a']/0xff)[_0x5d1066(0x199)](0x2)+')';const _0xa1c7a3=document[_0x5d1066(0x1a8)](_0x5d1066(0x157));_0xa1c7a3[_0x5d1066(0x1a3)]='used-color-count',_0xa1c7a3[_0x5d1066(0x159)]=_0x308001[_0x5d1066(0x1b3)]+'„Çª„É´',_0x3df667['appendChild'](_0x10e300),_0x3df667[_0x5d1066(0x1c6)](_0x6c9a70),_0x3df667['appendChild'](_0xa1c7a3),_0x3df667['onclick']=()=>{const _0x466abe=_0x5d1066;if(_0x308001['a']===0x0){currentColor='transparent';const _0x11a82b=document[_0x466abe(0x1b1)](_0x466abe(0x1d9));if(_0x11a82b)_0x11a82b['value']=_0x466abe(0x175);setAlpha(0x0);}else{currentColor=rgbaToHex(_0x308001['r'],_0x308001['g'],_0x308001['b']);const _0x1513b4=document['getElementById']('colorPicker');if(_0x1513b4)_0x1513b4[_0x466abe(0x1d2)]=currentColor;setAlpha(Math['round'](_0x308001['a']/0xff*0x64));}_0x6364ec['style'][_0x466abe(0x186)]=_0x466abe(0x179);},_0x20d65f['appendChild'](_0x3df667);}),_0x6364ec[_0x10c0e8(0x1c6)](_0x20d65f);}function indexOfSubarray(_0x41de51,_0x4774e5){const _0xbdb30f=_0x2cf82e;for(let _0xbec482=0x0;_0xbec482<=_0x41de51[_0xbdb30f(0x1b2)]-_0x4774e5[_0xbdb30f(0x1b2)];_0xbec482++){let _0x5c4de0=!![];for(let _0x1d7f79=0x0;_0x1d7f79<_0x4774e5[_0xbdb30f(0x1b2)];_0x1d7f79++){if(_0x41de51[_0xbec482+_0x1d7f79]!==_0x4774e5[_0x1d7f79]){_0x5c4de0=![];break;}}if(_0x5c4de0)return _0xbec482;}return-0x1;}function extractMetadataFromArrayBuffer(_0x154b9b){const _0x48e010=_0x2cf82e,_0x415e6d=new TextEncoder()[_0x48e010(0x1b4)](NEZUMI_METADATA_SIG),_0x19a73f=new Uint8Array(_0x154b9b),_0x4a5fc1=indexOfSubarray(_0x19a73f,_0x415e6d);if(_0x4a5fc1===-0x1)return null;const _0x4fae2d=_0x19a73f[_0x48e010(0x1ae)](_0x4a5fc1+_0x415e6d['length']);try{const _0x47f2ef=new TextDecoder()[_0x48e010(0x1b8)](_0x4fae2d);return JSON[_0x48e010(0x174)](_0x47f2ef);}catch(_0x5f55e1){return null;}}function setZoomValue(_0x51ce92){const _0x4c2a5f=_0x2cf82e,_0x2aad3d=Math[_0x4c2a5f(0x1af)](0x14,Math[_0x4c2a5f(0x168)](0x1f4,parseInt(_0x51ce92,0xa)||0x64)),_0x404fb5=_0x2aad3d/0x64;scale=_0x404fb5,updateTransform();const _0x48a233=document[_0x4c2a5f(0x1b1)](_0x4c2a5f(0x1c8)),_0x349d1d=document[_0x4c2a5f(0x1b1)](_0x4c2a5f(0x1ce));if(_0x48a233)_0x48a233['value']=_0x2aad3d;if(_0x349d1d)_0x349d1d['textContent']=_0x2aad3d+'%';}function zoomIn(){const _0x598ce8=_0x2cf82e,_0x13645a=document[_0x598ce8(0x1b1)]('zoomSlider');let _0x5ee2d9=_0x13645a?parseInt(_0x13645a['value'],0xa):Math[_0x598ce8(0x1ca)](scale*0x64);_0x5ee2d9=Math[_0x598ce8(0x168)](0x1f4,_0x5ee2d9+0xa),setZoomValue(_0x5ee2d9);}function zoomOut(){const _0x297a63=_0x2cf82e,_0x4dd3fc=document['getElementById']('zoomSlider');let _0x1e7733=_0x4dd3fc?parseInt(_0x4dd3fc['value'],0xa):Math[_0x297a63(0x1ca)](scale*0x64);_0x1e7733=Math['max'](0x14,_0x1e7733-0xa),setZoomValue(_0x1e7733);}function _0x55f5(_0x3fa8c5,_0x49a8c9){_0x3fa8c5=_0x3fa8c5-0x156;const _0x37f9da=_0x174b();let _0x35ebd0=_0x37f9da[_0x3fa8c5];return _0x35ebd0;}function toggleGrid(_0x1acdb9){const _0x485f77=_0x2cf82e;typeof _0x1acdb9===_0x485f77(0x177)?showGrid=_0x1acdb9:showGrid=!showGrid;const _0x352f44=document['getElementById'](_0x485f77(0x18e));if(_0x352f44){_0x352f44[_0x485f77(0x1bf)][_0x485f77(0x15d)](_0x485f77(0x185),showGrid),_0x352f44[_0x485f77(0x1a6)]=showGrid?'„Ç∞„É™„ÉÉ„ÉâON':_0x485f77(0x1a0);const _0x1344df=_0x352f44[_0x485f77(0x176)](_0x485f77(0x18d));if(_0x1344df)_0x1344df[_0x485f77(0x159)]=showGrid?'grid_on':'grid_off';}redrawAll();}function toggleFrontLayerDim(_0x56728d){const _0x2ea4a0=_0x2cf82e;typeof _0x56728d===_0x2ea4a0(0x177)?dimFrontLayers=_0x56728d:dimFrontLayers=!dimFrontLayers;const _0x53abf3=document[_0x2ea4a0(0x1b1)](_0x2ea4a0(0x1cd));_0x53abf3&&(_0x53abf3[_0x2ea4a0(0x1bf)][_0x2ea4a0(0x15d)](_0x2ea4a0(0x185),dimFrontLayers),_0x53abf3['textContent']=dimFrontLayers?_0x2ea4a0(0x18c):_0x2ea4a0(0x17b),_0x53abf3[_0x2ea4a0(0x1a6)]=dimFrontLayers?_0x2ea4a0(0x158):'ÂâçÈù¢„É¨„Ç§„É§„Éº„ÇíËñÑ„ÅèË°®Á§∫'),redrawAll();}function updateAnimUi(_0x3376dd){const _0xfecc29=_0x2cf82e,_0x284c02=document[_0xfecc29(0x1b1)](_0xfecc29(0x17c)),_0x4216a7=document[_0xfecc29(0x1b1)](_0xfecc29(0x189)),_0x3cc4a9=document[_0xfecc29(0x1b1)](_0xfecc29(0x19b));if(_0x284c02)_0x284c02[_0xfecc29(0x1bf)][_0xfecc29(0x15d)](_0xfecc29(0x185),!!_0x3376dd);if(_0x4216a7)_0x4216a7[_0xfecc29(0x1bf)][_0xfecc29(0x15d)](_0xfecc29(0x185),!_0x3376dd);_0x3cc4a9&&(_0x3cc4a9[_0xfecc29(0x19f)]=!_0x3376dd,_0x3cc4a9[_0xfecc29(0x159)]=_0x3376dd?_0xfecc29(0x15f):_0xfecc29(0x16c));}function getCanvasCoords(_0x1c818b){const _0xd2fa78=_0x2cf82e,_0x383012=canvas[_0xd2fa78(0x18a)](),_0x374778=canvas[_0xd2fa78(0x1d3)]/_0x383012[_0xd2fa78(0x1d3)],_0x3a90a6=canvas[_0xd2fa78(0x197)]/_0x383012[_0xd2fa78(0x197)],_0x4cab78=(_0x1c818b[_0xd2fa78(0x17f)]-_0x383012[_0xd2fa78(0x17d)])*_0x374778,_0x1871c7=(_0x1c818b[_0xd2fa78(0x193)]-_0x383012[_0xd2fa78(0x167)])*_0x3a90a6;return{'x':_0x4cab78,'y':_0x1871c7};}