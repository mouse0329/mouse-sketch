(function(_0x185ae2,_0x80108a){const _0x97b105=_0x27d8,_0x5c968b=_0x185ae2();while(!![]){try{const _0x5bd673=-parseInt(_0x97b105(0x116))/0x1*(parseInt(_0x97b105(0xf5))/0x2)+-parseInt(_0x97b105(0xf4))/0x3+parseInt(_0x97b105(0xdb))/0x4*(-parseInt(_0x97b105(0xf6))/0x5)+parseInt(_0x97b105(0x117))/0x6*(-parseInt(_0x97b105(0xb4))/0x7)+parseInt(_0x97b105(0x10f))/0x8+-parseInt(_0x97b105(0x11d))/0x9*(-parseInt(_0x97b105(0x8e))/0xa)+parseInt(_0x97b105(0xcc))/0xb;if(_0x5bd673===_0x80108a)break;else _0x5c968b['push'](_0x5c968b['shift']());}catch(_0x1bf1e2){_0x5c968b['push'](_0x5c968b['shift']());}}}(_0x4d17,0xa8890));const _0x1349fe=(function(){let _0x54ce84=!![];return function(_0x445049,_0x347e8b){const _0x1abd15=_0x54ce84?function(){const _0x19142e=_0x27d8;if(_0x347e8b){const _0x7773c9=_0x347e8b[_0x19142e(0x100)](_0x445049,arguments);return _0x347e8b=null,_0x7773c9;}}:function(){};return _0x54ce84=![],_0x1abd15;};}()),_0x4a1490=_0x1349fe(this,function(){const _0x127de0=_0x27d8;return _0x4a1490['toString']()['search'](_0x127de0(0xed))[_0x127de0(0x9b)]()[_0x127de0(0xad)](_0x4a1490)[_0x127de0(0x11e)](_0x127de0(0xed));});_0x4a1490();function updateCurrentColorSwatch(){const _0x38e384=_0x27d8,_0xf15e5c=document['getElementById'](_0x38e384(0x97));if(!_0xf15e5c)return;_0xf15e5c[_0x38e384(0x99)]='',_0xf15e5c[_0x38e384(0xf1)]['position']=_0x38e384(0x9f),_0xf15e5c[_0x38e384(0xf1)][_0x38e384(0xfc)]='hidden';let _0xaeb44b=document[_0x38e384(0xca)](_0x38e384(0x11c));_0xaeb44b[_0x38e384(0xf1)][_0x38e384(0x8a)]=_0x38e384(0xfb),_0xaeb44b[_0x38e384(0xf1)][_0x38e384(0x10b)]='0',_0xaeb44b[_0x38e384(0xf1)][_0x38e384(0xb3)]=_0x38e384(0xd7),_0xaeb44b[_0x38e384(0xf1)][_0x38e384(0xd5)]=_0x38e384(0xd0);let _0x2b1090=document['createElement'](_0x38e384(0x11c));_0x2b1090['style'][_0x38e384(0x8a)]=_0x38e384(0xfb),_0x2b1090[_0x38e384(0xf1)]['inset']='0',_0x2b1090[_0x38e384(0xf1)]['borderRadius']=_0x38e384(0xd7),currentColor===_0x38e384(0xcd)||currentAlpha===0x0?(_0x2b1090['style']['background']=_0x38e384(0xf9),_0xf15e5c[_0x38e384(0x123)]='ÈÄèÊòé'):(_0x2b1090[_0x38e384(0xf1)][_0x38e384(0xd5)]=hexToRgbaCss(currentColor,currentAlpha),_0xf15e5c[_0x38e384(0x123)]=currentAlpha<0x1?currentColor+'\x20ÈÄèÊòéÂ∫¶'+Math[_0x38e384(0x94)](currentAlpha*0x64)+'%':currentColor),_0xf15e5c[_0x38e384(0xf3)](_0xaeb44b),_0xf15e5c[_0x38e384(0xf3)](_0x2b1090);}function updateProjectUI(){const _0xd6dc36=_0x27d8,_0x1ba162=document['getElementById'](_0xd6dc36(0xc9));_0x1ba162[_0xd6dc36(0x99)]='';for(let _0x3e73e9=0x0;_0x3e73e9<projects[_0xd6dc36(0xab)];_0x3e73e9++){const _0x512716=document[_0xd6dc36(0xca)](_0xd6dc36(0x11c));_0x512716[_0xd6dc36(0x96)]=_0xd6dc36(0xc6)+(_0x3e73e9===activeProject?_0xd6dc36(0x89):''),_0x512716[_0xd6dc36(0xde)]=()=>{activeProject=_0x3e73e9,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();},_0x512716[_0xd6dc36(0x108)]=_0x5df0d3=>{_0x5df0d3['preventDefault'](),showRenameProjectDialog(_0x3e73e9);};let _0x136f0d=null;const _0x6817d1=()=>{_0x136f0d=setTimeout(()=>{showRenameProjectDialog(_0x3e73e9);},0x258);},_0xbf8f51=()=>{if(_0x136f0d)clearTimeout(_0x136f0d);_0x136f0d=null;};_0x512716['addEventListener']('touchstart',_0x6817d1,{'passive':!![]}),_0x512716[_0xd6dc36(0xd9)](_0xd6dc36(0xe4),_0xbf8f51,{'passive':!![]}),_0x512716[_0xd6dc36(0xd9)]('touchcancel',_0xbf8f51,{'passive':!![]});const _0x7d1b9f=document['createElement'](_0xd6dc36(0x119));_0x7d1b9f[_0xd6dc36(0x96)]=_0xd6dc36(0xb5),_0x7d1b9f[_0xd6dc36(0x115)]=projects[_0x3e73e9]['name']||'ÁîªÂÉè'+(_0x3e73e9+0x1),_0x7d1b9f[_0xd6dc36(0x123)]='„ÇØ„É™„ÉÉ„ÇØ„ÅßÂêçÂâç„ÇíÁ∑®ÈõÜ',_0x7d1b9f[_0xd6dc36(0xde)]=_0xefd4ff=>{const _0x48346=_0xd6dc36;_0xefd4ff[_0x48346(0xae)](),editProjectName(_0x3e73e9,_0x7d1b9f);},_0x512716[_0xd6dc36(0xf3)](_0x7d1b9f);const _0x41ecc8=document[_0xd6dc36(0xca)]('button');_0x41ecc8[_0xd6dc36(0x115)]='ÂâäÈô§',_0x41ecc8['className']='project-btn',_0x41ecc8[_0xd6dc36(0xcf)]=projects[_0xd6dc36(0xab)]===0x1,_0x41ecc8['onclick']=_0x3ae6b2=>{const _0x450e06=_0xd6dc36;_0x3ae6b2[_0x450e06(0xae)](),removeProjectAt(_0x3e73e9);},_0x512716[_0xd6dc36(0xf3)](_0x41ecc8),_0x1ba162[_0xd6dc36(0xf3)](_0x512716);}document[_0xd6dc36(0xa9)](_0xd6dc36(0xa2))[_0xd6dc36(0x115)]='('+projects[_0xd6dc36(0xab)]+'Êûö)';}function showRenameProjectDialog(_0xd8e40c){const _0x3a173f=_0x27d8,_0x31acd5=projects[_0xd8e40c],_0x5961b8=_0x31acd5&&_0x31acd5[_0x3a173f(0xff)]?_0x31acd5[_0x3a173f(0xff)]:'ÁîªÂÉè'+(_0xd8e40c+0x1),_0x42ba41=prompt(_0x3a173f(0x103),_0x5961b8);if(_0x42ba41==null)return;const _0x45da53=_0x42ba41[_0x3a173f(0xfe)]();projects[_0xd8e40c]['name']=_0x45da53||_0x5961b8,updateProjectUI();}function showNewProjectDialog(_0x20e471){const _0x346b5e=_0x27d8;let _0x11f7dd=document[_0x346b5e(0xa9)]('new-project-dialog');if(_0x11f7dd)_0x11f7dd[_0x346b5e(0x10c)]();const _0x20c6ec=document['createElement'](_0x346b5e(0x11c));_0x20c6ec['id']=_0x346b5e(0xc0),_0x20c6ec[_0x346b5e(0xf1)]['position']=_0x346b5e(0xe6),_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0x10d)]='0',_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0xe7)]='0',_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0x122)]=_0x346b5e(0x11a),_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0xb2)]=_0x346b5e(0x10a),_0x20c6ec['style'][_0x346b5e(0xd5)]=_0x346b5e(0xbf),_0x20c6ec['style'][_0x346b5e(0xa4)]=_0x346b5e(0xd6),_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0x9c)]=_0x346b5e(0xba),_0x20c6ec[_0x346b5e(0xf1)]['justifyContent']=_0x346b5e(0xba),_0x20c6ec[_0x346b5e(0xf1)][_0x346b5e(0xe9)]=_0x346b5e(0xc8),_0x20c6ec[_0x346b5e(0x99)]=_0x346b5e(0xa8)+(projects[_0x346b5e(0xab)]+0x1)+_0x346b5e(0x121),document['body']['appendChild'](_0x20c6ec),_0x20c6ec[_0x346b5e(0x112)](_0x346b5e(0x8c))['onclick']=()=>{const _0x364b4a=_0x346b5e,_0x268be4=parseInt(_0x20c6ec[_0x364b4a(0x112)](_0x364b4a(0xc5))[_0x364b4a(0xee)],0xa),_0x4e6b00=parseInt(_0x20c6ec[_0x364b4a(0x112)](_0x364b4a(0xbe))[_0x364b4a(0xee)],0xa),_0x5e8634=_0x20c6ec[_0x364b4a(0x112)](_0x364b4a(0xd2))[_0x364b4a(0xee)]['trim']();_0x20c6ec[_0x364b4a(0x10c)]();if(_0x20e471)_0x20e471(_0x268be4,_0x4e6b00,_0x5e8634);},_0x20c6ec[_0x346b5e(0x112)]('#newProjCancelBtn')[_0x346b5e(0xde)]=()=>{const _0x55f33a=_0x346b5e;_0x20c6ec[_0x55f33a(0x10c)]();};}function updateFrameUI(){const _0x10609f=_0x27d8,_0x31540d=document[_0x10609f(0xa9)](_0x10609f(0xef)),_0x951ab3=getCurrentProject();if(!_0x951ab3||!_0x951ab3[_0x10609f(0xfd)])return;_0x31540d['innerHTML']='';for(let _0x39c584=0x0;_0x39c584<_0x951ab3['frames'][_0x10609f(0xab)];_0x39c584++){const _0x14171f=document['createElement'](_0x10609f(0x11c));_0x14171f[_0x10609f(0x96)]=_0x10609f(0xb9)+(_0x39c584===_0x951ab3[_0x10609f(0xf7)]?_0x10609f(0x89):''),_0x14171f[_0x10609f(0xde)]=()=>{const _0x1ee74c=_0x10609f;_0x951ab3[_0x1ee74c(0xf7)]=_0x39c584,updateFrameUI(),updateLayerUI(),redrawAll();};const _0xd2267c=document['createElement'](_0x10609f(0xe1));_0xd2267c[_0x10609f(0x96)]='frame-thumb',_0xd2267c[_0x10609f(0x122)]=0x20,_0xd2267c[_0x10609f(0xb2)]=0x20;let _0x236060=_0xd2267c[_0x10609f(0xd3)]('2d',{'willReadFrequently':!![]});_0x236060['clearRect'](0x0,0x0,0x20,0x20);for(let _0x26de5f=0x0;_0x26de5f<_0x951ab3[_0x10609f(0xfd)][_0x39c584][_0x10609f(0xb1)][_0x10609f(0xab)];_0x26de5f++){const _0x104f09=_0x951ab3['frames'][_0x39c584][_0x10609f(0xb1)][_0x26de5f];_0x104f09&&_0x104f09[_0x10609f(0xe1)]&&_0x236060[_0x10609f(0x104)](_0x104f09[_0x10609f(0xe1)],0x0,0x0,_0xd2267c[_0x10609f(0x122)],_0xd2267c[_0x10609f(0xb2)]);}_0x14171f[_0x10609f(0xf3)](_0xd2267c);const _0x2d4354=document[_0x10609f(0xca)](_0x10609f(0x119));_0x2d4354[_0x10609f(0x115)]='F'+(_0x39c584+0x1),_0x14171f['appendChild'](_0x2d4354);const _0x32ea3b=document[_0x10609f(0xca)]('button');_0x32ea3b[_0x10609f(0x115)]='ÂâäÈô§',_0x32ea3b['className']=_0x10609f(0xbb),_0x32ea3b[_0x10609f(0xcf)]=_0x951ab3[_0x10609f(0xfd)]['length']===0x1,_0x32ea3b[_0x10609f(0xde)]=_0x2b960c=>{const _0x4d3bd7=_0x10609f;_0x2b960c[_0x4d3bd7(0xae)](),removeFrameAt(_0x39c584);},_0x14171f[_0x10609f(0xf3)](_0x32ea3b),_0x31540d['appendChild'](_0x14171f);}document['getElementById'](_0x10609f(0xb7))[_0x10609f(0x115)]='('+_0x951ab3['frames']['length']+_0x10609f(0x101);}function updateLayerUI(){const _0x5ec55a=_0x27d8,{layers:_0xf4cbc1,activeLayer:_0x55ce04}=getCurrentFrame();document[_0x5ec55a(0xa9)](_0x5ec55a(0xa0))[_0x5ec55a(0x115)]='('+_0xf4cbc1[_0x5ec55a(0xab)]+'Êûö)';const _0x291496=document[_0x5ec55a(0xa9)]('layerList');_0x291496[_0x5ec55a(0x99)]='';for(let _0x1912fe=_0xf4cbc1[_0x5ec55a(0xab)]-0x1;_0x1912fe>=0x0;_0x1912fe--){const _0x43afd1=document['createElement'](_0x5ec55a(0x11c));_0x43afd1[_0x5ec55a(0x96)]=_0x5ec55a(0xdd)+(_0x1912fe===_0x55ce04?_0x5ec55a(0x89):''),_0x43afd1[_0x5ec55a(0xde)]=_0x2a8754=>{const _0x731c85=_0x5ec55a;if(_0x2a8754[_0x731c85(0x105)][_0x731c85(0x106)][_0x731c85(0xaf)](_0x731c85(0xa6)))return;getCurrentFrame()['activeLayer']=_0x1912fe,updateLayerUI(),redrawAll();};const _0x58b6c7=document[_0x5ec55a(0xca)](_0x5ec55a(0xe1));_0x58b6c7[_0x5ec55a(0x96)]=_0x5ec55a(0xdc),_0x58b6c7[_0x5ec55a(0x122)]=0x20,_0x58b6c7[_0x5ec55a(0xb2)]=0x20;const _0x3a9170=_0x58b6c7[_0x5ec55a(0xd3)]('2d');_0x3a9170[_0x5ec55a(0x8f)](0x0,0x0,_0x58b6c7[_0x5ec55a(0x122)],_0x58b6c7[_0x5ec55a(0xb2)]),_0x3a9170[_0x5ec55a(0x118)]=_0xf4cbc1[_0x1912fe][_0x5ec55a(0x91)]===![]?0.3:0x1;let _0x5b29cf=null;if(_0xf4cbc1[_0x1912fe]instanceof HTMLCanvasElement)_0x5b29cf=_0xf4cbc1[_0x1912fe];else _0xf4cbc1[_0x1912fe][_0x5ec55a(0xe1)]instanceof HTMLCanvasElement&&(_0x5b29cf=_0xf4cbc1[_0x1912fe][_0x5ec55a(0xe1)]);_0x5b29cf?_0x3a9170[_0x5ec55a(0x104)](_0x5b29cf,0x0,0x0,_0x58b6c7[_0x5ec55a(0x122)],_0x58b6c7[_0x5ec55a(0xb2)]):console[_0x5ec55a(0x8d)](_0x5ec55a(0xeb),_0xf4cbc1[_0x1912fe]);_0x43afd1[_0x5ec55a(0xf3)](_0x58b6c7);const _0x5107c1=document[_0x5ec55a(0xca)](_0x5ec55a(0x9d));_0x5107c1[_0x5ec55a(0x96)]='layer-btn\x20layer-vis-btn',_0x5107c1[_0x5ec55a(0x123)]=_0xf4cbc1[_0x1912fe]['visible']===![]?_0x5ec55a(0xe3):_0x5ec55a(0x110),_0x5107c1[_0x5ec55a(0x99)]=_0xf4cbc1[_0x1912fe][_0x5ec55a(0x91)]===![]?_0x5ec55a(0xce):_0x5ec55a(0x93),_0x5107c1['onclick']=_0x3ccefc=>{const _0x566d30=_0x5ec55a;_0x3ccefc['stopPropagation'](),_0xf4cbc1[_0x1912fe][_0x566d30(0x91)]=!_0xf4cbc1[_0x1912fe][_0x566d30(0x91)],updateLayerUI(),redrawAll();},_0x43afd1['appendChild'](_0x5107c1);const _0x58bf53=document[_0x5ec55a(0xca)](_0x5ec55a(0x119));_0x58bf53[_0x5ec55a(0x115)]=_0x5ec55a(0xdf)+(_0x1912fe+0x1),_0x43afd1[_0x5ec55a(0xf3)](_0x58bf53);const _0x27bc68=document['createElement'](_0x5ec55a(0x9d));_0x27bc68['textContent']='‚Üë',_0x27bc68[_0x5ec55a(0x96)]='layer-btn',_0x27bc68['title']=_0x5ec55a(0xc7),_0x27bc68[_0x5ec55a(0xcf)]=_0x1912fe===_0xf4cbc1['length']-0x1,_0x27bc68['onclick']=_0x429e6a=>{const _0x124301=_0x5ec55a;_0x429e6a[_0x124301(0xae)]();if(_0x1912fe<_0xf4cbc1[_0x124301(0xab)]-0x1)swapLayer(_0x1912fe,_0x1912fe+0x1);},_0x43afd1[_0x5ec55a(0xf3)](_0x27bc68);const _0x1398aa=document[_0x5ec55a(0xca)](_0x5ec55a(0x9d));_0x1398aa[_0x5ec55a(0x115)]='‚Üì',_0x1398aa['className']=_0x5ec55a(0xa6),_0x1398aa[_0x5ec55a(0x123)]=_0x5ec55a(0xe0),_0x1398aa[_0x5ec55a(0xcf)]=_0x1912fe===0x0,_0x1398aa['onclick']=_0x250c5b=>{const _0x5dee40=_0x5ec55a;_0x250c5b[_0x5dee40(0xae)]();if(_0x1912fe>0x0)swapLayer(_0x1912fe,_0x1912fe-0x1);},_0x43afd1[_0x5ec55a(0xf3)](_0x1398aa);const _0x508962=document['createElement'](_0x5ec55a(0x9d));_0x508962[_0x5ec55a(0x115)]='ÂâäÈô§',_0x508962['className']=_0x5ec55a(0xa6),_0x508962['title']=_0x5ec55a(0xec),_0x508962[_0x5ec55a(0xcf)]=_0xf4cbc1[_0x5ec55a(0xab)]===0x1,_0x508962[_0x5ec55a(0xde)]=_0x272423=>{const _0x5801f3=_0x5ec55a;_0x272423[_0x5801f3(0xae)](),removeLayerAt(_0x1912fe);},_0x43afd1[_0x5ec55a(0xf3)](_0x508962),_0x291496[_0x5ec55a(0xf3)](_0x43afd1);}try{if(typeof updateUndoRedoButtons===_0x5ec55a(0xf8))updateUndoRedoButtons();}catch(_0x4e6d49){}}function toggleTheme(){const _0x417678=_0x27d8;applyTheme(document[_0x417678(0xa5)]['getAttribute'](_0x417678(0x113))===_0x417678(0xaa)?_0x417678(0x124):_0x417678(0xaa));}function openDB(){return new Promise((_0x5f47ec,_0xb59f0f)=>{const _0x54c23e=_0x27d8,_0x53dbc1=indexedDB[_0x54c23e(0xd8)](dbName,0x2);_0x53dbc1['onupgradeneeded']=()=>{const _0x219f97=_0x54c23e,_0x2164a5=_0x53dbc1['result'];!_0x2164a5[_0x219f97(0xe8)]['contains'](storeName)&&_0x2164a5['createObjectStore'](storeName);},_0x53dbc1[_0x54c23e(0xa3)]=()=>{const _0x16db1f=_0x54c23e,_0xc26229=_0x53dbc1[_0x16db1f(0xe2)];if(!_0xc26229[_0x16db1f(0xe8)][_0x16db1f(0xaf)](storeName)){_0xc26229[_0x16db1f(0x11f)](),indexedDB['deleteDatabase'](dbName),_0xb59f0f(new Error(_0x16db1f(0xf0)));return;}_0x5f47ec(_0xc26229);},_0x53dbc1['onerror']=()=>_0xb59f0f(_0x53dbc1[_0x54c23e(0xb8)]);});}function openColorDialog(){const _0x12402e=_0x27d8;if(document[_0x12402e(0xa9)]('color-dialog'))return;const _0x8c55eb=document[_0x12402e(0xca)]('div');_0x8c55eb['id']='color-dialog',_0x8c55eb['style']['position']=_0x12402e(0xe6),_0x8c55eb['style'][_0x12402e(0x10d)]='0',_0x8c55eb[_0x12402e(0xf1)][_0x12402e(0xe7)]='0',_0x8c55eb[_0x12402e(0xf1)][_0x12402e(0x122)]='100vw',_0x8c55eb['style']['height']='100vh',_0x8c55eb[_0x12402e(0xf1)][_0x12402e(0xa4)]=_0x12402e(0xd6),_0x8c55eb['style'][_0x12402e(0x9c)]='center',_0x8c55eb['style'][_0x12402e(0xc4)]=_0x12402e(0xba),_0x8c55eb['style'][_0x12402e(0xe9)]='4000',_0x8c55eb[_0x12402e(0xf1)][_0x12402e(0xd5)]=_0x12402e(0xa1),_0x8c55eb[_0x12402e(0x99)]=_0x12402e(0xac)+(currentColor===_0x12402e(0xcd)?'#000000':currentColor)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÈÄèÊòéÂ∫¶(0-100):\x20<input\x20type=\x22number\x22\x20id=\x22dlgAlpha\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22'+Math['round'](currentAlpha*0x64)+_0x12402e(0x98),document[_0x12402e(0xbc)][_0x12402e(0xf3)](_0x8c55eb),_0x8c55eb['querySelector']('#dlgTransparentBtn')[_0x12402e(0xde)]=()=>{const _0x388489=_0x12402e,_0x530b5f=_0x8c55eb[_0x388489(0x112)](_0x388489(0xd4));_0x530b5f['value']=0x0,_0x8c55eb['querySelector'](_0x388489(0xc2))['value']=_0x388489(0xe5);},_0x8c55eb[_0x12402e(0x112)](_0x12402e(0x95))[_0x12402e(0xde)]=()=>{const _0x20ff52=_0x12402e,_0x391807=_0x8c55eb[_0x20ff52(0x112)](_0x20ff52(0xc2))[_0x20ff52(0xee)],_0x5ad09c=Math[_0x20ff52(0x88)](0x0,Math[_0x20ff52(0xd1)](0x64,parseInt(_0x8c55eb[_0x20ff52(0x112)](_0x20ff52(0xd4))[_0x20ff52(0xee)],0xa)||0x0));if(_0x5ad09c===0x0){currentAlpha=0x0,currentColor=_0x20ff52(0xcd);if(colorPicker)colorPicker[_0x20ff52(0xee)]=_0x20ff52(0xe5);}else{currentAlpha=_0x5ad09c/0x64,currentColor=_0x391807;if(colorPicker)colorPicker['value']=_0x391807;}updateCurrentColorSwatch(),document[_0x20ff52(0xa7)]('.palette-color')[_0x20ff52(0x114)](_0xa2fb2d=>_0xa2fb2d[_0x20ff52(0x106)][_0x20ff52(0x10c)](_0x20ff52(0xc1))),_0x8c55eb[_0x20ff52(0x10c)]();},_0x8c55eb[_0x12402e(0x112)](_0x12402e(0x9a))['onclick']=()=>_0x8c55eb[_0x12402e(0x10c)](),_0x8c55eb['addEventListener']('click',_0xe745b2=>{const _0x339c73=_0x12402e;if(_0xe745b2['target']===_0x8c55eb)_0x8c55eb[_0x339c73(0x10c)]();});}function updateLayerMove(_0x36c156){const _0x882f9=_0x27d8;if(!layerMoveState[_0x882f9(0x125)])return;const _0x5bbb9e=getCanvasCoords(_0x36c156),_0x2d936d={'x':Math['floor'](_0x5bbb9e['x']/cellSize),'y':Math[_0x882f9(0xda)](_0x5bbb9e['y']/cellSize)};layerMoveState[_0x882f9(0xcb)]['x']=_0x2d936d['x']-layerMoveState[_0x882f9(0x107)]['x'],layerMoveState['offsetCells']['y']=_0x2d936d['y']-layerMoveState[_0x882f9(0x107)]['y'],redrawAll();const _0x1fa6dd=getCurrentFrame();if(!_0x1fa6dd)return;const _0x331e46=_0x1fa6dd[_0x882f9(0x87)];if(_0x331e46==null)return;ctx[_0x882f9(0xb0)](),ctx[_0x882f9(0xf2)](layerMoveState[_0x882f9(0xcb)]['x']*cellSize,layerMoveState['offsetCells']['y']*cellSize);const _0x3413f3=_0x1fa6dd[_0x882f9(0xb1)][_0x331e46],_0x15c0c0=_0x3413f3&&_0x3413f3['canvas']?_0x3413f3[_0x882f9(0xe1)]:_0x3413f3;if(_0x15c0c0)ctx[_0x882f9(0x104)](_0x15c0c0,0x0,0x0);ctx[_0x882f9(0xea)]();}function _0x4d17(){const _0x6ad366=['drawImage','target','classList','startCell','oncontextmenu','menu-toggle-btn-close','100vh','inset','remove','left','.toggle-btn','1795816iQfiaE','ÈùûË°®Á§∫„Å´„Åô„Çã','inline-block','querySelector','data-theme','forEach','textContent','1137566LaNFty','747366ZhdTmB','globalAlpha','span','100vw','boolean','div','9UkDoGi','search','close','sidebar-open','\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂπÖ:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>È´ò„Åï:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>‰ΩúÊàê</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','width','title','light','active','activeLayer','max','\x20active','position','toolsToggleBtn','#newProjOkBtn','warn','1083430VDiHiJ','clearRect','main-container','visible','px,\x20','üëÅÔ∏è','round','#dlgOkBtn','className','currentColorSwatch','\x22\x20style=\x22width:72px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgTransparentBtn\x22\x20type=\x22button\x22\x20style=\x22margin-left:8px;\x22>ÈÄèÊòé</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:8px;justify-content:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgOkBtn\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgCancelBtn\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','#dlgCancelBtn','toString','alignItems','button','innerWidth','relative','layerCount','rgba(0,0,0,0.25)','projectCount','onsuccess','display','documentElement','layer-btn','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>Êñ∞„Åó„ÅÑÁîªÂÉè„ÅÆ„Çµ„Ç§„Ç∫</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂêçÂâç:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22ÁîªÂÉè','getElementById','dark','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;padding:18px;border-radius:8px;min-width:260px;text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:0\x200\x208px\x200;\x22>Ëâ≤„Å®ÈÄèÊòé„ÇíÈÅ∏Êäû</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22dlgColor\x22\x20value=\x22','constructor','stopPropagation','contains','save','layers','height','borderRadius','63krLGvs','project-name','add','frameCount','error','frame-item','center','frame-btn','body','.section-content','#newProjH','rgba(0,0,0,0.3)','new-project-dialog','selected','#dlgColor','menu-toggle-btn','justifyContent','#newProjW','project-item','‰∏ä„Å´ÁßªÂãï','3000','projectList','createElement','offsetCells','39801344OsVmqM','transparent','üëÅÔ∏è‚Äçüó®Ô∏è','disabled','repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px','min','#newProjName','getContext','#dlgAlpha','background','flex','8px','open','addEventListener','floor','3124pEILDM','layer-thumb','layer-item','onclick','„É¨„Ç§„É§„Éº','‰∏ã„Å´ÁßªÂãï','canvas','result','Ë°®Á§∫„Åô„Çã','touchend','#000000','fixed','top','objectStoreNames','zIndex','restore','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíÂâäÈô§','(((.+)+)+)+$','value','frameList','IndexedDB\x20„ÅÆ„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Åü„ÇÅÂÜç‰ΩúÊàê„ÅåÂøÖË¶Å„Åß„Åô','style','translate','appendChild','2498136aUJdis','2SSJsZJ','1085vJKmDG','activeFrame','function','none','touchAction','absolute','overflow','frames','trim','name','apply','„Ç≥„Éû)','block','Êñ∞„Åó„ÅÑÂêçÂâç„ÇíÂÖ•Âäõ'];_0x4d17=function(){return _0x6ad366;};return _0x4d17();}function toggleSection(_0x864279){const _0x36ed8b=_0x27d8,_0x417d92=document[_0x36ed8b(0xa9)](_0x864279),_0x92496e=_0x417d92[_0x36ed8b(0x112)](_0x36ed8b(0xbd)),_0x2d72ad=_0x417d92[_0x36ed8b(0x112)](_0x36ed8b(0x10e));_0x92496e[_0x36ed8b(0xf1)][_0x36ed8b(0xa4)]===_0x36ed8b(0xf9)?(_0x92496e[_0x36ed8b(0xf1)][_0x36ed8b(0xa4)]='',_0x2d72ad[_0x36ed8b(0x115)]='‚ñº'):(_0x92496e[_0x36ed8b(0xf1)][_0x36ed8b(0xa4)]=_0x36ed8b(0xf9),_0x2d72ad['textContent']='‚ñ≤');}function toggleSideMenu(_0x1a9cfc){const _0x6f77f2=_0x27d8,_0x3cdd0f=document[_0x6f77f2(0xa9)]('sidebar'),_0x402a35=document[_0x6f77f2(0xa9)](_0x6f77f2(0x90)),_0x376adb=document[_0x6f77f2(0xa9)](_0x6f77f2(0xc3)),_0x2dabe3=document[_0x6f77f2(0xa9)]('menu-toggle-btn-close'),_0xf27021=_0x3cdd0f['classList'][_0x6f77f2(0xaf)](_0x6f77f2(0xd8));let _0x56a354=typeof _0x1a9cfc===_0x6f77f2(0x11b)?_0x1a9cfc:!_0xf27021;_0x56a354?(_0x3cdd0f['classList'][_0x6f77f2(0xb6)](_0x6f77f2(0xd8)),_0x402a35[_0x6f77f2(0x106)][_0x6f77f2(0xb6)](_0x6f77f2(0x120)),document[_0x6f77f2(0xbc)][_0x6f77f2(0xf1)]['overflow']='hidden',document[_0x6f77f2(0xbc)]['style']['touchAction']=_0x6f77f2(0xf9),window[_0x6f77f2(0x9e)]<=0x384&&(_0x2dabe3[_0x6f77f2(0xf1)][_0x6f77f2(0xa4)]=_0x6f77f2(0x102),_0x376adb[_0x6f77f2(0xf1)][_0x6f77f2(0xa4)]=_0x6f77f2(0xf9))):(_0x3cdd0f[_0x6f77f2(0x106)][_0x6f77f2(0x10c)](_0x6f77f2(0xd8)),_0x402a35[_0x6f77f2(0x106)]['remove'](_0x6f77f2(0x120)),document[_0x6f77f2(0xbc)][_0x6f77f2(0xf1)][_0x6f77f2(0xfc)]='',document['body'][_0x6f77f2(0xf1)][_0x6f77f2(0xfa)]='',window[_0x6f77f2(0x9e)]<=0x384&&(_0x2dabe3[_0x6f77f2(0xf1)][_0x6f77f2(0xa4)]='none',_0x376adb[_0x6f77f2(0xf1)][_0x6f77f2(0xa4)]=_0x6f77f2(0x102)));}function updateMenuBtnDisplay(){const _0x3c6475=_0x27d8,_0x513e5d=document[_0x3c6475(0xa9)]('sidebar'),_0x58d2b8=document[_0x3c6475(0xa9)](_0x3c6475(0x90)),_0x5051d6=document[_0x3c6475(0xa9)](_0x3c6475(0xc3)),_0x4924b8=document['getElementById'](_0x3c6475(0x109)),_0x10e79d=document[_0x3c6475(0xa9)](_0x3c6475(0x8b));if(window[_0x3c6475(0x9e)]>0x384){_0x513e5d[_0x3c6475(0x106)][_0x3c6475(0x10c)]('open'),_0x58d2b8[_0x3c6475(0x106)][_0x3c6475(0x10c)](_0x3c6475(0x120)),_0x4924b8[_0x3c6475(0xf1)][_0x3c6475(0xa4)]=_0x3c6475(0xf9),_0x5051d6[_0x3c6475(0xf1)]['display']='none';if(_0x10e79d)_0x10e79d['style'][_0x3c6475(0xa4)]=window['innerWidth']>0x44c?'none':_0x3c6475(0x111);document[_0x3c6475(0xbc)][_0x3c6475(0xf1)][_0x3c6475(0xfc)]='',document['body'][_0x3c6475(0xf1)][_0x3c6475(0xfa)]='';}else{_0x513e5d[_0x3c6475(0x106)][_0x3c6475(0xaf)](_0x3c6475(0xd8))?(_0x4924b8[_0x3c6475(0xf1)][_0x3c6475(0xa4)]=_0x3c6475(0x102),_0x5051d6[_0x3c6475(0xf1)][_0x3c6475(0xa4)]=_0x3c6475(0xf9)):(_0x4924b8[_0x3c6475(0xf1)]['display']=_0x3c6475(0xf9),_0x5051d6[_0x3c6475(0xf1)]['display']=_0x3c6475(0x102));if(_0x10e79d)_0x10e79d[_0x3c6475(0xf1)][_0x3c6475(0xa4)]='inline-block';}}function _0x27d8(_0x27917f,_0x70aed0){_0x27917f=_0x27917f-0x87;const _0x50a3d5=_0x4d17();let _0x4a1490=_0x50a3d5[_0x27917f];return _0x4a1490;}function updateTransform(){const _0x4b949d=_0x27d8;canvas[_0x4b949d(0xf1)]['transform']='translate('+posX+_0x4b949d(0x92)+posY+'px)\x20scale('+scale+')';}