(function(_0x3e5933,_0x5c1e53){const _0x58f9c0=_0x5a6e,_0x2f936f=_0x3e5933();while(!![]){try{const _0x4d7602=-parseInt(_0x58f9c0(0x19b))/0x1*(-parseInt(_0x58f9c0(0x1e5))/0x2)+parseInt(_0x58f9c0(0x1c1))/0x3*(parseInt(_0x58f9c0(0x1c6))/0x4)+parseInt(_0x58f9c0(0x1cb))/0x5+-parseInt(_0x58f9c0(0x1d0))/0x6+parseInt(_0x58f9c0(0x1b0))/0x7*(-parseInt(_0x58f9c0(0x1d4))/0x8)+-parseInt(_0x58f9c0(0x1d9))/0x9*(parseInt(_0x58f9c0(0x1dc))/0xa)+-parseInt(_0x58f9c0(0x19c))/0xb*(parseInt(_0x58f9c0(0x1a1))/0xc);if(_0x4d7602===_0x5c1e53)break;else _0x2f936f['push'](_0x2f936f['shift']());}catch(_0x4e091b){_0x2f936f['push'](_0x2f936f['shift']());}}}(_0xfcb5,0xcf42f));const _0x31322c=(function(){let _0x3daf15=!![];return function(_0x1d0bbd,_0x5c7252){const _0x27c049=_0x3daf15?function(){const _0x419239=_0x5a6e;if(_0x5c7252){const _0x428489=_0x5c7252[_0x419239(0x1af)](_0x1d0bbd,arguments);return _0x5c7252=null,_0x428489;}}:function(){};return _0x3daf15=![],_0x27c049;};}()),_0x1e5073=_0x31322c(this,function(){const _0xe060a9=_0x5a6e;return _0x1e5073[_0xe060a9(0x1d6)]()[_0xe060a9(0x1bd)](_0xe060a9(0x1b8))[_0xe060a9(0x1d6)]()[_0xe060a9(0x1de)](_0x1e5073)[_0xe060a9(0x1bd)](_0xe060a9(0x1b8));});function _0x5a6e(_0x5c1b9c,_0x3c7c84){_0x5c1b9c=_0x5c1b9c-0x19a;const _0x4e10b6=_0xfcb5();let _0x1e5073=_0x4e10b6[_0x5c1b9c];return _0x1e5073;}_0x1e5073();function hexToRgbaCss(_0x380478,_0x1944d6){const _0x494172=_0x5a6e;let _0x3a2d6a,_0x335c35,_0x3abf96,_0x4bd6f6=_0x1944d6;if(_0x380478[_0x494172(0x1a8)]===0x9)_0x3a2d6a=parseInt(_0x380478[_0x494172(0x1e6)](0x1,0x3),0x10),_0x335c35=parseInt(_0x380478[_0x494172(0x1e6)](0x3,0x5),0x10),_0x3abf96=parseInt(_0x380478[_0x494172(0x1e6)](0x5,0x7),0x10),_0x4bd6f6=parseInt(_0x380478['slice'](0x7,0x9),0x10)/0xff;else{if(_0x380478[_0x494172(0x1a8)]===0x7)_0x3a2d6a=parseInt(_0x380478['slice'](0x1,0x3),0x10),_0x335c35=parseInt(_0x380478['slice'](0x3,0x5),0x10),_0x3abf96=parseInt(_0x380478['slice'](0x5,0x7),0x10);else{if(_0x380478[_0x494172(0x1a8)]===0x4)_0x3a2d6a=parseInt(_0x380478[0x1]+_0x380478[0x1],0x10),_0x335c35=parseInt(_0x380478[0x2]+_0x380478[0x2],0x10),_0x3abf96=parseInt(_0x380478[0x3]+_0x380478[0x3],0x10);else return _0x380478;}}return _0x494172(0x1e9)+_0x3a2d6a+','+_0x335c35+','+_0x3abf96+','+_0x4bd6f6+')';}function hexToRgba(_0x1e7236,_0x4d5bb6=0x1){const _0x271406=_0x5a6e;if(_0x1e7236===_0x271406(0x1bf)||_0x1e7236==='#00000000')return[0x0,0x0,0x0,0x0];_0x1e7236=_0x1e7236[_0x271406(0x1e2)]('#','');if(_0x1e7236['length']===0x3)_0x1e7236=_0x1e7236['split']('')[_0x271406(0x1db)](_0x43e420=>_0x43e420+_0x43e420)[_0x271406(0x1ae)]('');if(_0x1e7236[_0x271406(0x1a8)]===0x8){const _0x3e0c00=parseInt(_0x1e7236[_0x271406(0x1e6)](0x0,0x2),0x10),_0x5c705a=parseInt(_0x1e7236[_0x271406(0x1e6)](0x2,0x4),0x10),_0x509b65=parseInt(_0x1e7236[_0x271406(0x1e6)](0x4,0x6),0x10),_0x5376ca=parseInt(_0x1e7236[_0x271406(0x1e6)](0x6,0x8),0x10);return[_0x3e0c00,_0x5c705a,_0x509b65,_0x5376ca];}let _0x40a07d=parseInt(_0x1e7236,0x10);return[_0x40a07d>>0x10&0xff,_0x40a07d>>0x8&0xff,_0x40a07d&0xff,Math[_0x271406(0x1c5)](0xff*_0x4d5bb6)];}function colorsMatch(_0x408b27,_0xe0f1fd){return _0x408b27[0x0]===_0xe0f1fd[0x0]&&_0x408b27[0x1]===_0xe0f1fd[0x1]&&_0x408b27[0x2]===_0xe0f1fd[0x2]&&_0x408b27[0x3]===_0xe0f1fd[0x3];}function _0xfcb5(){const _0x338ae9=['transparent','width','897987NJFiIw','style','repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px','min','round','16vPAWAS','classList','getElementById','palette-color','hidden','5137905OMbmRe','createElement','background','className','#000000','3034062bpJDdv','splice','getContext','#00000000','48lWXcKO','from','toString','getImageData','firstChild','36TAxLow','textContent','map','1889810UiyEkr','set','constructor','color-palette','inset','\x20透明度','replace','forEach','8px','3022914aXuTih','slice','split','<span\x20style=\x22position:relative;z-index:1;font-size:13px;color:#888;\x22>透明</span>','rgba(','unshift','remove','position','1SAOzhF','11cloTCG','absolute','test','count','.palette-color','10919832pfMQQS','add','title','onclick','get','borderRadius','innerHTML','length','insertBefore','relative','span','selected','overflow','join','apply','835128xJqwoJ','floor','padStart','この色をパレットから削除','palette-del-btn','stopPropagation','display','toLowerCase','(((.+)+)+)+$','entries','div','button','appendChild','search','height'];_0xfcb5=function(){return _0x338ae9;};return _0xfcb5();}function createPalette(){const _0x375f46=_0x5a6e,_0x1479ac=document[_0x375f46(0x1c8)](_0x375f46(0x1df));if(!_0x1479ac)return;_0x1479ac[_0x375f46(0x1a7)]='',PALETTE_COLORS[_0x375f46(0x1e3)]((_0x4f78a0,_0x117fd4)=>{const _0x4b682b=_0x375f46,_0x4dd77d=document[_0x4b682b(0x1cc)](_0x4b682b(0x1bb));_0x4dd77d['className']=_0x4b682b(0x1c9),_0x4dd77d['style'][_0x4b682b(0x19a)]=_0x4b682b(0x1aa),_0x4dd77d[_0x4b682b(0x1c2)][_0x4b682b(0x1ad)]=_0x4b682b(0x1ca),_0x4dd77d['innerHTML']='';let _0x37e96e=document[_0x4b682b(0x1cc)]('div');_0x37e96e[_0x4b682b(0x1c2)][_0x4b682b(0x19a)]=_0x4b682b(0x19d),_0x37e96e[_0x4b682b(0x1c2)]['inset']='0',_0x37e96e['style'][_0x4b682b(0x1a6)]=_0x4b682b(0x1e4),_0x37e96e[_0x4b682b(0x1c2)][_0x4b682b(0x1cd)]=_0x4b682b(0x1c3);let _0x329ca3=document[_0x4b682b(0x1cc)](_0x4b682b(0x1ba));_0x329ca3[_0x4b682b(0x1c2)][_0x4b682b(0x19a)]='absolute',_0x329ca3['style'][_0x4b682b(0x1e0)]='0',_0x329ca3[_0x4b682b(0x1c2)]['borderRadius']=_0x4b682b(0x1e4);if(_0x4f78a0===_0x4b682b(0x1bf)||_0x4f78a0===_0x4b682b(0x1d3))_0x329ca3[_0x4b682b(0x1c2)][_0x4b682b(0x1cd)]='none',_0x4dd77d[_0x4b682b(0x1a3)]='透明',_0x4dd77d['innerHTML']=_0x4b682b(0x1e8);else{if(/^#([0-9a-f]{8})$/i[_0x4b682b(0x19e)](_0x4f78a0)){_0x329ca3['style'][_0x4b682b(0x1cd)]=hexToRgbaCss(_0x4f78a0,0x1);const [_0x11d921,_0x59214c,_0x20cb4d,_0x1ffd31]=hexToRgba(_0x4f78a0),_0x4244ba=_0x1ffd31/0xff;_0x4dd77d[_0x4b682b(0x1a3)]=rgbaToHex(_0x11d921,_0x59214c,_0x20cb4d)+'\x20'+Math['round'](_0x4244ba*0x64)+'%';}else _0x4f78a0[_0x4b682b(0x1b7)]()===currentColor[_0x4b682b(0x1b7)]()&&currentAlpha<0x1?(_0x329ca3[_0x4b682b(0x1c2)]['background']=hexToRgbaCss(_0x4f78a0,currentAlpha),_0x4dd77d['title']=_0x4f78a0+_0x4b682b(0x1e1)+Math[_0x4b682b(0x1c5)](currentAlpha*0x64)+'%'):(_0x329ca3[_0x4b682b(0x1c2)]['background']=_0x4f78a0,_0x4dd77d[_0x4b682b(0x1a3)]=_0x4f78a0);}_0x4dd77d['appendChild'](_0x37e96e),_0x4dd77d[_0x4b682b(0x1bc)](_0x329ca3),_0x4dd77d[_0x4b682b(0x1a4)]=()=>{const _0x372ecf=_0x4b682b;if(_0x4f78a0===_0x372ecf(0x1bf)||_0x4f78a0===_0x372ecf(0x1d3))currentColor='transparent',currentAlpha=0x0;else{if(/^#([0-9a-f]{8})$/i[_0x372ecf(0x19e)](_0x4f78a0)){const [_0x13586d,_0x5b14cf,_0x299f31,_0xad8b6b]=hexToRgba(_0x4f78a0);currentAlpha=_0xad8b6b/0xff,currentColor=rgbaToHex(_0x13586d,_0x5b14cf,_0x299f31);}else currentColor=_0x4f78a0,currentAlpha=0x1;}updateCurrentColorSwatch(),document['querySelectorAll'](_0x372ecf(0x1a0))[_0x372ecf(0x1e3)](_0x39d160=>_0x39d160[_0x372ecf(0x1c7)][_0x372ecf(0x1eb)](_0x372ecf(0x1ac))),_0x4dd77d[_0x372ecf(0x1c7)][_0x372ecf(0x1a2)](_0x372ecf(0x1ac));};if(_0x117fd4!==0x0){const _0x51a841=document[_0x4b682b(0x1cc)](_0x4b682b(0x1ab));_0x51a841[_0x4b682b(0x1da)]='×',_0x51a841[_0x4b682b(0x1ce)]=_0x4b682b(0x1b4),_0x51a841['title']=_0x4b682b(0x1b3),_0x51a841[_0x4b682b(0x1a4)]=_0x532d88=>{const _0x40041d=_0x4b682b;_0x532d88[_0x40041d(0x1b5)](),PALETTE_COLORS[_0x40041d(0x1a8)]>0x2&&(PALETTE_COLORS[_0x40041d(0x1d1)](_0x117fd4,0x1),createPalette());},_0x4dd77d[_0x4b682b(0x1bc)](_0x51a841);}_0x1479ac['appendChild'](_0x4dd77d);});const _0x197b76=document[_0x375f46(0x1cc)](_0x375f46(0x1bb));_0x197b76[_0x375f46(0x1ce)]='palette-add-btn',_0x197b76['title']='パレットに色を追加',_0x197b76['innerHTML']='+',_0x197b76[_0x375f46(0x1a4)]=_0x17279c=>{const _0x449b5e=_0x375f46;_0x17279c[_0x449b5e(0x1b5)](),showColorPickerDialog({'color':currentColor===_0x449b5e(0x1bf)?_0x449b5e(0x1cf):currentColor,'alpha':currentAlpha,'okLabel':'追加','onChange':()=>{},'onOk':({hex:_0x1acccb,rgba:_0x30d474,a:_0x3eaf8c})=>{const _0x3795ce=_0x449b5e;if(_0x3eaf8c===0x0){if(PALETTE_COLORS[0x0]===_0x3795ce(0x1bf))PALETTE_COLORS[_0x3795ce(0x1d1)](0x1,0x0,'transparent');else PALETTE_COLORS[_0x3795ce(0x1ea)](_0x3795ce(0x1bf));}else{const _0xbba5b5=Math[_0x3795ce(0x1c5)](_0x3eaf8c*0xff),_0x109b4f=_0xbba5b5[_0x3795ce(0x1d6)](0x10)['padStart'](0x2,'0');PALETTE_COLORS[_0x3795ce(0x1ea)](''+_0x1acccb+_0x109b4f);}if(PALETTE_COLORS['length']>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x3795ce(0x1e6)](0x0,0x18);savePaletteToDB(),createPalette();}});},_0x1479ac[_0x375f46(0x1a9)](_0x197b76,_0x1479ac[_0x375f46(0x1d8)]);const _0x4ac206=document[_0x375f46(0x1c8)]('scanColorsPanel');if(_0x4ac206)_0x4ac206[_0x375f46(0x1c2)][_0x375f46(0x1b6)]='';}function scanImageColors(){const _0x3c5d3c=_0x5a6e,_0x5a2069=getCurrentProject(),_0x17e8fd=getCurrentFrame();if(!_0x5a2069||!_0x17e8fd)return[];const _0x297b06=new Map(),_0x4d55d5=_0x5a2069[_0x3c5d3c(0x1c0)],_0x157678=_0x5a2069[_0x3c5d3c(0x1be)],_0x19c3a4=canvas[_0x3c5d3c(0x1d2)]('2d',{'willReadFrequently':!![]});for(let _0xc11f9b=0x0;_0xc11f9b<_0x157678;_0xc11f9b++){for(let _0x34d36c=0x0;_0x34d36c<_0x4d55d5;_0x34d36c++){const _0xfe0f4f=Math[_0x3c5d3c(0x1c4)](Math[_0x3c5d3c(0x1b1)](_0x34d36c*cellSize+cellSize/0x2),canvas[_0x3c5d3c(0x1c0)]-0x1),_0x48bbf5=Math['min'](Math[_0x3c5d3c(0x1b1)](_0xc11f9b*cellSize+cellSize/0x2),canvas[_0x3c5d3c(0x1be)]-0x1),_0x31ba67=_0x19c3a4[_0x3c5d3c(0x1d7)](_0xfe0f4f,_0x48bbf5,0x1,0x1)['data'],_0x2e5668=_0x31ba67[0x0]+','+_0x31ba67[0x1]+','+_0x31ba67[0x2]+','+_0x31ba67[0x3];_0x297b06[_0x3c5d3c(0x1dd)](_0x2e5668,(_0x297b06[_0x3c5d3c(0x1a5)](_0x2e5668)||0x0)+0x1);}}const _0x2493d7=Array[_0x3c5d3c(0x1d5)](_0x297b06[_0x3c5d3c(0x1b9)]())[_0x3c5d3c(0x1db)](([_0x3b2ab5,_0x420b87])=>{const _0x3e8228=_0x3c5d3c,[_0x25d04b,_0x2fdc7c,_0x59ab5c,_0x62e1ea]=_0x3b2ab5[_0x3e8228(0x1e7)](',')[_0x3e8228(0x1db)](_0x132495=>parseInt(_0x132495,0xa));return{'r':_0x25d04b,'g':_0x2fdc7c,'b':_0x59ab5c,'a':_0x62e1ea,'count':_0x420b87};})['sort']((_0x5783ce,_0x32ed73)=>_0x32ed73[_0x3c5d3c(0x19f)]-_0x5783ce[_0x3c5d3c(0x19f)]);return _0x2493d7;}function rgbaToHex(_0x449e6d,_0x141620,_0x3114f5){const _0x25d077=_0x5a6e;return'#'+[_0x449e6d,_0x141620,_0x3114f5][_0x25d077(0x1db)](_0x1fb6bd=>_0x1fb6bd[_0x25d077(0x1d6)](0x10)[_0x25d077(0x1b2)](0x2,'0'))[_0x25d077(0x1ae)]('');}