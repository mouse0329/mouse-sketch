(function(_0x213f96,_0x46687c){const _0x3aa628=_0xbeb5,_0x460d93=_0x213f96();while(!![]){try{const _0x1562e5=parseInt(_0x3aa628(0x1cf))/0x1+parseInt(_0x3aa628(0x226))/0x2+parseInt(_0x3aa628(0x1e1))/0x3+-parseInt(_0x3aa628(0x1fe))/0x4+-parseInt(_0x3aa628(0x1e7))/0x5+-parseInt(_0x3aa628(0x243))/0x6+-parseInt(_0x3aa628(0x1ec))/0x7*(parseInt(_0x3aa628(0x1e5))/0x8);if(_0x1562e5===_0x46687c)break;else _0x460d93['push'](_0x460d93['shift']());}catch(_0x4b97bd){_0x460d93['push'](_0x460d93['shift']());}}}(_0x347d,0x829ba));const _0x3f05c7=(function(){let _0x1dc25b=!![];return function(_0x524779,_0x39f78c){const _0x21ff68=_0x1dc25b?function(){const _0x1a5c2b=_0xbeb5;if(_0x39f78c){const _0x9b1196=_0x39f78c[_0x1a5c2b(0x1f2)](_0x524779,arguments);return _0x39f78c=null,_0x9b1196;}}:function(){};return _0x1dc25b=![],_0x21ff68;};}()),_0x2e7284=_0x3f05c7(this,function(){const _0x3b5ff9=_0xbeb5;return _0x2e7284[_0x3b5ff9(0x231)]()[_0x3b5ff9(0x21b)]('(((.+)+)+)+$')['toString']()[_0x3b5ff9(0x220)](_0x2e7284)[_0x3b5ff9(0x21b)](_0x3b5ff9(0x232));});_0x2e7284();function _0xbeb5(_0x48bfd6,_0x548191){_0x48bfd6=_0x48bfd6-0x1b7;const _0x27dc7a=_0x347d();let _0x2e7284=_0x27dc7a[_0x48bfd6];return _0x2e7284;}function updateCurrentColorSwatch(){const _0x235378=_0xbeb5,_0x131022=document[_0x235378(0x203)]('currentColorSwatch');if(!_0x131022)return;_0x131022[_0x235378(0x1e3)]='',_0x131022[_0x235378(0x1c7)][_0x235378(0x21c)]='relative',_0x131022[_0x235378(0x1c7)][_0x235378(0x1ba)]='hidden';let _0x4eff19=document[_0x235378(0x234)](_0x235378(0x214));_0x4eff19[_0x235378(0x1c7)]['position']=_0x235378(0x1e6),_0x4eff19[_0x235378(0x1c7)]['inset']='0',_0x4eff19[_0x235378(0x1c7)][_0x235378(0x1c0)]='8px',_0x4eff19[_0x235378(0x1c7)][_0x235378(0x227)]='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x1c2f81=document[_0x235378(0x234)](_0x235378(0x214));_0x1c2f81['style']['position']='absolute',_0x1c2f81[_0x235378(0x1c7)][_0x235378(0x1d9)]='0',_0x1c2f81[_0x235378(0x1c7)][_0x235378(0x1c0)]=_0x235378(0x206),currentColor===_0x235378(0x219)||currentAlpha===0x0?(_0x1c2f81[_0x235378(0x1c7)]['background']=_0x235378(0x23d),_0x131022[_0x235378(0x1c3)]='ÈÄèÊòé'):(_0x1c2f81[_0x235378(0x1c7)]['background']=hexToRgbaCss(currentColor,currentAlpha),_0x131022[_0x235378(0x1c3)]=currentAlpha<0x1?currentColor+'\x20ÈÄèÊòéÂ∫¶'+Math[_0x235378(0x1f3)](currentAlpha*0x64)+'%':currentColor),_0x131022['appendChild'](_0x4eff19),_0x131022['appendChild'](_0x1c2f81);}function updateProjectUI(){const _0x2168e2=_0xbeb5,_0x275493=document[_0x2168e2(0x203)]('projectList');_0x275493[_0x2168e2(0x1e3)]='';for(let _0x58c5c9=0x0;_0x58c5c9<projects[_0x2168e2(0x23b)];_0x58c5c9++){const _0x4e6428=document[_0x2168e2(0x234)](_0x2168e2(0x214));_0x4e6428[_0x2168e2(0x22c)]=_0x2168e2(0x1f9)+(_0x58c5c9===activeProject?_0x2168e2(0x23f):''),_0x4e6428[_0x2168e2(0x1e8)]=()=>{activeProject=_0x58c5c9,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();},_0x4e6428['oncontextmenu']=_0x49ff74=>{_0x49ff74['preventDefault'](),showRenameProjectDialog(_0x58c5c9);};let _0x57c05b=null;const _0x1901e0=()=>{_0x57c05b=setTimeout(()=>{showRenameProjectDialog(_0x58c5c9);},0x258);},_0x282345=()=>{if(_0x57c05b)clearTimeout(_0x57c05b);_0x57c05b=null;};_0x4e6428[_0x2168e2(0x236)](_0x2168e2(0x1db),_0x1901e0,{'passive':!![]}),_0x4e6428[_0x2168e2(0x236)](_0x2168e2(0x1f0),_0x282345,{'passive':!![]}),_0x4e6428[_0x2168e2(0x236)]('touchcancel',_0x282345,{'passive':!![]});const _0x5b23ab=document[_0x2168e2(0x234)](_0x2168e2(0x20f));_0x5b23ab[_0x2168e2(0x22c)]=_0x2168e2(0x1e2),_0x5b23ab['textContent']=projects[_0x58c5c9]['name']||'ÁîªÂÉè'+(_0x58c5c9+0x1),_0x5b23ab[_0x2168e2(0x1c3)]=_0x2168e2(0x24e),_0x5b23ab[_0x2168e2(0x1e8)]=_0x223349=>{const _0xc2be6d=_0x2168e2;_0x223349[_0xc2be6d(0x202)](),editProjectName(_0x58c5c9,_0x5b23ab);},_0x4e6428[_0x2168e2(0x1d8)](_0x5b23ab);const _0x5d1504=document[_0x2168e2(0x234)](_0x2168e2(0x1e4));_0x5d1504[_0x2168e2(0x248)]='ÂâäÈô§',_0x5d1504['className']=_0x2168e2(0x242),_0x5d1504[_0x2168e2(0x1fc)]=projects['length']===0x1,_0x5d1504[_0x2168e2(0x1e8)]=_0x3547fe=>{const _0x56fc8d=_0x2168e2;_0x3547fe[_0x56fc8d(0x202)](),removeProjectAt(_0x58c5c9);},_0x4e6428[_0x2168e2(0x1d8)](_0x5d1504),_0x275493[_0x2168e2(0x1d8)](_0x4e6428);}document[_0x2168e2(0x203)](_0x2168e2(0x20e))[_0x2168e2(0x248)]='('+projects[_0x2168e2(0x23b)]+'Êûö)';}function showRenameProjectDialog(_0x4d9794){const _0x13649d=_0xbeb5,_0x1cd2e2=projects[_0x4d9794],_0x5c1095=_0x1cd2e2&&_0x1cd2e2[_0x13649d(0x210)]?_0x1cd2e2[_0x13649d(0x210)]:'ÁîªÂÉè'+(_0x4d9794+0x1),_0x22d750=prompt(_0x13649d(0x241),_0x5c1095);if(_0x22d750==null)return;const _0x431a3f=_0x22d750['trim']();projects[_0x4d9794][_0x13649d(0x210)]=_0x431a3f||_0x5c1095,updateProjectUI();}function showNewProjectDialog(_0x5545f6){const _0xe0b0fb=_0xbeb5;let _0xe381a=document[_0xe0b0fb(0x203)](_0xe0b0fb(0x1cc));if(_0xe381a)_0xe381a[_0xe0b0fb(0x230)]();const _0x266a45=document['createElement'](_0xe0b0fb(0x214));_0x266a45['id']=_0xe0b0fb(0x1cc),_0x266a45['style'][_0xe0b0fb(0x21c)]=_0xe0b0fb(0x1eb),_0x266a45[_0xe0b0fb(0x1c7)][_0xe0b0fb(0x1f8)]='0',_0x266a45['style'][_0xe0b0fb(0x24a)]='0',_0x266a45[_0xe0b0fb(0x1c7)][_0xe0b0fb(0x1ce)]=_0xe0b0fb(0x1dd),_0x266a45['style']['height']=_0xe0b0fb(0x1d7),_0x266a45[_0xe0b0fb(0x1c7)][_0xe0b0fb(0x227)]=_0xe0b0fb(0x1bb),_0x266a45['style'][_0xe0b0fb(0x20b)]=_0xe0b0fb(0x1c9),_0x266a45[_0xe0b0fb(0x1c7)]['alignItems']='center',_0x266a45['style']['justifyContent']='center',_0x266a45['style'][_0xe0b0fb(0x1e9)]=_0xe0b0fb(0x22b),_0x266a45[_0xe0b0fb(0x1e3)]=_0xe0b0fb(0x1d2)+(projects[_0xe0b0fb(0x23b)]+0x1)+'\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂπÖ:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x221024\x22\x20value=\x2264\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>È´ò„Åï:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x221024\x22\x20value=\x2264\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>‰ΩúÊàê</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0xe0b0fb(0x228)][_0xe0b0fb(0x1d8)](_0x266a45),_0x266a45['querySelector']('#newProjOkBtn')['onclick']=()=>{const _0x203c95=_0xe0b0fb,_0x140cdd=parseInt(_0x266a45[_0x203c95(0x211)](_0x203c95(0x24c))[_0x203c95(0x1f1)],0xa),_0x2f179a=parseInt(_0x266a45[_0x203c95(0x211)]('#newProjH')['value'],0xa),_0x4dac8f=_0x266a45['querySelector']('#newProjName')['value']['trim']();_0x266a45['remove']();if(_0x5545f6)_0x5545f6(_0x140cdd,_0x2f179a,_0x4dac8f);},_0x266a45['querySelector'](_0xe0b0fb(0x222))[_0xe0b0fb(0x1e8)]=()=>{_0x266a45['remove']();};}function updateFrameUI(){const _0x13ea82=_0xbeb5,_0x5f4c11=document[_0x13ea82(0x203)](_0x13ea82(0x23c)),_0x256031=getCurrentProject();if(!_0x256031||!_0x256031[_0x13ea82(0x24b)])return;_0x5f4c11[_0x13ea82(0x1e3)]='';for(let _0x598746=0x0;_0x598746<_0x256031[_0x13ea82(0x24b)][_0x13ea82(0x23b)];_0x598746++){const _0x37a225=document[_0x13ea82(0x234)](_0x13ea82(0x214));_0x37a225['className']='frame-item'+(_0x598746===_0x256031[_0x13ea82(0x1cb)]?_0x13ea82(0x23f):''),_0x37a225[_0x13ea82(0x1e8)]=()=>{_0x256031['activeFrame']=_0x598746,updateFrameUI(),updateLayerUI(),redrawAll();};const _0x46698a=document[_0x13ea82(0x234)](_0x13ea82(0x1df));_0x46698a[_0x13ea82(0x22c)]=_0x13ea82(0x23a),_0x46698a['width']=0x20,_0x46698a[_0x13ea82(0x224)]=0x20;let _0x3df680=_0x46698a['getContext']('2d',{'willReadFrequently':!![]});_0x3df680[_0x13ea82(0x24f)](0x0,0x0,0x20,0x20);for(let _0x1125e9=0x0;_0x1125e9<_0x256031[_0x13ea82(0x24b)][_0x598746][_0x13ea82(0x1e0)][_0x13ea82(0x23b)];_0x1125e9++){const _0x3bf84b=_0x256031['frames'][_0x598746][_0x13ea82(0x1e0)][_0x1125e9];_0x3bf84b&&_0x3bf84b['canvas']&&_0x3df680[_0x13ea82(0x204)](_0x3bf84b[_0x13ea82(0x1df)],0x0,0x0,_0x46698a[_0x13ea82(0x1ce)],_0x46698a[_0x13ea82(0x224)]);}_0x37a225['appendChild'](_0x46698a);const _0x290d95=document[_0x13ea82(0x234)]('span');_0x290d95['textContent']='F'+(_0x598746+0x1),_0x37a225[_0x13ea82(0x1d8)](_0x290d95);const _0x2daac3=document[_0x13ea82(0x234)]('button');_0x2daac3['textContent']='ÂâäÈô§',_0x2daac3['className']=_0x13ea82(0x24d),_0x2daac3[_0x13ea82(0x1fc)]=_0x256031[_0x13ea82(0x24b)][_0x13ea82(0x23b)]===0x1,_0x2daac3[_0x13ea82(0x1e8)]=_0x43bb94=>{_0x43bb94['stopPropagation'](),removeFrameAt(_0x598746);},_0x37a225[_0x13ea82(0x1d8)](_0x2daac3),_0x5f4c11[_0x13ea82(0x1d8)](_0x37a225);}document['getElementById'](_0x13ea82(0x233))[_0x13ea82(0x248)]='('+_0x256031[_0x13ea82(0x24b)][_0x13ea82(0x23b)]+_0x13ea82(0x22e);}function updateLayerUI(){const _0x3eaa62=_0xbeb5,{layers:_0x5ad782,activeLayer:_0x241b56}=getCurrentFrame();document['getElementById'](_0x3eaa62(0x1f4))[_0x3eaa62(0x248)]='('+_0x5ad782['length']+'Êûö)';const _0x1a141a=document[_0x3eaa62(0x203)]('layerList');_0x1a141a[_0x3eaa62(0x1e3)]='';for(let _0x592025=_0x5ad782[_0x3eaa62(0x23b)]-0x1;_0x592025>=0x0;_0x592025--){const _0x22e2b7=document['createElement']('div');_0x22e2b7[_0x3eaa62(0x22c)]=_0x3eaa62(0x1c5)+(_0x592025===_0x241b56?'\x20active':''),_0x22e2b7[_0x3eaa62(0x1e8)]=_0x4c9b54=>{const _0x4aa879=_0x3eaa62;if(_0x4c9b54[_0x4aa879(0x1ed)][_0x4aa879(0x1bd)][_0x4aa879(0x1dc)](_0x4aa879(0x240)))return;getCurrentFrame()['activeLayer']=_0x592025,updateLayerUI(),redrawAll();};const _0x446957=document[_0x3eaa62(0x234)]('canvas');_0x446957[_0x3eaa62(0x22c)]=_0x3eaa62(0x21e),_0x446957['width']=0x20,_0x446957[_0x3eaa62(0x224)]=0x20;const _0x3a4502=_0x446957[_0x3eaa62(0x1b8)]('2d');_0x3a4502['clearRect'](0x0,0x0,_0x446957['width'],_0x446957['height']),_0x3a4502[_0x3eaa62(0x1f7)]=_0x5ad782[_0x592025][_0x3eaa62(0x1ff)]===![]?0.3:0x1;let _0x253e38=null;if(_0x5ad782[_0x592025]instanceof HTMLCanvasElement)_0x253e38=_0x5ad782[_0x592025];else _0x5ad782[_0x592025][_0x3eaa62(0x1df)]instanceof HTMLCanvasElement&&(_0x253e38=_0x5ad782[_0x592025]['canvas']);if(_0x253e38&&_0x253e38['width']>0x0&&_0x253e38[_0x3eaa62(0x224)]>0x0)_0x3a4502[_0x3eaa62(0x204)](_0x253e38,0x0,0x0,_0x446957[_0x3eaa62(0x1ce)],_0x446957[_0x3eaa62(0x224)]);else{}_0x22e2b7[_0x3eaa62(0x1d8)](_0x446957);const _0x2b4ea4=document[_0x3eaa62(0x234)]('button');_0x2b4ea4[_0x3eaa62(0x22c)]=_0x3eaa62(0x1c1),_0x2b4ea4['title']=_0x5ad782[_0x592025]['visible']===![]?_0x3eaa62(0x229):'ÈùûË°®Á§∫„Å´„Åô„Çã',_0x2b4ea4['innerHTML']=_0x5ad782[_0x592025]['visible']===![]?_0x3eaa62(0x1fd):_0x3eaa62(0x1da),_0x2b4ea4[_0x3eaa62(0x1e8)]=_0x545270=>{const _0x3a27ef=_0x3eaa62;_0x545270[_0x3a27ef(0x202)](),_0x5ad782[_0x592025][_0x3a27ef(0x1ff)]=!_0x5ad782[_0x592025][_0x3a27ef(0x1ff)],updateLayerUI(),redrawAll();},_0x22e2b7['appendChild'](_0x2b4ea4);const _0x52be1b=document['createElement'](_0x3eaa62(0x20f));_0x52be1b['textContent']=_0x3eaa62(0x221)+(_0x592025+0x1),_0x22e2b7[_0x3eaa62(0x1d8)](_0x52be1b);const _0x5df60c=document[_0x3eaa62(0x234)](_0x3eaa62(0x1e4));_0x5df60c[_0x3eaa62(0x248)]='‚Üë',_0x5df60c[_0x3eaa62(0x22c)]='layer-btn',_0x5df60c[_0x3eaa62(0x1c3)]=_0x3eaa62(0x215),_0x5df60c[_0x3eaa62(0x1fc)]=_0x592025===_0x5ad782['length']-0x1,_0x5df60c[_0x3eaa62(0x1e8)]=_0x281c8a=>{const _0x494c4c=_0x3eaa62;_0x281c8a[_0x494c4c(0x202)]();if(_0x592025<_0x5ad782[_0x494c4c(0x23b)]-0x1)swapLayer(_0x592025,_0x592025+0x1);},_0x22e2b7[_0x3eaa62(0x1d8)](_0x5df60c);const _0x58d64a=document[_0x3eaa62(0x234)](_0x3eaa62(0x1e4));_0x58d64a[_0x3eaa62(0x248)]='‚Üì',_0x58d64a[_0x3eaa62(0x22c)]=_0x3eaa62(0x240),_0x58d64a[_0x3eaa62(0x1c3)]=_0x3eaa62(0x1fb),_0x58d64a[_0x3eaa62(0x1fc)]=_0x592025===0x0,_0x58d64a[_0x3eaa62(0x1e8)]=_0x4434f8=>{_0x4434f8['stopPropagation']();if(_0x592025>0x0)swapLayer(_0x592025,_0x592025-0x1);},_0x22e2b7[_0x3eaa62(0x1d8)](_0x58d64a);const _0x1f6c77=document[_0x3eaa62(0x234)](_0x3eaa62(0x1e4));_0x1f6c77[_0x3eaa62(0x248)]='ÂâäÈô§',_0x1f6c77[_0x3eaa62(0x22c)]='layer-btn',_0x1f6c77[_0x3eaa62(0x1c3)]=_0x3eaa62(0x1b9),_0x1f6c77[_0x3eaa62(0x1fc)]=_0x5ad782[_0x3eaa62(0x23b)]===0x1,_0x1f6c77['onclick']=_0x4870eb=>{const _0x3c1700=_0x3eaa62;_0x4870eb[_0x3c1700(0x202)](),removeLayerAt(_0x592025);},_0x22e2b7[_0x3eaa62(0x1d8)](_0x1f6c77),_0x1a141a[_0x3eaa62(0x1d8)](_0x22e2b7);}try{if(typeof updateUndoRedoButtons===_0x3eaa62(0x1d3))updateUndoRedoButtons();}catch(_0x3b51cd){}}function _0x347d(){const _0x33d963=['#dlgColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:var(--surface);\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>Êñ∞„Åó„ÅÑÁîªÂÉè„ÅÆ„Çµ„Ç§„Ç∫</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂêçÂâç:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22ÁîªÂÉè','function','selected','center','#dlgCancelBtn','100vh','appendChild','inset','üëÅÔ∏è','touchstart','contains','100vw','color-dialog','canvas','layers','1640097ZjxbIe','project-name','innerHTML','button','2414168MfFImR','absolute','994700AHqlBp','onclick','zIndex','px)\x20scale(','fixed','7sayZGv','target','open','block','touchend','value','apply','round','layerCount','.toggle-btn','main-container','globalAlpha','left','project-item','toolsToggleBtn','‰∏ã„Å´ÁßªÂãï','disabled','üëÅÔ∏è‚Äçüó®Ô∏è','1079160DLFGwp','visible','\x22\x20style=\x22width:72px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgTransparentBtn\x22\x20type=\x22button\x22\x20style=\x22margin-left:8px;\x22>ÈÄèÊòé</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:8px;justify-content:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgOkBtn\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgCancelBtn\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','forEach','stopPropagation','getElementById','drawImage','.palette-color','8px','activeLayer','justifyContent','#dlgAlpha','onerror','display','add','IndexedDB\x20„ÅÆ„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Åü„ÇÅÂÜç‰ΩúÊàê„ÅåÂøÖË¶Å„Åß„Åô','projectCount','span','name','querySelector','offsetCells','px,\x20','div','‰∏ä„Å´ÁßªÂãï','result','deleteDatabase','getAttribute','transparent','sidebar-open','search','position','#dlgTransparentBtn','layer-thumb','transform','constructor','„É¨„Ç§„É§„Éº','#newProjCancelBtn','floor','height','inline-block','1480334tlxGpK','background','body','Ë°®Á§∫„Åô„Çã','close','3000','className','translate','„Ç≥„Éû)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;padding:18px;border-radius:8px;min-width:260px;text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:0\x200\x208px\x200;\x22>Ëâ≤„Å®ÈÄèÊòé„ÇíÈÅ∏Êäû</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22dlgColor\x22\x20value=\x22','remove','toString','(((.+)+)+)+$','frameCount','createElement','data-theme','addEventListener','hidden','.section-content','boolean','frame-thumb','length','frameList','none','innerWidth','\x20active','layer-btn','Êñ∞„Åó„ÅÑÂêçÂâç„ÇíÂÖ•Âäõ','project-btn','4787556hVFHNz','createObjectStore','objectStoreNames','active','touchAction','textContent','sidebar','top','frames','#newProjW','frame-btn','„ÇØ„É™„ÉÉ„ÇØ„ÅßÂêçÂâç„ÇíÁ∑®ÈõÜ','clearRect','click','getContext','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíÂâäÈô§','overflow','rgba(0,0,0,0.3)','startCell','classList','restore','4000','borderRadius','layer-btn\x20layer-vis-btn','menu-toggle-btn-close','title','#dlgOkBtn','layer-item','querySelectorAll','style','#000000','flex','dark','activeFrame','new-project-dialog','alignItems','width','816531YsJRne','error'];_0x347d=function(){return _0x33d963;};return _0x347d();}function toggleTheme(){const _0x358096=_0xbeb5;applyTheme(document['documentElement'][_0x358096(0x218)](_0x358096(0x235))===_0x358096(0x1ca)?'light':'dark');}function openDB(){return new Promise((_0x4716c9,_0x532805)=>{const _0x2269a9=_0xbeb5,_0x316d7c=indexedDB[_0x2269a9(0x1ee)](dbName,0x2);_0x316d7c['onupgradeneeded']=()=>{const _0x40d468=_0x2269a9,_0x37e049=_0x316d7c[_0x40d468(0x216)];!_0x37e049[_0x40d468(0x245)]['contains'](storeName)&&_0x37e049[_0x40d468(0x244)](storeName);},_0x316d7c['onsuccess']=()=>{const _0x189723=_0x2269a9,_0xa6f205=_0x316d7c[_0x189723(0x216)];if(!_0xa6f205[_0x189723(0x245)][_0x189723(0x1dc)](storeName)){_0xa6f205[_0x189723(0x22a)](),indexedDB[_0x189723(0x217)](dbName),_0x532805(new Error(_0x189723(0x20d)));return;}_0x4716c9(_0xa6f205);},_0x316d7c[_0x2269a9(0x20a)]=()=>_0x532805(_0x316d7c[_0x2269a9(0x1d0)]);});}function openColorDialog(){const _0x436303=_0xbeb5;if(document['getElementById'](_0x436303(0x1de)))return;const _0x520cdd=document[_0x436303(0x234)](_0x436303(0x214));_0x520cdd['id']=_0x436303(0x1de),_0x520cdd[_0x436303(0x1c7)][_0x436303(0x21c)]='fixed',_0x520cdd['style'][_0x436303(0x1f8)]='0',_0x520cdd[_0x436303(0x1c7)][_0x436303(0x24a)]='0',_0x520cdd[_0x436303(0x1c7)][_0x436303(0x1ce)]=_0x436303(0x1dd),_0x520cdd['style'][_0x436303(0x224)]=_0x436303(0x1d7),_0x520cdd['style'][_0x436303(0x20b)]='flex',_0x520cdd['style'][_0x436303(0x1cd)]=_0x436303(0x1d5),_0x520cdd[_0x436303(0x1c7)][_0x436303(0x208)]=_0x436303(0x1d5),_0x520cdd['style'][_0x436303(0x1e9)]=_0x436303(0x1bf),_0x520cdd[_0x436303(0x1c7)][_0x436303(0x227)]='rgba(0,0,0,0.25)',_0x520cdd[_0x436303(0x1e3)]=_0x436303(0x22f)+(currentColor===_0x436303(0x219)?_0x436303(0x1c8):currentColor)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÈÄèÊòéÂ∫¶(0-100):\x20<input\x20type=\x22number\x22\x20id=\x22dlgAlpha\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22'+Math[_0x436303(0x1f3)](currentAlpha*0x64)+_0x436303(0x200),document[_0x436303(0x228)][_0x436303(0x1d8)](_0x520cdd),_0x520cdd[_0x436303(0x211)](_0x436303(0x21d))['onclick']=()=>{const _0x4087b8=_0x436303,_0x1d26d6=_0x520cdd[_0x4087b8(0x211)](_0x4087b8(0x209));_0x1d26d6[_0x4087b8(0x1f1)]=0x0,_0x520cdd[_0x4087b8(0x211)](_0x4087b8(0x1d1))['value']=_0x4087b8(0x1c8);},_0x520cdd[_0x436303(0x211)](_0x436303(0x1c4))[_0x436303(0x1e8)]=()=>{const _0x390967=_0x436303,_0x33337a=_0x520cdd[_0x390967(0x211)](_0x390967(0x1d1))[_0x390967(0x1f1)],_0x231728=Math['max'](0x0,Math['min'](0x64,parseInt(_0x520cdd[_0x390967(0x211)](_0x390967(0x209))[_0x390967(0x1f1)],0xa)||0x0));if(_0x231728===0x0){currentAlpha=0x0,currentColor='transparent';if(colorPicker)colorPicker[_0x390967(0x1f1)]=_0x390967(0x1c8);}else{currentAlpha=_0x231728/0x64,currentColor=_0x33337a;if(colorPicker)colorPicker[_0x390967(0x1f1)]=_0x33337a;}updateCurrentColorSwatch(),document[_0x390967(0x1c6)](_0x390967(0x205))[_0x390967(0x201)](_0x3b5736=>_0x3b5736[_0x390967(0x1bd)]['remove'](_0x390967(0x1d4))),_0x520cdd[_0x390967(0x230)]();},_0x520cdd[_0x436303(0x211)](_0x436303(0x1d6))['onclick']=()=>_0x520cdd[_0x436303(0x230)](),_0x520cdd[_0x436303(0x236)](_0x436303(0x1b7),_0x382e68=>{const _0x20e6c8=_0x436303;if(_0x382e68[_0x20e6c8(0x1ed)]===_0x520cdd)_0x520cdd['remove']();});}function updateLayerMove(_0x1b05b5){const _0x3e6e92=_0xbeb5;if(!layerMoveState[_0x3e6e92(0x246)])return;const _0x3e2b8b=getCanvasCoords(_0x1b05b5),_0x2d947e={'x':Math['floor'](_0x3e2b8b['x']/cellSize),'y':Math[_0x3e6e92(0x223)](_0x3e2b8b['y']/cellSize)};layerMoveState[_0x3e6e92(0x212)]['x']=_0x2d947e['x']-layerMoveState[_0x3e6e92(0x1bc)]['x'],layerMoveState['offsetCells']['y']=_0x2d947e['y']-layerMoveState[_0x3e6e92(0x1bc)]['y'],redrawAll();const _0x1afec8=getCurrentFrame();if(!_0x1afec8)return;const _0x4257f9=_0x1afec8[_0x3e6e92(0x207)];if(_0x4257f9==null)return;ctx['save'](),ctx[_0x3e6e92(0x22d)](layerMoveState[_0x3e6e92(0x212)]['x']*cellSize,layerMoveState[_0x3e6e92(0x212)]['y']*cellSize);const _0x3753db=_0x1afec8[_0x3e6e92(0x1e0)][_0x4257f9],_0xfc5b8e=_0x3753db&&_0x3753db[_0x3e6e92(0x1df)]?_0x3753db[_0x3e6e92(0x1df)]:_0x3753db;if(_0xfc5b8e)ctx[_0x3e6e92(0x204)](_0xfc5b8e,0x0,0x0);ctx[_0x3e6e92(0x1be)]();}function toggleSection(_0x25699d){const _0x1f9c38=_0xbeb5,_0x1dc966=document[_0x1f9c38(0x203)](_0x25699d),_0x296e90=_0x1dc966[_0x1f9c38(0x211)](_0x1f9c38(0x238)),_0x1f6d32=_0x1dc966['querySelector'](_0x1f9c38(0x1f5));_0x296e90[_0x1f9c38(0x1c7)][_0x1f9c38(0x20b)]==='none'?(_0x296e90[_0x1f9c38(0x1c7)][_0x1f9c38(0x20b)]='',_0x1f6d32['textContent']='‚ñº'):(_0x296e90[_0x1f9c38(0x1c7)]['display']=_0x1f9c38(0x23d),_0x1f6d32['textContent']='‚ñ≤');}function toggleSideMenu(_0x3b5a44){const _0x2b8147=_0xbeb5,_0xda7b02=document[_0x2b8147(0x203)](_0x2b8147(0x249)),_0x1973d1=document[_0x2b8147(0x203)](_0x2b8147(0x1f6)),_0x131421=document['getElementById']('menu-toggle-btn'),_0x3efa82=document[_0x2b8147(0x203)](_0x2b8147(0x1c2)),_0x6e2b97=_0xda7b02[_0x2b8147(0x1bd)][_0x2b8147(0x1dc)](_0x2b8147(0x1ee));let _0x32a5e8=typeof _0x3b5a44===_0x2b8147(0x239)?_0x3b5a44:!_0x6e2b97;_0x32a5e8?(_0xda7b02['classList']['add'](_0x2b8147(0x1ee)),_0x1973d1[_0x2b8147(0x1bd)][_0x2b8147(0x20c)](_0x2b8147(0x21a)),document[_0x2b8147(0x228)][_0x2b8147(0x1c7)][_0x2b8147(0x1ba)]=_0x2b8147(0x237),document[_0x2b8147(0x228)][_0x2b8147(0x1c7)][_0x2b8147(0x247)]='none',window[_0x2b8147(0x23e)]<=0x384&&(_0x3efa82['style'][_0x2b8147(0x20b)]=_0x2b8147(0x1ef),_0x131421[_0x2b8147(0x1c7)][_0x2b8147(0x20b)]=_0x2b8147(0x23d))):(_0xda7b02[_0x2b8147(0x1bd)][_0x2b8147(0x230)](_0x2b8147(0x1ee)),_0x1973d1[_0x2b8147(0x1bd)]['remove'](_0x2b8147(0x21a)),document[_0x2b8147(0x228)][_0x2b8147(0x1c7)]['overflow']='',document[_0x2b8147(0x228)][_0x2b8147(0x1c7)][_0x2b8147(0x247)]='',window[_0x2b8147(0x23e)]<=0x384&&(_0x3efa82[_0x2b8147(0x1c7)][_0x2b8147(0x20b)]=_0x2b8147(0x23d),_0x131421[_0x2b8147(0x1c7)][_0x2b8147(0x20b)]=_0x2b8147(0x1ef)));}function updateMenuBtnDisplay(){const _0xed1b85=_0xbeb5,_0xec0486=document[_0xed1b85(0x203)](_0xed1b85(0x249)),_0x236823=document[_0xed1b85(0x203)]('main-container'),_0x1ea01a=document[_0xed1b85(0x203)]('menu-toggle-btn'),_0x564ac3=document['getElementById']('menu-toggle-btn-close'),_0x4ab8ae=document[_0xed1b85(0x203)](_0xed1b85(0x1fa));if(window[_0xed1b85(0x23e)]>0x384){_0xec0486['classList'][_0xed1b85(0x230)](_0xed1b85(0x1ee)),_0x236823[_0xed1b85(0x1bd)]['remove'](_0xed1b85(0x21a)),_0x564ac3[_0xed1b85(0x1c7)][_0xed1b85(0x20b)]=_0xed1b85(0x23d),_0x1ea01a[_0xed1b85(0x1c7)]['display']='none';if(_0x4ab8ae)_0x4ab8ae['style'][_0xed1b85(0x20b)]=window[_0xed1b85(0x23e)]>0x44c?_0xed1b85(0x23d):_0xed1b85(0x225);document[_0xed1b85(0x228)]['style'][_0xed1b85(0x1ba)]='',document[_0xed1b85(0x228)][_0xed1b85(0x1c7)]['touchAction']='';}else{_0xec0486['classList']['contains']('open')?(_0x564ac3[_0xed1b85(0x1c7)]['display']=_0xed1b85(0x1ef),_0x1ea01a[_0xed1b85(0x1c7)]['display']=_0xed1b85(0x23d)):(_0x564ac3['style'][_0xed1b85(0x20b)]=_0xed1b85(0x23d),_0x1ea01a[_0xed1b85(0x1c7)][_0xed1b85(0x20b)]='block');if(_0x4ab8ae)_0x4ab8ae[_0xed1b85(0x1c7)]['display']=_0xed1b85(0x225);}}function updateTransform(){const _0x25869d=_0xbeb5,_0x3344d1='translate('+posX+_0x25869d(0x213)+posY+_0x25869d(0x1ea)+scale+')';canvas[_0x25869d(0x1c7)][_0x25869d(0x21f)]=_0x3344d1;const _0xcf8f38=document['getElementById']('overlay-prev-layers');if(_0xcf8f38)_0xcf8f38[_0x25869d(0x1c7)][_0x25869d(0x21f)]=_0x3344d1;}