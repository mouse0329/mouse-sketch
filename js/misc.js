const _0x155a4c=_0x2e19;(function(_0x22b983,_0x2421b4){const _0x172112=_0x2e19,_0x1d8de1=_0x22b983();while(!![]){try{const _0x5f42d5=parseInt(_0x172112(0x1f2))/0x1+-parseInt(_0x172112(0x1cb))/0x2*(-parseInt(_0x172112(0x1b4))/0x3)+-parseInt(_0x172112(0x1ef))/0x4+-parseInt(_0x172112(0x1be))/0x5+-parseInt(_0x172112(0x1d5))/0x6*(parseInt(_0x172112(0x201))/0x7)+parseInt(_0x172112(0x18a))/0x8*(-parseInt(_0x172112(0x181))/0x9)+parseInt(_0x172112(0x184))/0xa*(parseInt(_0x172112(0x1e9))/0xb);if(_0x5f42d5===_0x2421b4)break;else _0x1d8de1['push'](_0x1d8de1['shift']());}catch(_0x1e4163){_0x1d8de1['push'](_0x1d8de1['shift']());}}}(_0x29ac,0xe1d58));const _0x3f85a5=(function(){let _0xa57c82=!![];return function(_0x25e03c,_0x2ec2ee){const _0xb08845=_0xa57c82?function(){const _0xf8a0c9=_0x2e19;if(_0x2ec2ee){const _0x1cebf9=_0x2ec2ee[_0xf8a0c9(0x19f)](_0x25e03c,arguments);return _0x2ec2ee=null,_0x1cebf9;}}:function(){};return _0xa57c82=![],_0xb08845;};}()),_0x266a27=_0x3f85a5(this,function(){const _0x2c0f74=_0x2e19;return _0x266a27[_0x2c0f74(0x1b6)]()[_0x2c0f74(0x1af)](_0x2c0f74(0x1a1))[_0x2c0f74(0x1b6)]()['constructor'](_0x266a27)[_0x2c0f74(0x1af)](_0x2c0f74(0x1a1));});_0x266a27();function playAnimation(){const _0x5521a9=_0x2e19,_0x45cfea=getCurrentProject();if(!_0x45cfea||!_0x45cfea[_0x5521a9(0x17f)]||_0x45cfea[_0x5521a9(0x17f)]['length']<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x4b45fe=_0x45cfea[_0x5521a9(0x17f)];animationTimer=setInterval(()=>{const _0x3836db=_0x5521a9;ctx[_0x3836db(0x199)](0x0,0x0,canvas[_0x3836db(0x1a4)],canvas['height']);const _0x4b38f5=_0x4b45fe[animationIndex];for(let _0x2df08e=0x0;_0x2df08e<_0x4b38f5[_0x3836db(0x1cc)][_0x3836db(0x1c8)];_0x2df08e++){let _0x4868f5=_0x4b38f5[_0x3836db(0x1cc)][_0x2df08e],_0x1c98f4=null;if(_0x4868f5 instanceof HTMLCanvasElement)_0x1c98f4=_0x4868f5;else _0x4868f5['canvas']instanceof HTMLCanvasElement&&(_0x1c98f4=_0x4868f5[_0x3836db(0x1e7)]);_0x1c98f4?ctx['drawImage'](_0x1c98f4,0x0,0x0):console[_0x3836db(0x1b9)](_0x3836db(0x1a3),_0x4868f5);}drawGrid(_0x45cfea[_0x3836db(0x1a4)],_0x45cfea[_0x3836db(0x1bf)]),animationIndex=(animationIndex+0x1)%_0x4b45fe[_0x3836db(0x1c8)];},animationDelay),updateAnimUi(!![]);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll()),updateAnimUi(![]);}function setAnimationDelay(_0xc25f60){const _0x1d1446=_0x2e19;_0xc25f60=Math[_0x1d1446(0x1e6)](0xa,parseInt(_0xc25f60,0xa)||0x12c),animationDelay=_0xc25f60;const _0x42a018=document[_0x1d1446(0x1e4)](_0x1d1446(0x1d6)),_0x2dd8eb=document[_0x1d1446(0x1e4)](_0x1d1446(0x187));if(_0x42a018)_0x42a018[_0x1d1446(0x17c)]=animationDelay;if(_0x2dd8eb)_0x2dd8eb['value']=animationDelay;animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());if(typeof requestAutoSave===_0x1d1446(0x1f6))requestAutoSave();}function setTool(_0xef075a){const _0x4408c9=_0x2e19;currentTool=_0xef075a,isDrawing=![],document[_0x4408c9(0x197)]('.tool-btn')[_0x4408c9(0x1ca)](_0xa4d936=>{const _0x37da3e=_0x4408c9;_0xa4d936[_0x37da3e(0x176)][_0x37da3e(0x192)](_0x37da3e(0x19a),_0xa4d936[_0x37da3e(0x1f4)][_0x37da3e(0x1b0)]===_0xef075a);}),document['querySelectorAll'](_0x4408c9(0x1bc))[_0x4408c9(0x1ca)](_0x524178=>{const _0x258448=_0x4408c9;_0x524178[_0x258448(0x176)][_0x258448(0x192)](_0x258448(0x19a),_0x524178[_0x258448(0x1f4)]['tool']===_0xef075a);}),_0xef075a===_0x4408c9(0x1c6)?canvas['style'][_0x4408c9(0x1e3)]=_0x4408c9(0x1dd):canvas[_0x4408c9(0x1e5)][_0x4408c9(0x1e3)]=_0x4408c9(0x19b);}function getTouchPos(_0x2ee31f){const _0x2e31b7=_0x2e19;if(!_0x2ee31f)return null;const _0x1551e4=canvas[_0x2e31b7(0x1fe)]();let _0x591649=null;if(_0x2ee31f[_0x2e31b7(0x1a8)]&&_0x2ee31f[_0x2e31b7(0x1a8)][_0x2e31b7(0x1c8)]>0x0)_0x591649=_0x2ee31f[_0x2e31b7(0x1a8)][0x0];else{if(_0x2ee31f['changedTouches']&&_0x2ee31f[_0x2e31b7(0x1d4)][_0x2e31b7(0x1c8)]>0x0)_0x591649=_0x2ee31f[_0x2e31b7(0x1d4)][0x0];else{if(_0x2ee31f[_0x2e31b7(0x17d)]!=null&&_0x2ee31f[_0x2e31b7(0x1c4)]!=null)_0x591649=_0x2ee31f;else return null;}}const _0x75032f=canvas[_0x2e31b7(0x1a4)]/_0x1551e4[_0x2e31b7(0x1a4)],_0x2c3156=canvas[_0x2e31b7(0x1bf)]/_0x1551e4['height'],_0x3fba64=(_0x591649['clientX']-_0x1551e4[_0x2e31b7(0x202)])*_0x75032f,_0x5776ef=(_0x591649[_0x2e31b7(0x1c4)]-_0x1551e4[_0x2e31b7(0x1eb)])*_0x2c3156;return{'x':Math[_0x2e31b7(0x1fd)](_0x3fba64/cellSize),'y':Math[_0x2e31b7(0x1fd)](_0x5776ef/cellSize)};}function applyTheme(_0x2f8724){const _0x3f7f13=_0x2e19;document['documentElement']['setAttribute'](_0x3f7f13(0x1d0),_0x2f8724);const _0x4c69e2=document[_0x3f7f13(0x1e4)](_0x3f7f13(0x19c));_0x4c69e2&&(_0x4c69e2[_0x3f7f13(0x1e1)]=_0x2f8724===_0x3f7f13(0x1ae)?'‚òÄÔ∏è':'üåô',_0x4c69e2[_0x3f7f13(0x1a7)](_0x3f7f13(0x190),_0x2f8724==='dark'),_0x4c69e2[_0x3f7f13(0x1f3)]=_0x2f8724===_0x3f7f13(0x1ae)?_0x3f7f13(0x1f9):_0x3f7f13(0x1f5)),localStorage[_0x3f7f13(0x191)](_0x3f7f13(0x188),_0x2f8724);}function updateUndoRedoButtons(){const _0xc73a52=_0x2e19,_0x404f27=getCurrentFrame(),_0x34ba32=document[_0xc73a52(0x1e4)]('undoBtn'),_0x58f4a9=document[_0xc73a52(0x1e4)](_0xc73a52(0x1c9));if(!_0x404f27){if(_0x34ba32)_0x34ba32[_0xc73a52(0x1fb)]=!![];if(_0x58f4a9)_0x58f4a9[_0xc73a52(0x1fb)]=!![];return;}const _0x1bc770=typeof _0x404f27[_0xc73a52(0x1e8)]===_0xc73a52(0x1fc)?_0x404f27['activeLayer']:-0x1;if(_0x1bc770<0x0){if(_0x34ba32)_0x34ba32['disabled']=!![];if(_0x58f4a9)_0x58f4a9['disabled']=!![];return;}const _0x442c4e=Array[_0xc73a52(0x1a5)](_0x404f27[_0xc73a52(0x185)])&&_0x404f27[_0xc73a52(0x185)][_0x1bc770]?_0x404f27[_0xc73a52(0x185)][_0x1bc770]:[],_0x548ea4=Array[_0xc73a52(0x1a5)](_0x404f27[_0xc73a52(0x1f1)])&&_0x404f27[_0xc73a52(0x1f1)][_0x1bc770]?_0x404f27[_0xc73a52(0x1f1)][_0x1bc770]:[];if(_0x34ba32)_0x34ba32[_0xc73a52(0x1fb)]=!(_0x442c4e&&_0x442c4e[_0xc73a52(0x1c8)]>=0x2);if(_0x58f4a9)_0x58f4a9[_0xc73a52(0x1fb)]=!(_0x548ea4&&_0x548ea4[_0xc73a52(0x1c8)]>0x0);}function undo(){const _0x5788cd=_0x2e19;let _0x27f1d2=getCurrentFrame();if(!_0x27f1d2||!Array[_0x5788cd(0x1a5)](_0x27f1d2[_0x5788cd(0x185)])||!Array['isArray'](_0x27f1d2['layerRedoStacks']))return;const _0x2e3b07=typeof _0x27f1d2[_0x5788cd(0x1e8)]==='number'?_0x27f1d2[_0x5788cd(0x1e8)]:-0x1;if(_0x2e3b07<0x0)return;const _0x3c168b=_0x27f1d2[_0x5788cd(0x185)][_0x2e3b07],_0x460d91=_0x27f1d2[_0x5788cd(0x1f1)][_0x2e3b07];if(!_0x3c168b||_0x3c168b[_0x5788cd(0x1c8)]<0x2)return;_0x460d91[_0x5788cd(0x1a9)](_0x3c168b[_0x5788cd(0x182)]()),updateUndoRedoButtons();const _0x566017=new Image();_0x566017[_0x5788cd(0x18d)]=()=>{const _0x41c973=_0x5788cd,_0x24c88d=_0x27f1d2[_0x41c973(0x1cc)][_0x2e3b07],_0x8d301d=_0x24c88d&&_0x24c88d[_0x41c973(0x1e7)]?_0x24c88d[_0x41c973(0x1e7)]:_0x24c88d;if(!_0x8d301d)return;let _0x5caec8=_0x8d301d['getContext']('2d');_0x5caec8[_0x41c973(0x199)](0x0,0x0,_0x8d301d[_0x41c973(0x1a4)],_0x8d301d[_0x41c973(0x1bf)]),_0x5caec8[_0x41c973(0x1b2)](_0x566017,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x566017[_0x5788cd(0x1fa)]=_0x3c168b[_0x3c168b[_0x5788cd(0x1c8)]-0x1];}function redo(){const _0x27994b=_0x2e19;let _0x54fcb5=getCurrentFrame();if(!_0x54fcb5||!Array['isArray'](_0x54fcb5[_0x27994b(0x185)])||!Array[_0x27994b(0x1a5)](_0x54fcb5[_0x27994b(0x1f1)]))return;const _0x2d6a7b=typeof _0x54fcb5['activeLayer']==='number'?_0x54fcb5[_0x27994b(0x1e8)]:-0x1;if(_0x2d6a7b<0x0)return;const _0x29695a=_0x54fcb5[_0x27994b(0x185)][_0x2d6a7b],_0x48068b=_0x54fcb5[_0x27994b(0x1f1)][_0x2d6a7b];if(!_0x48068b||_0x48068b['length']===0x0)return;const _0x5e4942=_0x48068b[_0x27994b(0x182)]();if(_0x29695a)_0x29695a[_0x27994b(0x1a9)](_0x5e4942);updateUndoRedoButtons();const _0x9acc5=new Image();_0x9acc5[_0x27994b(0x18d)]=()=>{const _0x196013=_0x27994b,_0x1e5ef1=_0x54fcb5[_0x196013(0x1cc)][_0x2d6a7b],_0x8328bb=_0x1e5ef1&&_0x1e5ef1[_0x196013(0x1e7)]?_0x1e5ef1[_0x196013(0x1e7)]:_0x1e5ef1;if(!_0x8328bb)return;let _0xe60149=_0x8328bb[_0x196013(0x1d9)]('2d');_0xe60149[_0x196013(0x199)](0x0,0x0,_0x8328bb['width'],_0x8328bb[_0x196013(0x1bf)]),_0xe60149[_0x196013(0x1b2)](_0x9acc5,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x9acc5[_0x27994b(0x1fa)]=_0x5e4942;}function wait(_0x301da6){return new Promise(_0x305c02=>setTimeout(_0x305c02,_0x301da6));}function showLoading(_0x57958e){const _0x4719dc=_0x2e19;try{const _0x60736=document[_0x4719dc(0x1e4)](_0x4719dc(0x1c2));if(!_0x60736)return;const _0x132ddc=document['getElementById']('loading-message');if(_0x132ddc&&_0x57958e)_0x132ddc['textContent']=_0x57958e;_0x60736[_0x4719dc(0x1e5)][_0x4719dc(0x1aa)]=_0x4719dc(0x1e0),_0x60736['removeAttribute'](_0x4719dc(0x1b1));}catch(_0x287d3d){console['warn'](_0x4719dc(0x1ea),_0x287d3d);}}function hideLoading(){const _0x6a7751=_0x2e19;try{const _0xcebdd9=document[_0x6a7751(0x1e4)](_0x6a7751(0x1c2));if(!_0xcebdd9)return;_0xcebdd9['style']['display']=_0x6a7751(0x1c0),_0xcebdd9[_0x6a7751(0x1a7)](_0x6a7751(0x1b1),'');}catch(_0x285962){console[_0x6a7751(0x1b9)](_0x6a7751(0x18f),_0x285962);}}window[_0x155a4c(0x18b)]=showLoading,window[_0x155a4c(0x189)]=hideLoading;function initCanvas(){const _0x34b749=_0x155a4c,_0x49a09a=parseInt(0x10),_0x509202=parseInt(0x10);let _0x2c95c6=getCurrentProject();_0x2c95c6[_0x34b749(0x1a4)]=_0x49a09a,_0x2c95c6[_0x34b749(0x1bf)]=_0x509202,canvas['width']=_0x49a09a*cellSize,canvas[_0x34b749(0x1bf)]=_0x509202*cellSize,_0x2c95c6[_0x34b749(0x1cc)]=[],_0x2c95c6[_0x34b749(0x185)]=[],_0x2c95c6[_0x34b749(0x1f1)]=[];let _0xcef67f=document[_0x34b749(0x1d1)](_0x34b749(0x1e7));_0xcef67f[_0x34b749(0x1a4)]=_0x49a09a*cellSize,_0xcef67f[_0x34b749(0x1bf)]=_0x509202*cellSize,_0x2c95c6[_0x34b749(0x1cc)]['push'](_0xcef67f),_0x2c95c6['layerHistories'][_0x34b749(0x1a9)]([]),_0x2c95c6[_0x34b749(0x1f1)][_0x34b749(0x1a9)]([]),_0x2c95c6[_0x34b749(0x1e8)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll();if(typeof setExportInputsFromProject===_0x34b749(0x1f6))setExportInputsFromProject();canvas[_0x34b749(0x1c7)]=null,canvas[_0x34b749(0x186)]=null,canvas['onmouseup']=null,canvas['onmouseleave']=null,canvas[_0x34b749(0x1b7)]=null,canvas[_0x34b749(0x1a6)]=null,canvas['ontouchend']=null,canvas[_0x34b749(0x1ab)]=null,canvas[_0x34b749(0x1ac)](_0x34b749(0x196),handleTouchStart),canvas[_0x34b749(0x1ac)]('touchmove',handleTouchMove),canvas[_0x34b749(0x1ac)](_0x34b749(0x1ba),handleTouchEnd),canvas['removeEventListener'](_0x34b749(0x1b5),handleTouchEnd),canvas[_0x34b749(0x1c7)]=handleMouseDown,canvas[_0x34b749(0x186)]=handleMouseMove,canvas[_0x34b749(0x17e)]=handleMouseUp,canvas[_0x34b749(0x203)]=handleMouseUp,canvas[_0x34b749(0x1b7)]=handleTouchStart,canvas['ontouchmove']=handleTouchMove,canvas[_0x34b749(0x179)]=handleTouchEnd,canvas[_0x34b749(0x1ab)]=handleTouchEnd,canvas['addEventListener'](_0x34b749(0x196),handleTouchStart,{'passive':![]}),canvas[_0x34b749(0x1d2)]('touchmove',handleTouchMove,{'passive':![]}),canvas['addEventListener'](_0x34b749(0x1ba),handleTouchEnd,{'passive':![]}),canvas['addEventListener'](_0x34b749(0x1b5),handleTouchEnd,{'passive':![]});}function setAlpha(_0x3c6548){const _0x191dac=_0x155a4c;let _0x21840d=Math[_0x191dac(0x1e6)](0x0,Math[_0x191dac(0x1f0)](0x64,parseInt(_0x3c6548,0xa)||0x0));currentAlpha=_0x21840d/0x64,updateCurrentColorSwatch();}function renderScanPanel(_0x29464a){const _0x3ab2c7=_0x155a4c,_0x1fc687=document['getElementById'](_0x3ab2c7(0x178));if(!_0x1fc687)return;_0x1fc687[_0x3ab2c7(0x19d)]='';if(!_0x29464a||_0x29464a[_0x3ab2c7(0x1c8)]===0x0){_0x1fc687[_0x3ab2c7(0x1e1)]=_0x3ab2c7(0x1ed);return;}const _0x47b0a7=document[_0x3ab2c7(0x1d1)](_0x3ab2c7(0x1ee));_0x47b0a7[_0x3ab2c7(0x177)]=_0x3ab2c7(0x18e);const _0x5ec789=document[_0x3ab2c7(0x1df)](),_0x5f4f0b=0x30;_0x29464a[_0x3ab2c7(0x18c)](0x0,_0x5f4f0b)[_0x3ab2c7(0x1ca)](_0x3f4b37=>{const _0x560ffc=_0x3ab2c7,_0x354822=document['createElement'](_0x560ffc(0x1ee));_0x354822[_0x560ffc(0x177)]=_0x560ffc(0x1cf);const _0x49a44a=document[_0x560ffc(0x1d1)]('div');_0x49a44a[_0x560ffc(0x177)]=_0x560ffc(0x1e2);_0x3f4b37['a']===0x0?_0x49a44a[_0x560ffc(0x176)][_0x560ffc(0x1a2)](_0x560ffc(0x1de)):_0x49a44a['style']['background']='rgba('+_0x3f4b37['r']+','+_0x3f4b37['g']+','+_0x3f4b37['b']+','+(_0x3f4b37['a']/0xff)[_0x560ffc(0x180)](0x2)+')';const _0x47c21f=document[_0x560ffc(0x1d1)](_0x560ffc(0x1ee));_0x47c21f[_0x560ffc(0x177)]=_0x560ffc(0x1d3),_0x47c21f['textContent']=_0x3f4b37['a']===0x0?'ÈÄèÊòé':_0x3f4b37['a']===0xff?rgbaToHex(_0x3f4b37['r'],_0x3f4b37['g'],_0x3f4b37['b']):'rgba('+_0x3f4b37['r']+','+_0x3f4b37['g']+','+_0x3f4b37['b']+','+(_0x3f4b37['a']/0xff)[_0x560ffc(0x180)](0x2)+')';const _0x5024c2=document[_0x560ffc(0x1d1)](_0x560ffc(0x1ee));_0x5024c2[_0x560ffc(0x177)]=_0x560ffc(0x193),_0x5024c2[_0x560ffc(0x1e1)]=_0x3f4b37[_0x560ffc(0x17b)]+'„Çª„É´',_0x354822[_0x560ffc(0x1ec)](_0x49a44a),_0x354822[_0x560ffc(0x1ec)](_0x47c21f),_0x354822['appendChild'](_0x5024c2),_0x354822['onclick']=()=>{const _0x1092aa=_0x560ffc;if(_0x3f4b37['a']===0x0){currentColor='transparent';const _0x487fb1=document[_0x1092aa(0x1e4)](_0x1092aa(0x1ce));if(_0x487fb1)_0x487fb1[_0x1092aa(0x17c)]='#000000';setAlpha(0x0);}else{currentColor=rgbaToHex(_0x3f4b37['r'],_0x3f4b37['g'],_0x3f4b37['b']);const _0x2fd0ea=document['getElementById'](_0x1092aa(0x1ce));if(_0x2fd0ea)_0x2fd0ea[_0x1092aa(0x17c)]=currentColor;setAlpha(Math[_0x1092aa(0x1cd)](_0x3f4b37['a']/0xff*0x64));}_0x1fc687[_0x1092aa(0x1e5)][_0x1092aa(0x1aa)]=_0x1092aa(0x1c0);},_0x5ec789[_0x560ffc(0x1ec)](_0x354822);}),_0x47b0a7[_0x3ab2c7(0x1ec)](_0x5ec789),_0x1fc687['appendChild'](_0x47b0a7);if(_0x29464a[_0x3ab2c7(0x1c8)]>_0x5f4f0b){const _0x44194c=document[_0x3ab2c7(0x1d1)](_0x3ab2c7(0x1ee));_0x44194c[_0x3ab2c7(0x177)]=_0x3ab2c7(0x19e),_0x44194c[_0x3ab2c7(0x1e1)]='‰ªñ\x20'+(_0x29464a[_0x3ab2c7(0x1c8)]-_0x5f4f0b)+_0x3ab2c7(0x183),_0x1fc687[_0x3ab2c7(0x1ec)](_0x44194c);}}function indexOfSubarray(_0x4b9b5f,_0x1ae884){const _0x41d07d=_0x155a4c;for(let _0x565c2a=0x0;_0x565c2a<=_0x4b9b5f[_0x41d07d(0x1c8)]-_0x1ae884[_0x41d07d(0x1c8)];_0x565c2a++){let _0x12506c=!![];for(let _0x58870e=0x0;_0x58870e<_0x1ae884[_0x41d07d(0x1c8)];_0x58870e++){if(_0x4b9b5f[_0x565c2a+_0x58870e]!==_0x1ae884[_0x58870e]){_0x12506c=![];break;}}if(_0x12506c)return _0x565c2a;}return-0x1;}function extractMetadataFromArrayBuffer(_0x31eae4){const _0x38cefc=_0x155a4c,_0x4f509e=new TextEncoder()[_0x38cefc(0x1ad)](NEZUMI_METADATA_SIG),_0x525f32=new Uint8Array(_0x31eae4),_0x1e2f25=indexOfSubarray(_0x525f32,_0x4f509e);if(_0x1e2f25===-0x1)return null;const _0x128c00=_0x525f32[_0x38cefc(0x1c3)](_0x1e2f25+_0x4f509e['length']);try{const _0x37de6f=new TextDecoder()[_0x38cefc(0x17a)](_0x128c00);return JSON[_0x38cefc(0x1f7)](_0x37de6f);}catch(_0x11a84b){return null;}}function setZoomValue(_0x366299){const _0x8c8293=_0x155a4c,_0x385bd0=Math[_0x8c8293(0x1e6)](0x14,Math[_0x8c8293(0x1f0)](0x1f4,parseInt(_0x366299,0xa)||0x64)),_0x1a50dc=_0x385bd0/0x64;scale=_0x1a50dc,updateTransform();const _0xed13=document[_0x8c8293(0x1e4)](_0x8c8293(0x194)),_0x288fd1=document[_0x8c8293(0x1e4)]('zoomValue');if(_0xed13)_0xed13[_0x8c8293(0x17c)]=_0x385bd0;if(_0x288fd1)_0x288fd1[_0x8c8293(0x1e1)]=_0x385bd0+'%';}function zoomIn(){const _0x56e949=_0x155a4c,_0x457867=document[_0x56e949(0x1e4)](_0x56e949(0x194));let _0x37b97b=_0x457867?parseInt(_0x457867['value'],0xa):Math[_0x56e949(0x1cd)](scale*0x64);_0x37b97b=Math[_0x56e949(0x1f0)](0x1f4,_0x37b97b+0xa),setZoomValue(_0x37b97b);}function zoomOut(){const _0x5be21b=_0x155a4c,_0x3a0020=document[_0x5be21b(0x1e4)](_0x5be21b(0x194));let _0x4368b7=_0x3a0020?parseInt(_0x3a0020['value'],0xa):Math[_0x5be21b(0x1cd)](scale*0x64);_0x4368b7=Math[_0x5be21b(0x1e6)](0x14,_0x4368b7-0xa),setZoomValue(_0x4368b7);}function toggleGrid(_0x55df1d){const _0x1acc0b=_0x155a4c;typeof _0x55df1d===_0x1acc0b(0x1c1)?showGrid=_0x55df1d:showGrid=!showGrid;const _0x538a03=document[_0x1acc0b(0x1e4)](_0x1acc0b(0x198));if(_0x538a03){_0x538a03[_0x1acc0b(0x176)]['toggle'](_0x1acc0b(0x19a),showGrid),_0x538a03[_0x1acc0b(0x1f3)]=showGrid?'„Ç∞„É™„ÉÉ„ÉâON':_0x1acc0b(0x1bd);const _0x3d2f57=_0x538a03[_0x1acc0b(0x1c5)](_0x1acc0b(0x195));if(_0x3d2f57)_0x3d2f57[_0x1acc0b(0x1e1)]=showGrid?_0x1acc0b(0x1dc):_0x1acc0b(0x200);}redrawAll();}function _0x29ac(){const _0x5b9d4a=['max','canvas','activeLayer','27870557gbrlmw','showLoading\x20error','top','appendChild','Ëâ≤„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü','div','6089696QDeYin','min','layerRedoStacks','1338070xLNnQj','title','dataset','„ÉÄ„Éº„ÇØ„ÉÜ„Éº„Éû„Å´ÂàáÊõø','function','parse','ÂâçÈù¢ÈÄèÈÅé‰∏≠','„É©„Ç§„Éà„ÉÜ„Éº„Éû„Å´ÂàáÊõø','src','disabled','number','floor','getBoundingClientRect','ÂÅúÊ≠¢‰∏≠','grid_off','1545061RmOtnJ','left','onmouseleave','classList','className','scanColorsPanel','ontouchend','decode','count','value','clientX','onmouseup','frames','toFixed','171117tYVtLd','pop','\x20Ëâ≤...','10SKMZTl','layerHistories','onmousemove','animSpeedValue','nezumi-theme','hideLoading','88xYjTQu','showLoading','slice','onload','used-color-grid','hideLoading\x20error','aria-pressed','setItem','toggle','used-color-count','zoomSlider','.material-icons','touchstart','querySelectorAll','gridToggleBtn','clearRect','active','crosshair','themeToggleBtn','innerHTML','used-color-more','apply','„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çà„Çä‰∏ä„ÇíËñÑ„ÅèË°®Á§∫‰∏≠','(((.+)+)+)+$','add','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','width','isArray','ontouchmove','setAttribute','touches','push','display','ontouchcancel','removeEventListener','encode','dark','search','tool','hidden','drawImage','stopBtn','357emXiyK','touchcancel','toString','ontouchstart','playBtn','warn','touchend','animStatus','#palette-toolbar\x20.tool-btn','„Ç∞„É™„ÉÉ„ÉâOFF','1761480kAovfK','height','none','boolean','loading-overlay','subarray','clientY','querySelector','pan','onmousedown','length','redoBtn','forEach','4046PtfbjS','layers','round','colorPicker','used-color-item','data-theme','createElement','addEventListener','used-color-label','changedTouches','30gmXBXd','animSpeedRange','frontDimBtn','ÂÜçÁîü‰∏≠','getContext','ÂâçÈù¢ÈÄèÈÅé','ÂâçÈù¢„É¨„Ç§„É§„Éº„ÇíËñÑ„ÅèË°®Á§∫','grid_on','grab','transparent-swatch','createDocumentFragment','flex','textContent','used-color-swatch','cursor','getElementById','style'];_0x29ac=function(){return _0x5b9d4a;};return _0x29ac();}function toggleFrontLayerDim(_0x3791b0){const _0x357714=_0x155a4c;typeof _0x3791b0==='boolean'?dimFrontLayers=_0x3791b0:dimFrontLayers=!dimFrontLayers;const _0x464778=document[_0x357714(0x1e4)](_0x357714(0x1d7));_0x464778&&(_0x464778[_0x357714(0x176)][_0x357714(0x192)](_0x357714(0x19a),dimFrontLayers),_0x464778[_0x357714(0x1e1)]=dimFrontLayers?_0x357714(0x1f8):_0x357714(0x1da),_0x464778[_0x357714(0x1f3)]=dimFrontLayers?_0x357714(0x1a0):_0x357714(0x1db)),redrawAll();}function _0x2e19(_0x46b0bb,_0xaf8eb5){_0x46b0bb=_0x46b0bb-0x176;const _0x2d7305=_0x29ac();let _0x266a27=_0x2d7305[_0x46b0bb];return _0x266a27;}function updateAnimUi(_0x393b92){const _0x5a24c8=_0x155a4c,_0x4cbf04=document[_0x5a24c8(0x1e4)](_0x5a24c8(0x1b8)),_0x1017e6=document[_0x5a24c8(0x1e4)](_0x5a24c8(0x1b3)),_0x1555cf=document['getElementById'](_0x5a24c8(0x1bb));if(_0x4cbf04)_0x4cbf04['classList'][_0x5a24c8(0x192)]('active',!!_0x393b92);if(_0x1017e6)_0x1017e6['classList'][_0x5a24c8(0x192)]('active',!_0x393b92);_0x1555cf&&(_0x1555cf[_0x5a24c8(0x1b1)]=!_0x393b92,_0x1555cf[_0x5a24c8(0x1e1)]=_0x393b92?_0x5a24c8(0x1d8):_0x5a24c8(0x1ff));}function getCanvasCoords(_0x210a22){const _0xefa90f=_0x155a4c,_0x3bf0a7=canvas['getBoundingClientRect'](),_0x465c06=canvas[_0xefa90f(0x1a4)]/_0x3bf0a7[_0xefa90f(0x1a4)],_0xd1f85c=canvas[_0xefa90f(0x1bf)]/_0x3bf0a7[_0xefa90f(0x1bf)],_0x39662a=(_0x210a22[_0xefa90f(0x17d)]-_0x3bf0a7['left'])*_0x465c06,_0x5f3148=(_0x210a22[_0xefa90f(0x1c4)]-_0x3bf0a7[_0xefa90f(0x1eb)])*_0xd1f85c;return{'x':_0x39662a,'y':_0x5f3148};}