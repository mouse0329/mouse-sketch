(function(_0x46f7d7,_0x2d921b){const _0x248ec9=_0x390f,_0x5d532b=_0x46f7d7();while(!![]){try{const _0x2df691=parseInt(_0x248ec9(0x171))/0x1*(-parseInt(_0x248ec9(0x189))/0x2)+-parseInt(_0x248ec9(0x14e))/0x3*(parseInt(_0x248ec9(0x175))/0x4)+parseInt(_0x248ec9(0x16e))/0x5*(-parseInt(_0x248ec9(0x153))/0x6)+parseInt(_0x248ec9(0x15e))/0x7*(-parseInt(_0x248ec9(0x14d))/0x8)+-parseInt(_0x248ec9(0x17f))/0x9*(-parseInt(_0x248ec9(0x169))/0xa)+-parseInt(_0x248ec9(0x17b))/0xb+parseInt(_0x248ec9(0x147))/0xc;if(_0x2df691===_0x2d921b)break;else _0x5d532b['push'](_0x5d532b['shift']());}catch(_0x20757a){_0x5d532b['push'](_0x5d532b['shift']());}}}(_0x5e0e,0x43218));const _0x525f39=(function(){let _0x49ca87=!![];return function(_0x1f08dc,_0x5775b1){const _0x534e6d=_0x49ca87?function(){const _0x4cd474=_0x390f;if(_0x5775b1){const _0x724f1b=_0x5775b1[_0x4cd474(0x17d)](_0x1f08dc,arguments);return _0x5775b1=null,_0x724f1b;}}:function(){};return _0x49ca87=![],_0x534e6d;};}()),_0x17c5ee=_0x525f39(this,function(){const _0x4edaa7=_0x390f;return _0x17c5ee[_0x4edaa7(0x157)]()[_0x4edaa7(0x15b)](_0x4edaa7(0x178))[_0x4edaa7(0x157)]()[_0x4edaa7(0x150)](_0x17c5ee)['search'](_0x4edaa7(0x178));});_0x17c5ee();function _0x5e0e(){const _0x4feff3=['.palette-color','466828ssubtd','absolute','add','(((.+)+)+)+$','firstChild','sqrt','2013044KDHhpI','palette-color','apply','remove','73647FxnOoa','splice','sort','パレットに色を追加','width','hidden','split','getContext','inset','#00000000','2qsxxJm','position','span','createElement','join','set','stopPropagation','selected','replace','color-palette','title','transparent','innerHTML','この色をパレットから削除','className','getImageData','14510100jLFTaO','background','toLowerCase','rgba(','scanColorsPanel','forEach','9320xSvSef','3XdYiws','data','constructor','slice','8px','12vCxtkv','count','length','borderRadius','toString','<span\x20style=\x22position:relative;z-index:1;font-size:13px;color:#888;\x22>透明</span>','padStart','min','search','overflow','display','1862HCkzhP','style','palette-add-btn','unshift','appendChild','onclick','getElementById','map','round','test','#000000','220FVEDLg','relative','from','classList','floor','985765fAFrjj','height','ceil','110326KIZTfl','querySelectorAll','none'];_0x5e0e=function(){return _0x4feff3;};return _0x5e0e();}function hexToRgbaCss(_0x7a9b40,_0x5c89b3){const _0x1ea1e5=_0x390f;let _0x3ccefd,_0x122354,_0xabd40b,_0x26d6ba=_0x5c89b3;if(_0x7a9b40[_0x1ea1e5(0x155)]===0x9)_0x3ccefd=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x1,0x3),0x10),_0x122354=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x3,0x5),0x10),_0xabd40b=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x5,0x7),0x10),_0x26d6ba=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x7,0x9),0x10)/0xff;else{if(_0x7a9b40[_0x1ea1e5(0x155)]===0x7)_0x3ccefd=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x1,0x3),0x10),_0x122354=parseInt(_0x7a9b40['slice'](0x3,0x5),0x10),_0xabd40b=parseInt(_0x7a9b40[_0x1ea1e5(0x151)](0x5,0x7),0x10);else{if(_0x7a9b40[_0x1ea1e5(0x155)]===0x4)_0x3ccefd=parseInt(_0x7a9b40[0x1]+_0x7a9b40[0x1],0x10),_0x122354=parseInt(_0x7a9b40[0x2]+_0x7a9b40[0x2],0x10),_0xabd40b=parseInt(_0x7a9b40[0x3]+_0x7a9b40[0x3],0x10);else return _0x7a9b40;}}return _0x1ea1e5(0x14a)+_0x3ccefd+','+_0x122354+','+_0xabd40b+','+_0x26d6ba+')';}function hexToRgba(_0x1f2357,_0x40e7eb=0x1){const _0x3dfe9a=_0x390f;if(_0x1f2357==='transparent'||_0x1f2357==='#00000000')return[0x0,0x0,0x0,0x0];_0x1f2357=_0x1f2357[_0x3dfe9a(0x191)]('#','');if(_0x1f2357[_0x3dfe9a(0x155)]===0x3)_0x1f2357=_0x1f2357['split']('')[_0x3dfe9a(0x165)](_0x4ceee4=>_0x4ceee4+_0x4ceee4)['join']('');if(_0x1f2357[_0x3dfe9a(0x155)]===0x8){const _0x53c518=parseInt(_0x1f2357[_0x3dfe9a(0x151)](0x0,0x2),0x10),_0x3de87a=parseInt(_0x1f2357[_0x3dfe9a(0x151)](0x2,0x4),0x10),_0x39058e=parseInt(_0x1f2357[_0x3dfe9a(0x151)](0x4,0x6),0x10),_0x59553f=parseInt(_0x1f2357[_0x3dfe9a(0x151)](0x6,0x8),0x10);return[_0x53c518,_0x3de87a,_0x39058e,_0x59553f];}let _0x3bf2d6=parseInt(_0x1f2357,0x10);return[_0x3bf2d6>>0x10&0xff,_0x3bf2d6>>0x8&0xff,_0x3bf2d6&0xff,Math['round'](0xff*_0x40e7eb)];}function colorsMatch(_0x248997,_0x7ad8d8){return _0x248997[0x0]===_0x7ad8d8[0x0]&&_0x248997[0x1]===_0x7ad8d8[0x1]&&_0x248997[0x2]===_0x7ad8d8[0x2]&&_0x248997[0x3]===_0x7ad8d8[0x3];}function createPalette(){const _0x1df42b=_0x390f,_0x24c60d=document['getElementById'](_0x1df42b(0x192));if(!_0x24c60d)return;_0x24c60d['innerHTML']='',PALETTE_COLORS['forEach']((_0x383589,_0x57fa92)=>{const _0xc690e3=_0x1df42b,_0x4ae0bd=document[_0xc690e3(0x18c)]('button');_0x4ae0bd[_0xc690e3(0x145)]=_0xc690e3(0x17c),_0x4ae0bd[_0xc690e3(0x15f)][_0xc690e3(0x18a)]=_0xc690e3(0x16a),_0x4ae0bd[_0xc690e3(0x15f)][_0xc690e3(0x15c)]=_0xc690e3(0x184),_0x4ae0bd[_0xc690e3(0x195)]='';let _0x2bf848=document[_0xc690e3(0x18c)]('div');_0x2bf848[_0xc690e3(0x15f)][_0xc690e3(0x18a)]=_0xc690e3(0x176),_0x2bf848['style'][_0xc690e3(0x187)]='0',_0x2bf848[_0xc690e3(0x15f)][_0xc690e3(0x156)]=_0xc690e3(0x152),_0x2bf848['style'][_0xc690e3(0x148)]='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x172f38=document[_0xc690e3(0x18c)]('div');_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x18a)]=_0xc690e3(0x176),_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x187)]='0',_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x156)]=_0xc690e3(0x152);if(_0x383589==='transparent'||_0x383589==='#00000000')_0x172f38[_0xc690e3(0x15f)]['background']=_0xc690e3(0x173),_0x4ae0bd['title']='透明',_0x4ae0bd[_0xc690e3(0x195)]=_0xc690e3(0x158);else{if(/^#([0-9a-f]{8})$/i[_0xc690e3(0x167)](_0x383589)){_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x148)]=hexToRgbaCss(_0x383589,0x1);const [_0x2d3552,_0x2306ee,_0x1266aa,_0x1421a4]=hexToRgba(_0x383589),_0x288120=_0x1421a4/0xff;_0x4ae0bd[_0xc690e3(0x193)]=rgbaToHex(_0x2d3552,_0x2306ee,_0x1266aa)+'\x20'+Math['round'](_0x288120*0x64)+'%';}else _0x383589[_0xc690e3(0x149)]()===currentColor['toLowerCase']()&&currentAlpha<0x1?(_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x148)]=hexToRgbaCss(_0x383589,currentAlpha),_0x4ae0bd[_0xc690e3(0x193)]=_0x383589+'\x20透明度'+Math[_0xc690e3(0x166)](currentAlpha*0x64)+'%'):(_0x172f38[_0xc690e3(0x15f)][_0xc690e3(0x148)]=_0x383589,_0x4ae0bd[_0xc690e3(0x193)]=_0x383589);}_0x4ae0bd[_0xc690e3(0x162)](_0x2bf848),_0x4ae0bd['appendChild'](_0x172f38),_0x4ae0bd[_0xc690e3(0x163)]=()=>{const _0x3d339d=_0xc690e3;if(_0x383589===_0x3d339d(0x194)||_0x383589===_0x3d339d(0x188))currentColor=_0x3d339d(0x194),currentAlpha=0x0;else{if(/^#([0-9a-f]{8})$/i[_0x3d339d(0x167)](_0x383589)){const [_0x58ebb1,_0x2106dc,_0x46a52e,_0x66548d]=hexToRgba(_0x383589);currentAlpha=_0x66548d/0xff,currentColor=rgbaToHex(_0x58ebb1,_0x2106dc,_0x46a52e);}else currentColor=_0x383589,currentAlpha=0x1;}updateCurrentColorSwatch(),document[_0x3d339d(0x172)](_0x3d339d(0x174))[_0x3d339d(0x14c)](_0x5f130e=>_0x5f130e[_0x3d339d(0x16c)][_0x3d339d(0x17e)]('selected')),_0x4ae0bd[_0x3d339d(0x16c)][_0x3d339d(0x177)](_0x3d339d(0x190));};if(_0x57fa92!==0x0){const _0x3d9810=document['createElement'](_0xc690e3(0x18b));_0x3d9810['textContent']='×',_0x3d9810[_0xc690e3(0x145)]='palette-del-btn',_0x3d9810[_0xc690e3(0x193)]=_0xc690e3(0x196),_0x3d9810['onclick']=_0x11d810=>{const _0x5ab7dc=_0xc690e3;_0x11d810['stopPropagation'](),PALETTE_COLORS[_0x5ab7dc(0x155)]>0x2&&(PALETTE_COLORS[_0x5ab7dc(0x180)](_0x57fa92,0x1),createPalette());},_0x4ae0bd['appendChild'](_0x3d9810);}_0x24c60d['appendChild'](_0x4ae0bd);});const _0x2d8692=document[_0x1df42b(0x18c)]('button');_0x2d8692[_0x1df42b(0x145)]=_0x1df42b(0x160),_0x2d8692[_0x1df42b(0x193)]=_0x1df42b(0x182),_0x2d8692[_0x1df42b(0x195)]='+',_0x2d8692['onclick']=_0x1ee1c0=>{const _0x108fb2=_0x1df42b;_0x1ee1c0[_0x108fb2(0x18f)](),showColorPickerDialog({'color':currentColor===_0x108fb2(0x194)?_0x108fb2(0x168):currentColor,'alpha':currentAlpha,'okLabel':'追加','onChange':()=>{},'onOk':({hex:_0x22dd3e,rgba:_0x20ae28,a:_0x5d63cb})=>{const _0x5c465d=_0x108fb2;if(_0x5d63cb===0x0){if(PALETTE_COLORS[0x0]===_0x5c465d(0x194))PALETTE_COLORS['splice'](0x1,0x0,_0x5c465d(0x194));else PALETTE_COLORS[_0x5c465d(0x161)](_0x5c465d(0x194));}else{const _0x5f02ab=Math['round'](_0x5d63cb*0xff),_0x1163ec=_0x5f02ab[_0x5c465d(0x157)](0x10)[_0x5c465d(0x159)](0x2,'0');PALETTE_COLORS[_0x5c465d(0x161)](''+_0x22dd3e+_0x1163ec);}if(PALETTE_COLORS[_0x5c465d(0x155)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x5c465d(0x151)](0x0,0x18);savePaletteToDB(),createPalette();}});},_0x24c60d['insertBefore'](_0x2d8692,_0x24c60d[_0x1df42b(0x179)]);const _0x4ee8d5=document[_0x1df42b(0x164)](_0x1df42b(0x14b));if(_0x4ee8d5)_0x4ee8d5['style'][_0x1df42b(0x15d)]='';}function scanImageColors(){const _0x134c98=_0x390f,_0x129024=getCurrentProject(),_0xc6b04=getCurrentFrame();if(!_0x129024||!_0xc6b04)return[];const _0x941627=new Map(),_0x10f3c1=_0x129024[_0x134c98(0x183)],_0x162158=_0x129024[_0x134c98(0x16f)],_0xbe2fbc=0x1388,_0x4b375f=Math['max'](0x1,Math[_0x134c98(0x170)](Math[_0x134c98(0x17a)](_0x10f3c1*_0x162158/_0xbe2fbc))),_0x361e43=_0x4b375f*_0x4b375f,_0x54785d=canvas[_0x134c98(0x186)]('2d',{'willReadFrequently':!![]});for(let _0x481370=0x0;_0x481370<_0x162158;_0x481370+=_0x4b375f){for(let _0x3dfe63=0x0;_0x3dfe63<_0x10f3c1;_0x3dfe63+=_0x4b375f){const _0x4e49c5=Math['min'](Math[_0x134c98(0x16d)](_0x3dfe63*cellSize+cellSize/0x2),canvas[_0x134c98(0x183)]-0x1),_0x587747=Math[_0x134c98(0x15a)](Math['floor'](_0x481370*cellSize+cellSize/0x2),canvas[_0x134c98(0x16f)]-0x1),_0x489227=_0x54785d[_0x134c98(0x146)](_0x4e49c5,_0x587747,0x1,0x1)[_0x134c98(0x14f)],_0x3338c5=_0x489227[0x0]+','+_0x489227[0x1]+','+_0x489227[0x2]+','+_0x489227[0x3];_0x941627[_0x134c98(0x18e)](_0x3338c5,(_0x941627['get'](_0x3338c5)||0x0)+_0x361e43);}}return Array[_0x134c98(0x16b)](_0x941627['entries']())['map'](([_0x12c1e0,_0x25ba45])=>{const _0x1b84fa=_0x134c98,[_0x2d6e5c,_0x22ac4e,_0x3413bf,_0x46299f]=_0x12c1e0[_0x1b84fa(0x185)](',')[_0x1b84fa(0x165)](_0x85ab97=>parseInt(_0x85ab97,0xa));return{'r':_0x2d6e5c,'g':_0x22ac4e,'b':_0x3413bf,'a':_0x46299f,'count':_0x25ba45};})[_0x134c98(0x181)]((_0x138bd5,_0x284c1b)=>_0x284c1b[_0x134c98(0x154)]-_0x138bd5['count']);}function _0x390f(_0x4be700,_0x137c50){_0x4be700=_0x4be700-0x145;const _0x5110ee=_0x5e0e();let _0x17c5ee=_0x5110ee[_0x4be700];return _0x17c5ee;}function rgbaToHex(_0x54957c,_0x4f3ac8,_0xa0dc4a){const _0x31fe41=_0x390f;return'#'+[_0x54957c,_0x4f3ac8,_0xa0dc4a][_0x31fe41(0x165)](_0x158642=>_0x158642['toString'](0x10)[_0x31fe41(0x159)](0x2,'0'))[_0x31fe41(0x18d)]('');}