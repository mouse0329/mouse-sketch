const _0x1f4040=_0x4c97;(function(_0x5ad848,_0x3b3ae9){const _0x35de72=_0x4c97,_0x51ce3c=_0x5ad848();while(!![]){try{const _0x1f6296=-parseInt(_0x35de72(0x1b8))/0x1+parseInt(_0x35de72(0x1da))/0x2+-parseInt(_0x35de72(0x1dd))/0x3+parseInt(_0x35de72(0x1f3))/0x4+parseInt(_0x35de72(0x1d9))/0x5*(parseInt(_0x35de72(0x1d2))/0x6)+-parseInt(_0x35de72(0x19e))/0x7+parseInt(_0x35de72(0x1c1))/0x8;if(_0x1f6296===_0x3b3ae9)break;else _0x51ce3c['push'](_0x51ce3c['shift']());}catch(_0x1b4141){_0x51ce3c['push'](_0x51ce3c['shift']());}}}(_0x27b0,0xa57bb));const _0x180879=(function(){let _0x5587e3=!![];return function(_0x556bbc,_0x5d30e9){const _0x507dfd=_0x5587e3?function(){const _0x5e4076=_0x4c97;if(_0x5d30e9){const _0x4436ca=_0x5d30e9[_0x5e4076(0x1dc)](_0x556bbc,arguments);return _0x5d30e9=null,_0x4436ca;}}:function(){};return _0x5587e3=![],_0x507dfd;};}()),_0x3ae37d=_0x180879(this,function(){const _0x10a65e=_0x4c97;return _0x3ae37d[_0x10a65e(0x1fb)]()[_0x10a65e(0x19d)](_0x10a65e(0x205))[_0x10a65e(0x1fb)]()['constructor'](_0x3ae37d)[_0x10a65e(0x19d)](_0x10a65e(0x205));});_0x3ae37d();function playAnimation(){const _0x471e6e=_0x4c97,_0x2a2372=getCurrentProject();if(!_0x2a2372||!_0x2a2372[_0x471e6e(0x201)]||_0x2a2372[_0x471e6e(0x201)][_0x471e6e(0x1f1)]<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x257138=_0x2a2372[_0x471e6e(0x201)];animationTimer=setInterval(()=>{const _0x41a4f8=_0x471e6e;ctx[_0x41a4f8(0x1f9)](0x0,0x0,canvas[_0x41a4f8(0x1a0)],canvas[_0x41a4f8(0x1f5)]);const _0x131d56=_0x257138[animationIndex];for(let _0x1b94c0=0x0;_0x1b94c0<_0x131d56[_0x41a4f8(0x1de)][_0x41a4f8(0x1f1)];_0x1b94c0++){let _0x54c9c4=_0x131d56[_0x41a4f8(0x1de)][_0x1b94c0],_0x5affe8=null;if(_0x54c9c4 instanceof HTMLCanvasElement)_0x5affe8=_0x54c9c4;else _0x54c9c4[_0x41a4f8(0x1ce)]instanceof HTMLCanvasElement&&(_0x5affe8=_0x54c9c4['canvas']);_0x5affe8?ctx[_0x41a4f8(0x1f7)](_0x5affe8,0x0,0x0):console[_0x41a4f8(0x1ca)](_0x41a4f8(0x213),_0x54c9c4);}drawGrid(_0x2a2372['width'],_0x2a2372[_0x41a4f8(0x1f5)]),animationIndex=(animationIndex+0x1)%_0x257138[_0x41a4f8(0x1f1)];},animationDelay),updateAnimUi(!![]);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll()),updateAnimUi(![]);}function _0x4c97(_0x1a870a,_0x1e2924){_0x1a870a=_0x1a870a-0x19d;const _0x235b55=_0x27b0();let _0x3ae37d=_0x235b55[_0x1a870a];return _0x3ae37d;}function setAnimationDelay(_0x5ec864){const _0x410824=_0x4c97;_0x5ec864=Math[_0x410824(0x1f0)](0xa,parseInt(_0x5ec864,0xa)||0x12c),animationDelay=_0x5ec864,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x10e295){const _0x2fd79c=_0x4c97;currentTool=_0x10e295,isDrawing=![],document[_0x2fd79c(0x219)](_0x2fd79c(0x1d1))[_0x2fd79c(0x1e0)](_0x572387=>{const _0x5e199a=_0x2fd79c;_0x572387['classList'][_0x5e199a(0x204)]('active',_0x572387['dataset'][_0x5e199a(0x1a9)]===_0x10e295);}),document[_0x2fd79c(0x219)](_0x2fd79c(0x1a3))['forEach'](_0x3b9ff3=>{const _0x2e384c=_0x2fd79c;_0x3b9ff3[_0x2e384c(0x1c5)][_0x2e384c(0x204)](_0x2e384c(0x1af),_0x3b9ff3[_0x2e384c(0x1b6)]['tool']===_0x10e295);}),_0x10e295===_0x2fd79c(0x20e)?canvas[_0x2fd79c(0x217)][_0x2fd79c(0x1e6)]=_0x2fd79c(0x20f):canvas[_0x2fd79c(0x217)][_0x2fd79c(0x1e6)]='crosshair';}function getTouchPos(_0x577799){const _0x2dc32d=_0x4c97;if(!_0x577799)return null;const _0x5037d9=canvas[_0x2dc32d(0x1b1)]();let _0x592a57=null;if(_0x577799[_0x2dc32d(0x1ea)]&&_0x577799['touches'][_0x2dc32d(0x1f1)]>0x0)_0x592a57=_0x577799[_0x2dc32d(0x1ea)][0x0];else{if(_0x577799[_0x2dc32d(0x1f6)]&&_0x577799[_0x2dc32d(0x1f6)][_0x2dc32d(0x1f1)]>0x0)_0x592a57=_0x577799['changedTouches'][0x0];else{if(_0x577799[_0x2dc32d(0x212)]!=null&&_0x577799[_0x2dc32d(0x1cf)]!=null)_0x592a57=_0x577799;else return null;}}const _0x19a746=canvas[_0x2dc32d(0x1a0)]/_0x5037d9[_0x2dc32d(0x1a0)],_0x437f89=canvas[_0x2dc32d(0x1f5)]/_0x5037d9['height'],_0x244fff=(_0x592a57[_0x2dc32d(0x212)]-_0x5037d9[_0x2dc32d(0x20d)])*_0x19a746,_0x5020c5=(_0x592a57[_0x2dc32d(0x1cf)]-_0x5037d9[_0x2dc32d(0x1cc)])*_0x437f89;return{'x':Math['floor'](_0x244fff/cellSize),'y':Math['floor'](_0x5020c5/cellSize)};}function applyTheme(_0x41dfec){const _0x3ea3cd=_0x4c97;document[_0x3ea3cd(0x1c4)][_0x3ea3cd(0x1e9)](_0x3ea3cd(0x207),_0x41dfec);const _0x1d033a=document[_0x3ea3cd(0x1db)]('themeToggleBtn');_0x1d033a&&(_0x1d033a['textContent']=_0x41dfec==='dark'?'‚òÄÔ∏è':'üåô',_0x1d033a[_0x3ea3cd(0x1e9)](_0x3ea3cd(0x1ec),_0x41dfec===_0x3ea3cd(0x1cd)),_0x1d033a['title']=_0x41dfec===_0x3ea3cd(0x1cd)?_0x3ea3cd(0x1fe):_0x3ea3cd(0x1b5)),localStorage[_0x3ea3cd(0x20c)](_0x3ea3cd(0x1d4),_0x41dfec);}function updateUndoRedoButtons(){const _0x1fa6b6=_0x4c97,_0x240c0f=getCurrentFrame(),_0x42c36d=document[_0x1fa6b6(0x1db)](_0x1fa6b6(0x1c8)),_0x48d8e7=document[_0x1fa6b6(0x1db)]('redoBtn');if(!_0x240c0f){if(_0x42c36d)_0x42c36d[_0x1fa6b6(0x1b7)]=!![];if(_0x48d8e7)_0x48d8e7[_0x1fa6b6(0x1b7)]=!![];return;}const _0x42e519=typeof _0x240c0f['activeLayer']===_0x1fa6b6(0x210)?_0x240c0f['activeLayer']:-0x1;if(_0x42e519<0x0){if(_0x42c36d)_0x42c36d[_0x1fa6b6(0x1b7)]=!![];if(_0x48d8e7)_0x48d8e7['disabled']=!![];return;}const _0x4e2c0a=Array[_0x1fa6b6(0x202)](_0x240c0f['layerHistories'])&&_0x240c0f[_0x1fa6b6(0x1d3)][_0x42e519]?_0x240c0f[_0x1fa6b6(0x1d3)][_0x42e519]:[],_0x28450c=Array[_0x1fa6b6(0x202)](_0x240c0f['layerRedoStacks'])&&_0x240c0f[_0x1fa6b6(0x1d0)][_0x42e519]?_0x240c0f['layerRedoStacks'][_0x42e519]:[];if(_0x42c36d)_0x42c36d[_0x1fa6b6(0x1b7)]=!(_0x4e2c0a&&_0x4e2c0a[_0x1fa6b6(0x1f1)]>=0x2);if(_0x48d8e7)_0x48d8e7[_0x1fa6b6(0x1b7)]=!(_0x28450c&&_0x28450c['length']>0x0);}function undo(){const _0x26dd82=_0x4c97;let _0x446e3d=getCurrentFrame();if(!_0x446e3d||!Array[_0x26dd82(0x202)](_0x446e3d[_0x26dd82(0x1d3)])||!Array[_0x26dd82(0x202)](_0x446e3d[_0x26dd82(0x1d0)]))return;const _0x3d8cd9=typeof _0x446e3d['activeLayer']==='number'?_0x446e3d['activeLayer']:-0x1;if(_0x3d8cd9<0x0)return;const _0x4428e2=_0x446e3d[_0x26dd82(0x1d3)][_0x3d8cd9],_0x275ea4=_0x446e3d[_0x26dd82(0x1d0)][_0x3d8cd9];if(!_0x4428e2||_0x4428e2[_0x26dd82(0x1f1)]<0x2)return;_0x275ea4['push'](_0x4428e2['pop']()),updateUndoRedoButtons();const _0x3f4d49=new Image();_0x3f4d49[_0x26dd82(0x1c7)]=()=>{const _0x368b35=_0x26dd82,_0x4f5260=_0x446e3d[_0x368b35(0x1de)][_0x3d8cd9],_0x12a615=_0x4f5260&&_0x4f5260[_0x368b35(0x1ce)]?_0x4f5260['canvas']:_0x4f5260;if(!_0x12a615)return;let _0x160638=_0x12a615[_0x368b35(0x1a4)]('2d');_0x160638[_0x368b35(0x1f9)](0x0,0x0,_0x12a615[_0x368b35(0x1a0)],_0x12a615[_0x368b35(0x1f5)]),_0x160638[_0x368b35(0x1f7)](_0x3f4d49,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x3f4d49['src']=_0x4428e2[_0x4428e2[_0x26dd82(0x1f1)]-0x1];}function redo(){const _0x521af1=_0x4c97;let _0x19a4c7=getCurrentFrame();if(!_0x19a4c7||!Array[_0x521af1(0x202)](_0x19a4c7[_0x521af1(0x1d3)])||!Array[_0x521af1(0x202)](_0x19a4c7[_0x521af1(0x1d0)]))return;const _0x1a3ded=typeof _0x19a4c7[_0x521af1(0x1aa)]==='number'?_0x19a4c7[_0x521af1(0x1aa)]:-0x1;if(_0x1a3ded<0x0)return;const _0x47f163=_0x19a4c7[_0x521af1(0x1d3)][_0x1a3ded],_0x3a6945=_0x19a4c7['layerRedoStacks'][_0x1a3ded];if(!_0x3a6945||_0x3a6945[_0x521af1(0x1f1)]===0x0)return;const _0x7ec059=_0x3a6945[_0x521af1(0x20b)]();if(_0x47f163)_0x47f163[_0x521af1(0x1ba)](_0x7ec059);updateUndoRedoButtons();const _0x39cae1=new Image();_0x39cae1[_0x521af1(0x1c7)]=()=>{const _0x18f9af=_0x521af1,_0x105127=_0x19a4c7[_0x18f9af(0x1de)][_0x1a3ded],_0x23d678=_0x105127&&_0x105127[_0x18f9af(0x1ce)]?_0x105127['canvas']:_0x105127;if(!_0x23d678)return;let _0x5cd0dc=_0x23d678[_0x18f9af(0x1a4)]('2d');_0x5cd0dc['clearRect'](0x0,0x0,_0x23d678[_0x18f9af(0x1a0)],_0x23d678[_0x18f9af(0x1f5)]),_0x5cd0dc[_0x18f9af(0x1f7)](_0x39cae1,0x0,0x0),redrawAll(),updateUndoRedoButtons();},_0x39cae1[_0x521af1(0x1df)]=_0x7ec059;}function wait(_0x2f5f15){return new Promise(_0x78afd8=>setTimeout(_0x78afd8,_0x2f5f15));}function _0x27b0(){const _0xe599de=['width','addEventListener','ÂÅúÊ≠¢‰∏≠','#palette-toolbar\x20.tool-btn','getContext','transparent-swatch','div','display','removeEventListener','tool','activeLayer','colorPicker','touchstart','scanColorsPanel','onmousedown','active','textContent','getBoundingClientRect','ontouchcancel','ÂâçÈù¢„É¨„Ç§„É§„Éº„ÇíËñÑ„ÅèË°®Á§∫','#000000','„ÉÄ„Éº„ÇØ„ÉÜ„Éº„Éû„Å´ÂàáÊõø','dataset','disabled','848641XbDrfz','appendChild','push','used-color-item','round','boolean','ÂÜçÁîü‰∏≠','touchcancel','loading-overlay','9730368ikKLBh','hideLoading','className','documentElement','classList','hideLoading\x20error','onload','undoBtn','„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çà„Çä‰∏ä„ÇíËñÑ„ÅèË°®Á§∫‰∏≠','warn','playBtn','top','dark','canvas','clientY','layerRedoStacks','.tool-btn','288726YvxCvT','layerHistories','nezumi-theme','.material-icons','used-color-grid','toFixed','flex','20Upklcj','185272zMJqCW','getElementById','apply','2874417zpcpHe','layers','src','forEach','ontouchstart','gridToggleBtn','ÂâçÈù¢ÈÄèÈÅé‰∏≠','ÂâçÈù¢ÈÄèÈÅé','hidden','cursor','used-color-swatch','add','setAttribute','touches','ontouchmove','aria-pressed','removeAttribute','value','„Ç∞„É™„ÉÉ„ÉâOFF','max','length','rgba(','5297604pSrIVV','innerHTML','height','changedTouches','drawImage','grid_off','clearRect','onmouseleave','toString','grid_on','touchmove','„É©„Ç§„Éà„ÉÜ„Éº„Éû„Å´ÂàáÊõø','decode','ontouchend','frames','isArray','stopBtn','toggle','(((.+)+)+)+$','frontDimBtn','data-theme','onmouseup','title','„Ç∞„É™„ÉÉ„ÉâON','pop','setItem','left','pan','grab','number','createElement','clientX','ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','onmousemove','onclick','zoomSlider','style','Ëâ≤„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü','querySelectorAll','search','2388526odFKRc','used-color-label'];_0x27b0=function(){return _0xe599de;};return _0x27b0();}function showLoading(_0x4ccc8f){const _0x42ab83=_0x4c97;try{const _0x3bac84=document[_0x42ab83(0x1db)](_0x42ab83(0x1c0));if(!_0x3bac84)return;const _0x5a8fdc=document['getElementById']('loading-message');if(_0x5a8fdc&&_0x4ccc8f)_0x5a8fdc[_0x42ab83(0x1b0)]=_0x4ccc8f;_0x3bac84[_0x42ab83(0x217)]['display']=_0x42ab83(0x1d8),_0x3bac84[_0x42ab83(0x1ed)](_0x42ab83(0x1e5));}catch(_0x5b2d25){console[_0x42ab83(0x1ca)]('showLoading\x20error',_0x5b2d25);}}function hideLoading(){const _0x20a097=_0x4c97;try{const _0x2fb251=document[_0x20a097(0x1db)](_0x20a097(0x1c0));if(!_0x2fb251)return;_0x2fb251[_0x20a097(0x217)][_0x20a097(0x1a7)]='none',_0x2fb251[_0x20a097(0x1e9)](_0x20a097(0x1e5),'');}catch(_0x1b92b4){console[_0x20a097(0x1ca)](_0x20a097(0x1c6),_0x1b92b4);}}window['showLoading']=showLoading,window[_0x1f4040(0x1c2)]=hideLoading;function initCanvas(){const _0x1476f5=_0x1f4040,_0x3ada4d=parseInt(0x10),_0x3dc1d2=parseInt(0x10);let _0x30506e=getCurrentProject();_0x30506e[_0x1476f5(0x1a0)]=_0x3ada4d,_0x30506e['height']=_0x3dc1d2,canvas['width']=_0x3ada4d*cellSize,canvas[_0x1476f5(0x1f5)]=_0x3dc1d2*cellSize,_0x30506e[_0x1476f5(0x1de)]=[],_0x30506e['layerHistories']=[],_0x30506e['layerRedoStacks']=[];let _0x3c7aab=document[_0x1476f5(0x211)](_0x1476f5(0x1ce));_0x3c7aab[_0x1476f5(0x1a0)]=_0x3ada4d*cellSize,_0x3c7aab[_0x1476f5(0x1f5)]=_0x3dc1d2*cellSize,_0x30506e[_0x1476f5(0x1de)][_0x1476f5(0x1ba)](_0x3c7aab),_0x30506e[_0x1476f5(0x1d3)][_0x1476f5(0x1ba)]([]),_0x30506e[_0x1476f5(0x1d0)][_0x1476f5(0x1ba)]([]),_0x30506e[_0x1476f5(0x1aa)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas['onmousedown']=null,canvas['onmousemove']=null,canvas[_0x1476f5(0x208)]=null,canvas[_0x1476f5(0x1fa)]=null,canvas[_0x1476f5(0x1e1)]=null,canvas[_0x1476f5(0x1eb)]=null,canvas[_0x1476f5(0x200)]=null,canvas[_0x1476f5(0x1b2)]=null,canvas['removeEventListener'](_0x1476f5(0x1ac),handleTouchStart),canvas['removeEventListener'](_0x1476f5(0x1fd),handleTouchMove),canvas[_0x1476f5(0x1a8)]('touchend',handleTouchEnd),canvas[_0x1476f5(0x1a8)]('touchcancel',handleTouchEnd),canvas[_0x1476f5(0x1ae)]=handleMouseDown,canvas[_0x1476f5(0x214)]=handleMouseMove,canvas[_0x1476f5(0x208)]=handleMouseUp,canvas['onmouseleave']=handleMouseUp,canvas['ontouchstart']=handleTouchStart,canvas[_0x1476f5(0x1eb)]=handleTouchMove,canvas['ontouchend']=handleTouchEnd,canvas['ontouchcancel']=handleTouchEnd,canvas['addEventListener'](_0x1476f5(0x1ac),handleTouchStart,{'passive':![]}),canvas[_0x1476f5(0x1a1)](_0x1476f5(0x1fd),handleTouchMove,{'passive':![]}),canvas[_0x1476f5(0x1a1)]('touchend',handleTouchEnd,{'passive':![]}),canvas['addEventListener'](_0x1476f5(0x1bf),handleTouchEnd,{'passive':![]});}function setAlpha(_0x382138){const _0x4b03cf=_0x1f4040;let _0x2a6ac4=Math[_0x4b03cf(0x1f0)](0x0,Math['min'](0x64,parseInt(_0x382138,0xa)||0x0));currentAlpha=_0x2a6ac4/0x64,updateCurrentColorSwatch();}function renderScanPanel(_0x56ecaa){const _0x598cee=_0x1f4040,_0x4f057c=document['getElementById'](_0x598cee(0x1ad));if(!_0x4f057c)return;_0x4f057c[_0x598cee(0x1f4)]='';if(!_0x56ecaa||_0x56ecaa[_0x598cee(0x1f1)]===0x0){_0x4f057c[_0x598cee(0x1b0)]=_0x598cee(0x218);return;}const _0x59d5a3=document['createElement'](_0x598cee(0x1a6));_0x59d5a3[_0x598cee(0x1c3)]=_0x598cee(0x1d6),_0x56ecaa[_0x598cee(0x1e0)](_0x1b265c=>{const _0x121e5d=_0x598cee,_0x21740b=document[_0x121e5d(0x211)]('div');_0x21740b['className']=_0x121e5d(0x1bb);const _0x4bb2eb=document[_0x121e5d(0x211)](_0x121e5d(0x1a6));_0x4bb2eb[_0x121e5d(0x1c3)]=_0x121e5d(0x1e7);_0x1b265c['a']===0x0?_0x4bb2eb[_0x121e5d(0x1c5)][_0x121e5d(0x1e8)](_0x121e5d(0x1a5)):_0x4bb2eb[_0x121e5d(0x217)]['background']='rgba('+_0x1b265c['r']+','+_0x1b265c['g']+','+_0x1b265c['b']+','+(_0x1b265c['a']/0xff)[_0x121e5d(0x1d7)](0x2)+')';const _0x2a29a4=document[_0x121e5d(0x211)]('div');_0x2a29a4['className']=_0x121e5d(0x19f),_0x2a29a4[_0x121e5d(0x1b0)]=_0x1b265c['a']===0x0?'ÈÄèÊòé':_0x1b265c['a']===0xff?rgbaToHex(_0x1b265c['r'],_0x1b265c['g'],_0x1b265c['b']):_0x121e5d(0x1f2)+_0x1b265c['r']+','+_0x1b265c['g']+','+_0x1b265c['b']+','+(_0x1b265c['a']/0xff)[_0x121e5d(0x1d7)](0x2)+')';const _0x230a38=document[_0x121e5d(0x211)](_0x121e5d(0x1a6));_0x230a38[_0x121e5d(0x1c3)]='used-color-count',_0x230a38[_0x121e5d(0x1b0)]=_0x1b265c['count']+'„Çª„É´',_0x21740b[_0x121e5d(0x1b9)](_0x4bb2eb),_0x21740b[_0x121e5d(0x1b9)](_0x2a29a4),_0x21740b['appendChild'](_0x230a38),_0x21740b[_0x121e5d(0x215)]=()=>{const _0x2bcea6=_0x121e5d;if(_0x1b265c['a']===0x0){currentColor='transparent';const _0x26fcd2=document[_0x2bcea6(0x1db)](_0x2bcea6(0x1ab));if(_0x26fcd2)_0x26fcd2[_0x2bcea6(0x1ee)]=_0x2bcea6(0x1b4);setAlpha(0x0);}else{currentColor=rgbaToHex(_0x1b265c['r'],_0x1b265c['g'],_0x1b265c['b']);const _0x330252=document[_0x2bcea6(0x1db)](_0x2bcea6(0x1ab));if(_0x330252)_0x330252[_0x2bcea6(0x1ee)]=currentColor;setAlpha(Math[_0x2bcea6(0x1bc)](_0x1b265c['a']/0xff*0x64));}_0x4f057c[_0x2bcea6(0x217)]['display']='none';},_0x59d5a3[_0x121e5d(0x1b9)](_0x21740b);}),_0x4f057c[_0x598cee(0x1b9)](_0x59d5a3);}function indexOfSubarray(_0x59a43b,_0x9fae53){const _0x530e97=_0x1f4040;for(let _0x28ed8d=0x0;_0x28ed8d<=_0x59a43b[_0x530e97(0x1f1)]-_0x9fae53['length'];_0x28ed8d++){let _0x2f0d98=!![];for(let _0x178192=0x0;_0x178192<_0x9fae53[_0x530e97(0x1f1)];_0x178192++){if(_0x59a43b[_0x28ed8d+_0x178192]!==_0x9fae53[_0x178192]){_0x2f0d98=![];break;}}if(_0x2f0d98)return _0x28ed8d;}return-0x1;}function extractMetadataFromArrayBuffer(_0x28d87f){const _0x59c16b=_0x1f4040,_0x589bcb=new TextEncoder()['encode'](NEZUMI_METADATA_SIG),_0x4d4773=new Uint8Array(_0x28d87f),_0x79bfc0=indexOfSubarray(_0x4d4773,_0x589bcb);if(_0x79bfc0===-0x1)return null;const _0x2980e3=_0x4d4773['subarray'](_0x79bfc0+_0x589bcb[_0x59c16b(0x1f1)]);try{const _0x3c69a6=new TextDecoder()[_0x59c16b(0x1ff)](_0x2980e3);return JSON['parse'](_0x3c69a6);}catch(_0x2f7b30){return null;}}function setZoomValue(_0x3af066){const _0x3bed3a=_0x1f4040,_0x27a8a5=Math[_0x3bed3a(0x1f0)](0x14,Math['min'](0x1f4,parseInt(_0x3af066,0xa)||0x64)),_0x4bfbea=_0x27a8a5/0x64;scale=_0x4bfbea,updateTransform();const _0x2e7a94=document[_0x3bed3a(0x1db)](_0x3bed3a(0x216)),_0xddc052=document[_0x3bed3a(0x1db)]('zoomValue');if(_0x2e7a94)_0x2e7a94[_0x3bed3a(0x1ee)]=_0x27a8a5;if(_0xddc052)_0xddc052['textContent']=_0x27a8a5+'%';}function zoomIn(){const _0x8a84e2=_0x1f4040,_0xb6ffdc=document[_0x8a84e2(0x1db)]('zoomSlider');let _0x491164=_0xb6ffdc?parseInt(_0xb6ffdc[_0x8a84e2(0x1ee)],0xa):Math[_0x8a84e2(0x1bc)](scale*0x64);_0x491164=Math['min'](0x1f4,_0x491164+0xa),setZoomValue(_0x491164);}function zoomOut(){const _0x4a60db=_0x1f4040,_0x3b1db9=document[_0x4a60db(0x1db)]('zoomSlider');let _0x168dc3=_0x3b1db9?parseInt(_0x3b1db9[_0x4a60db(0x1ee)],0xa):Math[_0x4a60db(0x1bc)](scale*0x64);_0x168dc3=Math[_0x4a60db(0x1f0)](0x14,_0x168dc3-0xa),setZoomValue(_0x168dc3);}function toggleGrid(_0x153c00){const _0xa1d1ff=_0x1f4040;typeof _0x153c00===_0xa1d1ff(0x1bd)?showGrid=_0x153c00:showGrid=!showGrid;const _0x2dc342=document[_0xa1d1ff(0x1db)](_0xa1d1ff(0x1e2));if(_0x2dc342){_0x2dc342[_0xa1d1ff(0x1c5)][_0xa1d1ff(0x204)]('active',showGrid),_0x2dc342[_0xa1d1ff(0x209)]=showGrid?_0xa1d1ff(0x20a):_0xa1d1ff(0x1ef);const _0x4a7614=_0x2dc342['querySelector'](_0xa1d1ff(0x1d5));if(_0x4a7614)_0x4a7614[_0xa1d1ff(0x1b0)]=showGrid?_0xa1d1ff(0x1fc):_0xa1d1ff(0x1f8);}redrawAll();}function toggleFrontLayerDim(_0x2d6cfa){const _0x1bf657=_0x1f4040;typeof _0x2d6cfa==='boolean'?dimFrontLayers=_0x2d6cfa:dimFrontLayers=!dimFrontLayers;const _0x2d08b8=document['getElementById'](_0x1bf657(0x206));_0x2d08b8&&(_0x2d08b8['classList'][_0x1bf657(0x204)](_0x1bf657(0x1af),dimFrontLayers),_0x2d08b8[_0x1bf657(0x1b0)]=dimFrontLayers?_0x1bf657(0x1e3):_0x1bf657(0x1e4),_0x2d08b8[_0x1bf657(0x209)]=dimFrontLayers?_0x1bf657(0x1c9):_0x1bf657(0x1b3)),redrawAll();}function updateAnimUi(_0x3db69d){const _0x4bee3f=_0x1f4040,_0x351e6f=document[_0x4bee3f(0x1db)](_0x4bee3f(0x1cb)),_0x37d29a=document['getElementById'](_0x4bee3f(0x203)),_0x16bbf0=document[_0x4bee3f(0x1db)]('animStatus');if(_0x351e6f)_0x351e6f[_0x4bee3f(0x1c5)][_0x4bee3f(0x204)](_0x4bee3f(0x1af),!!_0x3db69d);if(_0x37d29a)_0x37d29a[_0x4bee3f(0x1c5)]['toggle'](_0x4bee3f(0x1af),!_0x3db69d);_0x16bbf0&&(_0x16bbf0[_0x4bee3f(0x1e5)]=!_0x3db69d,_0x16bbf0[_0x4bee3f(0x1b0)]=_0x3db69d?_0x4bee3f(0x1be):_0x4bee3f(0x1a2));}function getCanvasCoords(_0x45b7d5){const _0x21e2f5=_0x1f4040,_0x3d0ae1=canvas[_0x21e2f5(0x1b1)](),_0x7895d8=canvas['width']/_0x3d0ae1[_0x21e2f5(0x1a0)],_0x38d4cb=canvas['height']/_0x3d0ae1[_0x21e2f5(0x1f5)],_0x48bd54=(_0x45b7d5[_0x21e2f5(0x212)]-_0x3d0ae1['left'])*_0x7895d8,_0x42d12f=(_0x45b7d5[_0x21e2f5(0x1cf)]-_0x3d0ae1[_0x21e2f5(0x1cc)])*_0x38d4cb;return{'x':_0x48bd54,'y':_0x42d12f};}