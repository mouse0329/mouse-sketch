const _0x5bed76=_0x2d93;(function(_0x1f81bb,_0xaa4a2c){const _0x2a010f=_0x2d93,_0x54f3ea=_0x1f81bb();while(!![]){try{const _0x11701f=parseInt(_0x2a010f(0x161))/0x1*(-parseInt(_0x2a010f(0x15c))/0x2)+parseInt(_0x2a010f(0x110))/0x3+parseInt(_0x2a010f(0x156))/0x4*(parseInt(_0x2a010f(0x14b))/0x5)+-parseInt(_0x2a010f(0x129))/0x6+-parseInt(_0x2a010f(0x12a))/0x7+parseInt(_0x2a010f(0x166))/0x8*(-parseInt(_0x2a010f(0x140))/0x9)+-parseInt(_0x2a010f(0x167))/0xa;if(_0x11701f===_0xaa4a2c)break;else _0x54f3ea['push'](_0x54f3ea['shift']());}catch(_0x4b2e0a){_0x54f3ea['push'](_0x54f3ea['shift']());}}}(_0x5954,0x94722));function _0x5954(){const _0x303fcd=['-hidden','書き出し中...','apply','9vSmDiJ','isArray','createElement','jpg','jpeg','replace','height','getContext','-layers.zip','vp8','body','232865xZaByP','.png','toDataURL','GIF','undefined','round','data','.apng','nezumi-animation.apng','buffer','all','56USmQXm','nezumi-animation.gif','filter','image/png','apngExtSelect','webp','530otnoop','image/','getElementById','value','createObjectURL','251CyULbT','src','finished','canvas','exportWidthPx','189824BosjhT','6926260oPxshq','visible','フレームがありません','nezumi-spritesheet','exportHeightPx','apng','frames','width','toString','image/apng','revokeObjectURL','file','error','download','GIFに変換中...','nezumi-layers','フレーム間の余白(px)\x20を指定（例:\x200）','constructor','href','3635991NBFcps','lib/gif.worker.js','layer-','APNGに変換中...','encode','split','layers','png','nezumi-standalone','WebCodecs','appendChild','byteLength','render','drawImage','APNGを生成できませんでした。フレームが空かもしれません。','map','VideoEncoder','push','max','close','nezumi-drawing','スプライトシートの拡大率を指定（例:\x201\x20=\x20元サイズ,\x202\x20=\x202倍）','nezumi-animation','image/jpeg','isFinite','177450GcmAdH','3104787cnwxgd','onload','_spritesheet.png','(((.+)+)+)+$','getImageData','min','forEach','GIFに変換できる画像がありません。','removeChild','clearRect','then','name','click','UPNG','search','nezumi-image','length','.gif','exportQuality'];_0x5954=function(){return _0x303fcd;};return _0x5954();}const _0x1aa5b7=(function(){let _0x2d0b6a=!![];return function(_0x362228,_0x134e47){const _0x49b3fc=_0x2d0b6a?function(){const _0x815ccd=_0x2d93;if(_0x134e47){const _0x2ff74f=_0x134e47[_0x815ccd(0x13f)](_0x362228,arguments);return _0x134e47=null,_0x2ff74f;}}:function(){};return _0x2d0b6a=![],_0x49b3fc;};}()),_0x5aebfa=_0x1aa5b7(this,function(){const _0xcd31e8=_0x2d93;return _0x5aebfa[_0xcd31e8(0x105)]()[_0xcd31e8(0x138)](_0xcd31e8(0x12d))[_0xcd31e8(0x105)]()[_0xcd31e8(0x10e)](_0x5aebfa)[_0xcd31e8(0x138)](_0xcd31e8(0x12d));});_0x5aebfa();function getExportQuality(){const _0x32ceb9=_0x2d93;var _0x32fb6d=document[_0x32ceb9(0x15e)](_0x32ceb9(0x13c));return _0x32fb6d?parseInt(_0x32fb6d[_0x32ceb9(0x15f)],0xa):0x8;}function getExportSize(){const _0xc91d77=_0x2d93,_0x433ed9=getCurrentProject(),_0xad88=_0x433ed9?_0x433ed9[_0xc91d77(0x104)]*cellSize:0x0,_0x50885e=_0x433ed9?_0x433ed9['height']*cellSize:0x0,_0x2369ab=document[_0xc91d77(0x15e)](_0xc91d77(0x165)),_0x414bee=document['getElementById'](_0xc91d77(0x101));let _0x2b3ca4=_0x2369ab?parseInt(_0x2369ab[_0xc91d77(0x15f)],0xa):NaN,_0x75bef4=_0x414bee?parseInt(_0x414bee[_0xc91d77(0x15f)],0xa):NaN;if(!Number[_0xc91d77(0x128)](_0x2b3ca4)||_0x2b3ca4<=0x0)_0x2b3ca4=NaN;if(!Number[_0xc91d77(0x128)](_0x75bef4)||_0x75bef4<=0x0)_0x75bef4=NaN;Number[_0xc91d77(0x128)](_0x2b3ca4)&&!Number[_0xc91d77(0x128)](_0x75bef4)&&_0xad88>0x0&&_0x50885e>0x0&&(_0x75bef4=Math[_0xc91d77(0x150)](_0x2b3ca4*_0x50885e/_0xad88));Number[_0xc91d77(0x128)](_0x75bef4)&&!Number[_0xc91d77(0x128)](_0x2b3ca4)&&_0xad88>0x0&&_0x50885e>0x0&&(_0x2b3ca4=Math[_0xc91d77(0x150)](_0x75bef4*_0xad88/_0x50885e));if(!Number[_0xc91d77(0x128)](_0x2b3ca4))_0x2b3ca4=_0xad88;if(!Number[_0xc91d77(0x128)](_0x75bef4))_0x75bef4=_0x50885e;return{'width':_0x2b3ca4,'height':_0x75bef4};}function exportCurrentFrameMergedPng(){const _0x110e26=_0x2d93,_0x42150c=getCurrentProject(),_0xa0763b=getCurrentFrame();if(!_0x42150c||!_0xa0763b)return;const {width:_0x6b643f,height:_0x52ed12}=getExportSize(),_0x30ae29=document[_0x110e26(0x142)](_0x110e26(0x164));_0x30ae29['width']=_0x6b643f,_0x30ae29[_0x110e26(0x146)]=_0x52ed12;const _0x55e27e=_0x30ae29[_0x110e26(0x147)]('2d');for(let _0x3bb0bc=0x0;_0x3bb0bc<(Array['isArray'](_0xa0763b['layers'])?_0xa0763b[_0x110e26(0x116)][_0x110e26(0x13a)]:0x0);_0x3bb0bc++){const _0x378f44=_0xa0763b[_0x110e26(0x116)][_0x3bb0bc];if(!_0x378f44)continue;const _0x246783=typeof _0x378f44['visible']!==_0x110e26(0x14f)?_0x378f44[_0x110e26(0x168)]:!![];if(!_0x246783)continue;const _0x17986f=_0x378f44[_0x110e26(0x164)]?_0x378f44[_0x110e26(0x164)]:_0x378f44;if(_0x17986f)_0x55e27e['drawImage'](_0x17986f,0x0,0x0,_0x6b643f,_0x52ed12);}const _0x5e386a=document[_0x110e26(0x142)]('a'),_0x4836fa=(_0x42150c[_0x110e26(0x135)]||_0x110e26(0x139))[_0x110e26(0x145)](/[\\/:*?"<>|]/g,'_');_0x5e386a[_0x110e26(0x10a)]=_0x4836fa+_0x110e26(0x14c),_0x5e386a[_0x110e26(0x10f)]=_0x30ae29[_0x110e26(0x14d)](_0x110e26(0x159)),_0x5e386a[_0x110e26(0x136)]();}function exportCurrentFrameLayersPngZip(){const _0x4877dd=_0x2d93,_0x2413ed=getCurrentProject(),_0x13343f=getCurrentFrame();if(!_0x2413ed||!_0x13343f)return;const _0x2581ec=_0x2413ed[_0x4877dd(0x104)]*cellSize,_0xd7d7f2=_0x2413ed['height']*cellSize,_0x5a3272=new JSZip();for(let _0x171de0=0x0;_0x171de0<(Array[_0x4877dd(0x141)](_0x13343f[_0x4877dd(0x116)])?_0x13343f['layers'][_0x4877dd(0x13a)]:0x0);_0x171de0++){const _0x210db0=_0x13343f['layers'][_0x171de0];if(!_0x210db0)continue;const _0x36f8af=typeof _0x210db0[_0x4877dd(0x168)]!==_0x4877dd(0x14f)?_0x210db0['visible']:!![],_0x47edb9=_0x210db0[_0x4877dd(0x164)]?_0x210db0[_0x4877dd(0x164)]:_0x210db0;if(!_0x47edb9)continue;const _0x324b6d=document[_0x4877dd(0x142)](_0x4877dd(0x164));_0x324b6d[_0x4877dd(0x104)]=_0x2581ec,_0x324b6d[_0x4877dd(0x146)]=_0xd7d7f2;const _0x3d3bc7=_0x324b6d[_0x4877dd(0x147)]('2d');_0x3d3bc7[_0x4877dd(0x133)](0x0,0x0,_0x2581ec,_0xd7d7f2),_0x3d3bc7['drawImage'](_0x47edb9,0x0,0x0);const _0x475e3e=_0x324b6d[_0x4877dd(0x14d)]('image/png'),_0x4972c3=_0x475e3e[_0x4877dd(0x115)](',')[0x1];_0x5a3272[_0x4877dd(0x108)](_0x4877dd(0x112)+(_0x171de0+0x1)+(_0x36f8af?'':_0x4877dd(0x13d))+_0x4877dd(0x14c),_0x4972c3,{'base64':!![]});}const _0x562a77=(_0x2413ed[_0x4877dd(0x135)]||_0x4877dd(0x10c))[_0x4877dd(0x145)](/[\\/:*?"<>|]/g,'_');_0x5a3272['generateAsync']({'type':'blob'})[_0x4877dd(0x134)](_0xe8f004=>{const _0x48b337=_0x4877dd,_0x3b01b0=document['createElement']('a');_0x3b01b0[_0x48b337(0x10f)]=URL[_0x48b337(0x160)](_0xe8f004),_0x3b01b0['download']=_0x562a77+_0x48b337(0x148),document['body']['appendChild'](_0x3b01b0),_0x3b01b0['click'](),setTimeout(()=>{const _0x5e6b6e=_0x48b337;URL[_0x5e6b6e(0x107)](_0x3b01b0['href']),document[_0x5e6b6e(0x14a)][_0x5e6b6e(0x132)](_0x3b01b0);},0x4b0);});}function exportImage(_0x34baa2){const _0xf9b703=_0x2d93;let _0x1478c4=getCurrentProject(),_0x30faf4=_0x1478c4['frames'],_0x171051=_0x34baa2===_0xf9b703(0x143)||_0x34baa2===_0xf9b703(0x144)?_0xf9b703(0x127):_0xf9b703(0x15d)+_0x34baa2,_0x4869ee=_0x30faf4[_0xf9b703(0x13a)]>0x1;const {width:_0x26dd15,height:_0xa563f1}=getExportSize();let _0x129eed=(_0x1478c4[_0xf9b703(0x135)]||_0xf9b703(0x124))[_0xf9b703(0x145)](/[\\/:*?"<>|]/g,'_');if(!_0x4869ee){let _0x53e83d=document[_0xf9b703(0x142)](_0xf9b703(0x164));_0x53e83d['width']=_0x26dd15,_0x53e83d[_0xf9b703(0x146)]=_0xa563f1;let _0x271c43=_0x53e83d[_0xf9b703(0x147)]('2d'),_0x3dabb6=getCurrentFrame();for(let _0x11e13e=0x0;_0x11e13e<(Array['isArray'](_0x3dabb6[_0xf9b703(0x116)])?_0x3dabb6[_0xf9b703(0x116)][_0xf9b703(0x13a)]:0x0);_0x11e13e++){const _0x4d2db8=_0x3dabb6[_0xf9b703(0x116)][_0x11e13e];if(!_0x4d2db8)continue;const _0x214a76=typeof _0x4d2db8[_0xf9b703(0x168)]!==_0xf9b703(0x14f)?_0x4d2db8['visible']:!![];if(!_0x214a76)continue;const _0x493b16=_0x4d2db8[_0xf9b703(0x164)]?_0x4d2db8[_0xf9b703(0x164)]:_0x4d2db8;if(_0x493b16)_0x271c43['drawImage'](_0x493b16,0x0,0x0,_0x26dd15,_0xa563f1);}let _0x576a4e=document['createElement']('a');_0x576a4e[_0xf9b703(0x10a)]=_0x129eed+'.'+_0x34baa2;if(_0x34baa2===_0xf9b703(0x143)||_0x34baa2===_0xf9b703(0x144)){let _0xe0debc=getExportQuality(),_0x12a9c9=Math['max'](0.1,Math['min'](0x1,_0xe0debc/0xa));_0x576a4e[_0xf9b703(0x10f)]=_0x53e83d[_0xf9b703(0x14d)](_0x171051,_0x12a9c9);}else _0x34baa2===_0xf9b703(0x117)?_0x576a4e[_0xf9b703(0x10f)]=_0x53e83d[_0xf9b703(0x14d)](_0x171051):_0x576a4e[_0xf9b703(0x10f)]=_0x53e83d[_0xf9b703(0x14d)](_0x171051);_0x576a4e[_0xf9b703(0x136)]();}else{if(_0x34baa2===_0xf9b703(0x15b)&&typeof window['WebCodecs']!==_0xf9b703(0x14f)){const {width:_0x367a9f,height:_0xe05f7d}=getExportSize();exportWebpAnimation(_0x30faf4,_0x367a9f,_0xe05f7d,_0x129eed);}else for(let _0xb4ec63=0x0;_0xb4ec63<_0x30faf4[_0xf9b703(0x13a)];_0xb4ec63++){let _0x592d75=document[_0xf9b703(0x142)](_0xf9b703(0x164));_0x592d75[_0xf9b703(0x104)]=_0x26dd15,_0x592d75[_0xf9b703(0x146)]=_0xa563f1;let _0x1bc7ce=_0x592d75['getContext']('2d'),_0x55f14b=_0x30faf4[_0xb4ec63];for(let _0x247ee3=0x0;_0x247ee3<(Array[_0xf9b703(0x141)](_0x55f14b['layers'])?_0x55f14b[_0xf9b703(0x116)][_0xf9b703(0x13a)]:0x0);_0x247ee3++){const _0x45c9bd=_0x55f14b[_0xf9b703(0x116)][_0x247ee3];if(!_0x45c9bd)continue;const _0x5f06ab=typeof _0x45c9bd['visible']!==_0xf9b703(0x14f)?_0x45c9bd['visible']:!![];if(!_0x5f06ab)continue;const _0x1fb885=_0x45c9bd[_0xf9b703(0x164)]?_0x45c9bd[_0xf9b703(0x164)]:_0x45c9bd;if(_0x1fb885)_0x1bc7ce[_0xf9b703(0x11d)](_0x1fb885,0x0,0x0,_0x26dd15,_0xa563f1);}let _0x336fe8=document[_0xf9b703(0x142)]('a');_0x336fe8[_0xf9b703(0x10a)]=_0x129eed+'-f'+(_0xb4ec63+0x1)+'.'+_0x34baa2;if(_0x34baa2===_0xf9b703(0x143)||_0x34baa2==='jpeg'){let _0x32f98b=getExportQuality(),_0x277497=Math[_0xf9b703(0x122)](0.1,Math[_0xf9b703(0x12f)](0x1,_0x32f98b/0xa));_0x336fe8[_0xf9b703(0x10f)]=_0x592d75[_0xf9b703(0x14d)](_0x171051,_0x277497);}else _0x34baa2===_0xf9b703(0x117)?_0x336fe8[_0xf9b703(0x10f)]=_0x592d75[_0xf9b703(0x14d)](_0x171051):_0x336fe8['href']=_0x592d75[_0xf9b703(0x14d)](_0x171051);setTimeout(()=>_0x336fe8[_0xf9b703(0x136)](),_0xb4ec63*0x64);}}}async function exportWebpAnimation(_0x4b5590,_0x2d35db,_0x9a3bdf,_0x32d6ea=_0x5bed76(0x126)){const _0x3413c7=_0x5bed76;if(!window[_0x3413c7(0x119)]||!window[_0x3413c7(0x120)]){alert('このブラウザはWebCodecsによるWEBPアニメーションに対応していません。');return;}const _0x4cc0c1=[],_0x271a0f=new VideoEncoder({'output':_0x13d2e4=>_0x4cc0c1[_0x3413c7(0x121)](_0x13d2e4),'error':_0x1fdd40=>console[_0x3413c7(0x109)](_0x1fdd40)});_0x271a0f['configure']({'codec':_0x3413c7(0x149),'width':_0x2d35db,'height':_0x9a3bdf,'framerate':0x5});for(let _0x51f4bd=0x0;_0x51f4bd<_0x4b5590[_0x3413c7(0x13a)];_0x51f4bd++){let _0x2eabb7=document[_0x3413c7(0x142)](_0x3413c7(0x164));_0x2eabb7[_0x3413c7(0x104)]=_0x2d35db,_0x2eabb7['height']=_0x9a3bdf;let _0x4f5257=_0x2eabb7['getContext']('2d'),_0x5a0403=_0x4b5590[_0x51f4bd];for(let _0x27ecd9=0x0;_0x27ecd9<(Array['isArray'](_0x5a0403[_0x3413c7(0x116)])?_0x5a0403[_0x3413c7(0x116)][_0x3413c7(0x13a)]:0x0);_0x27ecd9++){const _0x5736a3=_0x5a0403[_0x3413c7(0x116)][_0x27ecd9];if(!_0x5736a3)continue;const _0x34f48f=typeof _0x5736a3[_0x3413c7(0x168)]!==_0x3413c7(0x14f)?_0x5736a3[_0x3413c7(0x168)]:!![];if(!_0x34f48f)continue;const _0x42a4cd=_0x5736a3[_0x3413c7(0x164)]?_0x5736a3['canvas']:_0x5736a3;if(_0x42a4cd)_0x4f5257[_0x3413c7(0x11d)](_0x42a4cd,0x0,0x0);}let _0x498e79=await createImageBitmap(_0x2eabb7);_0x271a0f[_0x3413c7(0x114)](_0x498e79,{'keyFrame':!![],'duration':0xc8}),_0x498e79[_0x3413c7(0x123)]();}await _0x271a0f['flush'](),_0x271a0f[_0x3413c7(0x123)]();const _0x2f8907=new Blob(_0x4cc0c1[_0x3413c7(0x11f)](_0x467a04=>_0x467a04[_0x3413c7(0x11b)]?_0x467a04:_0x467a04[_0x3413c7(0x151)]),{'type':'video/webm'}),_0x3f5e86=document['createElement']('a');_0x3f5e86[_0x3413c7(0x10a)]=_0x32d6ea+'.webm',_0x3f5e86[_0x3413c7(0x10f)]=URL['createObjectURL'](_0x2f8907),_0x3f5e86['click']();}function exportGif(){const _0x51776f=_0x5bed76;try{showLoading(_0x51776f(0x10b));}catch(_0x5163b3){}let _0x33be65=getCurrentProject(),_0x5e634f=_0x33be65[_0x51776f(0x103)];const {width:_0x2282e5,height:_0x3c88f2}=getExportSize(),_0x5b6692=_0x5e634f[_0x51776f(0x11f)](_0x1feab3=>{const _0x1ee69d=_0x51776f;let _0x566c9f=document[_0x1ee69d(0x142)](_0x1ee69d(0x164));_0x566c9f[_0x1ee69d(0x104)]=_0x2282e5,_0x566c9f[_0x1ee69d(0x146)]=_0x3c88f2;let _0x4ac78d=_0x566c9f[_0x1ee69d(0x147)]('2d');for(let _0x53267c=0x0;_0x53267c<(Array['isArray'](_0x1feab3[_0x1ee69d(0x116)])?_0x1feab3['layers'][_0x1ee69d(0x13a)]:0x0);_0x53267c++){const _0x1a96dc=_0x1feab3[_0x1ee69d(0x116)][_0x53267c];if(!_0x1a96dc)continue;const _0x2e18e9=typeof _0x1a96dc[_0x1ee69d(0x168)]!=='undefined'?_0x1a96dc[_0x1ee69d(0x168)]:!![];if(!_0x2e18e9)continue;const _0x2c0c08=_0x1a96dc[_0x1ee69d(0x164)]?_0x1a96dc['canvas']:_0x1a96dc;if(_0x2c0c08)_0x4ac78d['drawImage'](_0x2c0c08,0x0,0x0);}return _0x566c9f[_0x1ee69d(0x14d)](_0x1ee69d(0x159));});Promise[_0x51776f(0x155)](_0x5b6692[_0x51776f(0x11f)](_0x579ca0=>{return new Promise(_0x1a015d=>{const _0x5a3b58=_0x2d93,_0x1ea483=new Image();_0x1ea483[_0x5a3b58(0x162)]=_0x579ca0,_0x1ea483[_0x5a3b58(0x12b)]=()=>_0x1a015d(_0x1ea483);});}))[_0x51776f(0x134)](_0xb4926a=>{const _0x18a056=_0x51776f,_0x4016d8=_0xb4926a[_0x18a056(0x158)](_0xa59b85=>_0xa59b85[_0x18a056(0x104)]>0x0&&_0xa59b85['height']>0x0);if(_0x4016d8[_0x18a056(0x13a)]===0x0){try{hideLoading();}catch(_0x3b0a6a){}alert(_0x18a056(0x131));return;}const _0x1491f5=(_0x33be65[_0x18a056(0x135)]||_0x18a056(0x126))[_0x18a056(0x145)](/[\\/:*?"<>|]/g,'_');let _0x763da3=getExportQuality(),_0x1c272c=0x1f-_0x763da3*0x3;convertToGIF(_0x4016d8,animationDelay,_0x1491f5+_0x18a056(0x13b),_0x1c272c);})['catch'](_0x324af2=>{const _0x1f39ed=_0x51776f;try{hideLoading();}catch(_0x1d66ad){};console[_0x1f39ed(0x109)](_0x324af2);});}function exportApng(){const _0x3a5f1d=_0x5bed76;try{showLoading(_0x3a5f1d(0x113));}catch(_0xc7af96){}let _0xa3de9=getCurrentProject(),_0x26c4dc=_0xa3de9[_0x3a5f1d(0x103)];const {width:_0x3c62c7,height:_0x212f81}=getExportSize(),_0xd17447=_0x26c4dc[_0x3a5f1d(0x11f)](_0x5cf50b=>{const _0xcae470=_0x3a5f1d;let _0x2df80a=document[_0xcae470(0x142)](_0xcae470(0x164));_0x2df80a[_0xcae470(0x104)]=_0x3c62c7,_0x2df80a[_0xcae470(0x146)]=_0x212f81;let _0x1dc5f7=_0x2df80a[_0xcae470(0x147)]('2d');for(let _0x58ee99=0x0;_0x58ee99<(Array[_0xcae470(0x141)](_0x5cf50b[_0xcae470(0x116)])?_0x5cf50b[_0xcae470(0x116)]['length']:0x0);_0x58ee99++){const _0x45bad2=_0x5cf50b[_0xcae470(0x116)][_0x58ee99];if(!_0x45bad2)continue;const _0x5df91a=typeof _0x45bad2[_0xcae470(0x168)]!=='undefined'?_0x45bad2[_0xcae470(0x168)]:!![];if(!_0x5df91a)continue;const _0x2df4f3=_0x45bad2[_0xcae470(0x164)]?_0x45bad2[_0xcae470(0x164)]:_0x45bad2;if(_0x2df4f3)_0x1dc5f7[_0xcae470(0x11d)](_0x2df4f3,0x0,0x0);}const _0x35d67f=_0x1dc5f7[_0xcae470(0x12e)](0x0,0x0,_0x3c62c7,_0x212f81)[_0xcae470(0x151)][_0xcae470(0x154)];return _0x35d67f;}),_0x2a7133=(_0xa3de9[_0x3a5f1d(0x135)]||_0x3a5f1d(0x126))[_0x3a5f1d(0x145)](/[\\/:*?"<>|]/g,'_'),_0x33a129=document[_0x3a5f1d(0x15e)](_0x3a5f1d(0x15a)),_0x2c055e=_0x33a129?_0x33a129['value']:_0x3a5f1d(0x102);let _0x54ba71=getExportQuality(),_0xa692f5=Math[_0x3a5f1d(0x122)](0x0,Math[_0x3a5f1d(0x12f)](0xa,0xb-_0x54ba71));convertToAPNG(_0xd17447,_0x3c62c7,_0x212f81,animationDelay,_0x2a7133+'.'+_0x2c055e,_0xa692f5);}async function convertToGIF(_0x537693,_0x40c318=0xc8,_0x4b60c6=_0x5bed76(0x157),_0x5ca61d=0xa){const _0x1e6631=_0x5bed76,_0xb3286=new window[(_0x1e6631(0x14e))]({'workers':0x2,'quality':_0x5ca61d,'workerScript':_0x1e6631(0x111)});_0x537693[_0x1e6631(0x130)](_0xa18c62=>_0xb3286['addFrame'](_0xa18c62,{'delay':_0x40c318})),_0xb3286['on'](_0x1e6631(0x163),_0x3a193d=>{const _0x24e388=_0x1e6631,_0x59e13f=URL[_0x24e388(0x160)](_0x3a193d),_0xfc6a9d=document[_0x24e388(0x142)]('a');_0xfc6a9d[_0x24e388(0x10f)]=_0x59e13f,_0xfc6a9d[_0x24e388(0x10a)]=_0x4b60c6,document[_0x24e388(0x14a)][_0x24e388(0x11a)](_0xfc6a9d),_0xfc6a9d[_0x24e388(0x136)](),setTimeout(()=>{const _0x1d2e46=_0x24e388;document[_0x1d2e46(0x14a)][_0x1d2e46(0x132)](_0xfc6a9d),URL[_0x1d2e46(0x107)](_0x59e13f);try{hideLoading();}catch(_0x54eb04){}},0x3e8);}),_0xb3286[_0x1e6631(0x11c)]();}function makeAPNGBlob(_0x4b47f0,_0x29041e,_0x203202,_0x23cbe3=0xc8,_0x1a58f1=0x0){const _0x3dde53=_0x5bed76,_0x2ba40f=[],_0x1a370b=[],_0x264e02=document[_0x3dde53(0x142)]('canvas');_0x264e02[_0x3dde53(0x104)]=_0x29041e,_0x264e02[_0x3dde53(0x146)]=_0x203202;const _0x537d7b=_0x264e02['getContext']('2d');_0x4b47f0['forEach'](_0x32b92f=>{const _0x167cdf=_0x3dde53;if(_0x32b92f instanceof ArrayBuffer){_0x2ba40f[_0x167cdf(0x121)](_0x32b92f),_0x1a370b[_0x167cdf(0x121)](_0x23cbe3);return;}_0x537d7b[_0x167cdf(0x133)](0x0,0x0,_0x29041e,_0x203202);try{_0x537d7b[_0x167cdf(0x11d)](_0x32b92f,0x0,0x0,_0x29041e,_0x203202);}catch(_0x52e7e2){return;}const _0x3ca94b=_0x537d7b[_0x167cdf(0x12e)](0x0,0x0,_0x29041e,_0x203202)['data']['buffer'];_0x2ba40f['push'](_0x3ca94b),_0x1a370b[_0x167cdf(0x121)](_0x23cbe3);});if(!_0x2ba40f[_0x3dde53(0x13a)])return null;const _0x22e04b=window[_0x3dde53(0x137)][_0x3dde53(0x114)](_0x2ba40f,_0x29041e,_0x203202,_0x1a58f1,_0x1a370b);return new Blob([_0x22e04b],{'type':_0x3dde53(0x106)});}function convertToAPNG(_0x2eb7c2,_0x55e31b,_0x98e65f,_0x4b1d2d=0xc8,_0x2ed98f=_0x5bed76(0x153),_0x4fca77=0x0){const _0x4893d7=_0x5bed76,_0x31a5dc=makeAPNGBlob(_0x2eb7c2,_0x55e31b,_0x98e65f,_0x4b1d2d,_0x4fca77);if(!_0x31a5dc){try{hideLoading();}catch(_0x42390c){}alert(_0x4893d7(0x11e));return;}const _0x237c64=URL[_0x4893d7(0x160)](_0x31a5dc),_0x2d8d09=document[_0x4893d7(0x142)]('a');_0x2d8d09[_0x4893d7(0x10f)]=_0x237c64,_0x2d8d09[_0x4893d7(0x10a)]=_0x2ed98f,document['body']['appendChild'](_0x2d8d09),_0x2d8d09[_0x4893d7(0x136)](),setTimeout(()=>{const _0x323dfd=_0x4893d7;document['body'][_0x323dfd(0x132)](_0x2d8d09),URL[_0x323dfd(0x107)](_0x237c64);try{hideLoading();}catch(_0x88e3e3){}},0x3e8);}function exportSpriteSheetDialog(){const _0x428694=_0x5bed76;let _0xee6689=prompt(_0x428694(0x125),'1');if(_0xee6689===null)return;let _0x264542=Math[_0x428694(0x122)](0x1,parseInt(_0xee6689,0xa)||0x1),_0x2dab8c=prompt(_0x428694(0x10d),'0');if(_0x2dab8c===null)return;let _0x336a06=Math['max'](0x0,parseInt(_0x2dab8c,0xa)||0x0);exportSpriteSheet(_0x264542,_0x336a06);}function exportSpriteSheet(_0x4c3fe5=0x1,_0x1d5014=0x0){const _0x4b1ca6=_0x5bed76,_0x1df942=getCurrentProject();if(!_0x1df942){alert('プロジェクトがありません');return;}const _0x225b82=_0x1df942[_0x4b1ca6(0x103)];if(!_0x225b82||_0x225b82['length']===0x0){alert(_0x4b1ca6(0x169));return;}const _0x18b4db=_0x1df942[_0x4b1ca6(0x104)]*cellSize,_0x413542=_0x1df942['height']*cellSize,_0x5e65b8=_0x18b4db*_0x225b82[_0x4b1ca6(0x13a)]*_0x4c3fe5+Math[_0x4b1ca6(0x122)](0x0,_0x225b82[_0x4b1ca6(0x13a)]-0x1)*_0x1d5014,_0x3eedfc=_0x413542*_0x4c3fe5,_0x5ee474=document[_0x4b1ca6(0x142)](_0x4b1ca6(0x164));_0x5ee474[_0x4b1ca6(0x104)]=_0x5e65b8,_0x5ee474[_0x4b1ca6(0x146)]=_0x3eedfc;const _0x5cdbd4=_0x5ee474[_0x4b1ca6(0x147)]('2d');_0x5cdbd4[_0x4b1ca6(0x133)](0x0,0x0,_0x5ee474['width'],_0x5ee474[_0x4b1ca6(0x146)]);let _0x4b91d3=0x0;for(let _0x40191c=0x0;_0x40191c<_0x225b82[_0x4b1ca6(0x13a)];_0x40191c++){let _0x260a36=document[_0x4b1ca6(0x142)]('canvas');_0x260a36[_0x4b1ca6(0x104)]=_0x18b4db,_0x260a36[_0x4b1ca6(0x146)]=_0x413542;let _0x1ee8e6=_0x260a36[_0x4b1ca6(0x147)]('2d');for(let _0x3ad12d=0x0;_0x3ad12d<(Array[_0x4b1ca6(0x141)](_0x225b82[_0x40191c][_0x4b1ca6(0x116)])?_0x225b82[_0x40191c][_0x4b1ca6(0x116)][_0x4b1ca6(0x13a)]:0x0);_0x3ad12d++){const _0x28e665=_0x225b82[_0x40191c][_0x4b1ca6(0x116)][_0x3ad12d];if(!_0x28e665)continue;const _0x30c9cd=typeof _0x28e665[_0x4b1ca6(0x168)]!==_0x4b1ca6(0x14f)?_0x28e665['visible']:!![];if(!_0x30c9cd)continue;const _0x36a05f=_0x28e665[_0x4b1ca6(0x164)]?_0x28e665[_0x4b1ca6(0x164)]:_0x28e665;if(_0x36a05f)_0x1ee8e6[_0x4b1ca6(0x11d)](_0x36a05f,0x0,0x0);}_0x4c3fe5===0x1&&_0x1d5014===0x0?(_0x5cdbd4[_0x4b1ca6(0x11d)](_0x260a36,_0x4b91d3,0x0),_0x4b91d3+=_0x18b4db):(_0x5cdbd4['drawImage'](_0x260a36,0x0,0x0,_0x18b4db,_0x413542,_0x4b91d3,0x0,_0x18b4db*_0x4c3fe5,_0x413542*_0x4c3fe5),_0x4b91d3+=_0x18b4db*_0x4c3fe5),_0x40191c<_0x225b82[_0x4b1ca6(0x13a)]-0x1&&_0x1d5014>0x0&&(_0x4b91d3+=_0x1d5014);}const _0x370cd7=(_0x1df942['name']||_0x4b1ca6(0x16a))[_0x4b1ca6(0x145)](/[\\/:*?"<>|]/g,'_'),_0x58562d=document[_0x4b1ca6(0x142)]('a');_0x58562d['href']=_0x5ee474[_0x4b1ca6(0x14d)]('image/png'),_0x58562d[_0x4b1ca6(0x10a)]=_0x370cd7+_0x4b1ca6(0x12c),document[_0x4b1ca6(0x14a)]['appendChild'](_0x58562d),_0x58562d['click'](),setTimeout(()=>{const _0x5c9d62=_0x4b1ca6;document['body'][_0x5c9d62(0x132)](_0x58562d);},0x3e8);}function _0x2d93(_0x1f01fa,_0x3c01bc){_0x1f01fa=_0x1f01fa-0x101;const _0x5d28f9=_0x5954();let _0x5aebfa=_0x5d28f9[_0x1f01fa];return _0x5aebfa;}async function exportStandalone(){const _0x27dda1=_0x5bed76;try{showLoading(_0x27dda1(0x13e));}catch(_0x204687){}let _0x35c386=getCurrentProject(),_0x19af8d=_0x35c386[_0x27dda1(0x103)];const _0x4a7afb=_0x35c386['width']*cellSize,_0x3e1e26=_0x35c386[_0x27dda1(0x146)]*cellSize,_0x2d48ce=_0x19af8d[_0x27dda1(0x11f)](_0x279cd7=>{const _0x551cc4=_0x27dda1;let _0x1310f9=document[_0x551cc4(0x142)](_0x551cc4(0x164));_0x1310f9[_0x551cc4(0x104)]=_0x4a7afb,_0x1310f9['height']=_0x3e1e26;let _0x2d096e=_0x1310f9[_0x551cc4(0x147)]('2d');for(let _0x3f406a=0x0;_0x3f406a<_0x279cd7[_0x551cc4(0x116)][_0x551cc4(0x13a)];_0x3f406a++){const _0xe4970c=_0x279cd7['layers'][_0x3f406a]&&_0x279cd7['layers'][_0x3f406a][_0x551cc4(0x164)]?_0x279cd7[_0x551cc4(0x116)][_0x3f406a][_0x551cc4(0x164)]:_0x279cd7[_0x551cc4(0x116)][_0x3f406a];if(_0xe4970c)_0x2d096e[_0x551cc4(0x11d)](_0xe4970c,0x0,0x0);}return _0x2d096e[_0x551cc4(0x12e)](0x0,0x0,_0x4a7afb,_0x3e1e26)[_0x551cc4(0x151)]['buffer'];}),_0x48c1f7=(_0x35c386['name']||_0x27dda1(0x126))[_0x27dda1(0x145)](/[\\/:*?"<>|]/g,'_'),_0x226f91=makeAPNGBlob(_0x2d48ce,_0x4a7afb,_0x3e1e26,animationDelay),_0x2b68c5={'type':_0x27dda1(0x118),'version':0x1,'project':{'width':_0x35c386[_0x27dda1(0x104)],'height':_0x35c386[_0x27dda1(0x146)],'name':_0x35c386[_0x27dda1(0x135)]||'','activeFrame':_0x35c386['activeFrame'],'frames':_0x35c386['frames']['map'](_0x55a744=>({'activeLayer':_0x55a744['activeLayer'],'layers':_0x55a744[_0x27dda1(0x116)]['map'](_0x3a3ffd=>_0x3a3ffd&&_0x3a3ffd[_0x27dda1(0x164)]?_0x3a3ffd['canvas'][_0x27dda1(0x14d)]():_0x3a3ffd&&_0x3a3ffd['toDataURL']?_0x3a3ffd[_0x27dda1(0x14d)]():null)}))}},_0x401da4=appendMetadataToBlob(_0x226f91,_0x2b68c5),_0x386cc2=URL[_0x27dda1(0x160)](_0x401da4),_0x591613=document['createElement']('a');_0x591613['href']=_0x386cc2,_0x591613[_0x27dda1(0x10a)]=_0x48c1f7+_0x27dda1(0x152),document[_0x27dda1(0x14a)]['appendChild'](_0x591613);try{hideLoading();}catch(_0x33bee3){}_0x591613['click'](),setTimeout(()=>{const _0x2a7b62=_0x27dda1;document['body'][_0x2a7b62(0x132)](_0x591613),URL['revokeObjectURL'](_0x386cc2);},0x3e8);}