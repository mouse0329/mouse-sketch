const _0x130ba2=_0x4051;(function(_0x7f8fd4,_0x3aaa3a){const _0x54e1e2=_0x4051,_0x18530e=_0x7f8fd4();while(!![]){try{const _0x367106=-parseInt(_0x54e1e2(0x7a))/0x1+-parseInt(_0x54e1e2(0x9c))/0x2+parseInt(_0x54e1e2(0x80))/0x3*(parseInt(_0x54e1e2(0xe1))/0x4)+parseInt(_0x54e1e2(0xb0))/0x5*(parseInt(_0x54e1e2(0xe3))/0x6)+-parseInt(_0x54e1e2(0x96))/0x7*(-parseInt(_0x54e1e2(0x98))/0x8)+parseInt(_0x54e1e2(0xc8))/0x9+parseInt(_0x54e1e2(0xb9))/0xa*(-parseInt(_0x54e1e2(0xa0))/0xb);if(_0x367106===_0x3aaa3a)break;else _0x18530e['push'](_0x18530e['shift']());}catch(_0x3f74b2){_0x18530e['push'](_0x18530e['shift']());}}}(_0x3a8c,0x349e2));const _0x3d4b46=(function(){let _0x4b26e7=!![];return function(_0x3e3d37,_0x31a834){const _0x5c45d5=_0x4b26e7?function(){const _0x11c978=_0x4051;if(_0x31a834){const _0x4c520b=_0x31a834[_0x11c978(0xa5)](_0x3e3d37,arguments);return _0x31a834=null,_0x4c520b;}}:function(){};return _0x4b26e7=![],_0x5c45d5;};}()),_0x14d6be=_0x3d4b46(this,function(){const _0x3fb874=_0x4051;return _0x14d6be[_0x3fb874(0x101)]()[_0x3fb874(0x85)](_0x3fb874(0xd2))[_0x3fb874(0x101)]()[_0x3fb874(0xba)](_0x14d6be)[_0x3fb874(0x85)](_0x3fb874(0xd2));});_0x14d6be();function createProject(_0x1bd3ea=0x10,_0x41d286=0x10,_0x1ad450=''){const _0x2157e7=_0x4051;let _0x361d59=0x14,_0x575fa0=[],_0x2dfeaa=[],_0x88ac7=[],_0x475dbb=document[_0x2157e7(0xd3)](_0x2157e7(0xc2));_0x475dbb['width']=_0x1bd3ea*_0x361d59,_0x475dbb['height']=_0x41d286*_0x361d59,_0x575fa0[_0x2157e7(0xd4)]({'canvas':_0x475dbb,'visible':!![]}),_0x2dfeaa[_0x2157e7(0xd4)]([]),_0x88ac7[_0x2157e7(0xd4)]([]);let _0x3a1c2b={'layers':_0x575fa0,'activeLayer':0x0,'layerHistories':_0x2dfeaa,'layerRedoStacks':_0x88ac7};return{'frames':[_0x3a1c2b],'activeFrame':0x0,'width':_0x1bd3ea,'height':_0x41d286,'name':_0x1ad450||'画像'+(projects[_0x2157e7(0x91)]+0x1)};}function editProjectName(_0x553577,_0x3ea28f){const _0x2f7163=_0x4051,_0x51630c=document[_0x2f7163(0xd3)](_0x2f7163(0xf7));_0x51630c[_0x2f7163(0xe7)]='text',_0x51630c[_0x2f7163(0xb4)]=projects[_0x553577][_0x2f7163(0x94)]||'画像'+(_0x553577+0x1),_0x51630c[_0x2f7163(0xae)]=_0x2f7163(0x8d),_0x51630c[_0x2f7163(0xac)][_0x2f7163(0xfd)]=_0x2f7163(0xe6),_0x51630c['onblur']=()=>{const _0x457238=_0x2f7163;projects[_0x553577][_0x457238(0x94)]=_0x51630c[_0x457238(0xb4)][_0x457238(0xea)]()||'画像'+(_0x553577+0x1),updateProjectUI();},_0x51630c[_0x2f7163(0xbe)]=_0x2e94a3=>{const _0x443cbe=_0x2f7163;if(_0x2e94a3[_0x443cbe(0xa4)]==='Enter')_0x51630c[_0x443cbe(0x8b)]();},_0x3ea28f[_0x2f7163(0xeb)](_0x51630c),_0x51630c[_0x2f7163(0x7c)](),_0x51630c[_0x2f7163(0x8c)]();}function addProject(){showNewProjectDialog((_0x18199b,_0x4b9fdc,_0x114913)=>{const _0x5837f5=_0x4051;if(!Number[_0x5837f5(0xdb)](_0x18199b)||_0x18199b<0x1)_0x18199b=0x10;if(!Number[_0x5837f5(0xdb)](_0x4b9fdc)||_0x4b9fdc<0x1)_0x4b9fdc=0x10;projects[_0x5837f5(0xd4)](createProject(_0x18199b,_0x4b9fdc,_0x114913)),activeProject=projects[_0x5837f5(0x91)]-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();});}function removeProjectAt(_0x56e865){const _0x2642b2=_0x4051;if(projects['length']<=0x1)return;const _0x108656=projects[_0x56e865]&&projects[_0x56e865]['name']?projects[_0x56e865]['name']:'画像'+(_0x56e865+0x1);if(!confirm('「'+_0x108656+_0x2642b2(0xda)))return;projects[_0x2642b2(0xf9)](_0x56e865,0x1);if(activeProject>=projects[_0x2642b2(0x91)])activeProject=projects[_0x2642b2(0x91)]-0x1;updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentProject(){return projects[activeProject];}function addFrame(){const _0x4924c4=_0x4051,_0x1a3dad=getCurrentProject(),_0x446e0e=_0x1a3dad['frames'][_0x1a3dad[_0x4924c4(0xd0)]],_0x15a7e7=_0x1b76f5=>{const _0x363490=_0x4924c4,_0xa59c43=_0x1b76f5&&_0x1b76f5[_0x363490(0xc2)]?_0x1b76f5[_0x363490(0xc2)]:_0x1b76f5;if(!_0xa59c43)return console['warn'](_0x363490(0x95),_0x1b76f5),null;const _0x2bbf0b=document['createElement'](_0x363490(0xc2));_0x2bbf0b[_0x363490(0xfd)]=_0xa59c43[_0x363490(0xfd)]||_0x1a3dad['width']*cellSize,_0x2bbf0b[_0x363490(0xc3)]=_0xa59c43[_0x363490(0xc3)]||_0x1a3dad['height']*cellSize;const _0x19d28a=_0x2bbf0b[_0x363490(0xce)]('2d');try{_0x19d28a[_0x363490(0x8f)](_0xa59c43,0x0,0x0);}catch(_0xb12b7e){console[_0x363490(0xbf)](_0x363490(0xaa),_0xb12b7e);}return{'canvas':_0x2bbf0b,'visible':_0x1b76f5&&typeof _0x1b76f5[_0x363490(0xd9)]!==_0x363490(0xe8)?_0x1b76f5[_0x363490(0xd9)]:!![]};},_0x19044e=_0x446e0e[_0x4924c4(0xcf)][_0x4924c4(0xcd)](_0x15a7e7),_0x128c8b=_0x19044e[_0x4924c4(0xcd)](()=>[]),_0x283a8d=_0x19044e[_0x4924c4(0xcd)](()=>[]),_0x4bba41={'layers':_0x19044e,'activeLayer':0x0,'layerHistories':_0x128c8b,'layerRedoStacks':_0x283a8d};_0x1a3dad['frames'][_0x4924c4(0xf9)](_0x1a3dad[_0x4924c4(0xd0)]+0x1,0x0,_0x4bba41),_0x1a3dad[_0x4924c4(0xd0)]++,updateFrameUI(),updateLayerUI(),redrawAll();}const cloneLayer=_0x115320=>{const _0x541151=_0x4051,_0x773136=_0x115320&&_0x115320[_0x541151(0xc2)]?_0x115320[_0x541151(0xc2)]:_0x115320;if(!_0x773136)return console['warn']('複製できないレイヤーがありますチュー',_0x115320),null;const _0x3a6eba=document['createElement'](_0x541151(0xc2));_0x3a6eba[_0x541151(0xfd)]=_0x773136[_0x541151(0xfd)],_0x3a6eba[_0x541151(0xc3)]=_0x773136['height'];const _0x52c6ff=_0x3a6eba[_0x541151(0xce)]('2d');try{_0x52c6ff[_0x541151(0x8f)](_0x773136,0x0,0x0);}catch(_0x18d92b){console[_0x541151(0xbf)](_0x541151(0xaa),_0x18d92b);}return{'canvas':_0x3a6eba,'visible':_0x115320&&typeof _0x115320['visible']!=='undefined'?_0x115320[_0x541151(0xd9)]:!![]};};function removeFrameAt(_0x4e7745){const _0xcbe648=_0x4051;let _0x34347a=getCurrentProject();if(_0x34347a[_0xcbe648(0xb7)][_0xcbe648(0x91)]<=0x1)return;_0x34347a[_0xcbe648(0xb7)][_0xcbe648(0xf9)](_0x4e7745,0x1);if(_0x34347a[_0xcbe648(0xd0)]>=_0x34347a[_0xcbe648(0xb7)][_0xcbe648(0x91)])_0x34347a[_0xcbe648(0xd0)]=_0x34347a[_0xcbe648(0xb7)][_0xcbe648(0x91)]-0x1;updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentFrame(){const _0x1301ea=_0x4051,_0x46397d=getCurrentProject();if(!_0x46397d||!_0x46397d[_0x1301ea(0xb7)]||typeof _0x46397d[_0x1301ea(0xd0)]!==_0x1301ea(0xf2)||!_0x46397d[_0x1301ea(0xb7)][_0x46397d[_0x1301ea(0xd0)]])return null;return _0x46397d[_0x1301ea(0xb7)][_0x46397d[_0x1301ea(0xd0)]];}function swapLayer(_0x5e299f,_0x50a660){const _0x1811ea=_0x4051;let _0x111fae=getCurrentFrame();[_0x111fae[_0x1811ea(0xcf)][_0x5e299f],_0x111fae[_0x1811ea(0xcf)][_0x50a660]]=[_0x111fae[_0x1811ea(0xcf)][_0x50a660],_0x111fae[_0x1811ea(0xcf)][_0x5e299f]],[_0x111fae['layerHistories'][_0x5e299f],_0x111fae[_0x1811ea(0xc1)][_0x50a660]]=[_0x111fae[_0x1811ea(0xc1)][_0x50a660],_0x111fae[_0x1811ea(0xc1)][_0x5e299f]],[_0x111fae[_0x1811ea(0x92)][_0x5e299f],_0x111fae['layerRedoStacks'][_0x50a660]]=[_0x111fae[_0x1811ea(0x92)][_0x50a660],_0x111fae[_0x1811ea(0x92)][_0x5e299f]];if(_0x111fae['activeLayer']===_0x5e299f)_0x111fae[_0x1811ea(0x84)]=_0x50a660;else{if(_0x111fae[_0x1811ea(0x84)]===_0x50a660)_0x111fae[_0x1811ea(0x84)]=_0x5e299f;}updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x1811ea(0xc6))requestAutoSave();}function removeLayerAt(_0x2e61aa){const _0x46bfb5=_0x4051;let _0x18e3cc=getCurrentFrame();if(_0x18e3cc[_0x46bfb5(0xcf)]['length']<=0x1)return;_0x18e3cc['layers'][_0x46bfb5(0xf9)](_0x2e61aa,0x1),_0x18e3cc[_0x46bfb5(0xc1)]['splice'](_0x2e61aa,0x1),_0x18e3cc[_0x46bfb5(0x92)][_0x46bfb5(0xf9)](_0x2e61aa,0x1);if(_0x18e3cc[_0x46bfb5(0x84)]>=_0x18e3cc[_0x46bfb5(0xcf)]['length'])_0x18e3cc[_0x46bfb5(0x84)]=_0x18e3cc[_0x46bfb5(0xcf)][_0x46bfb5(0x91)]-0x1;updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x46bfb5(0xc6))requestAutoSave();}function addLayer(){const _0x58d7ea=_0x4051;let _0x1e3c80=getCurrentProject(),_0x532b1c=getCurrentFrame(),_0xc36a31=document[_0x58d7ea(0xd3)](_0x58d7ea(0xc2));_0xc36a31[_0x58d7ea(0xfd)]=_0x1e3c80[_0x58d7ea(0xfd)]*cellSize,_0xc36a31[_0x58d7ea(0xc3)]=_0x1e3c80[_0x58d7ea(0xc3)]*cellSize,_0x532b1c['layers'][_0x58d7ea(0xd4)]({'canvas':_0xc36a31,'visible':!![]}),_0x532b1c[_0x58d7ea(0xc1)][_0x58d7ea(0xd4)]([]),_0x532b1c[_0x58d7ea(0x92)][_0x58d7ea(0xd4)]([]),_0x532b1c[_0x58d7ea(0x84)]=_0x532b1c['layers']['length']-0x1,saveHistory(),updateLayerUI(),redrawAll();}function removeLayer(){const _0x4f4a54=_0x4051;let _0x34a5e9=getCurrentFrame();if(_0x34a5e9[_0x4f4a54(0xcf)][_0x4f4a54(0x91)]<=0x1)return;_0x34a5e9['layers']['splice'](_0x34a5e9['activeLayer'],0x1),_0x34a5e9[_0x4f4a54(0xc1)][_0x4f4a54(0xf9)](_0x34a5e9[_0x4f4a54(0x84)],0x1),_0x34a5e9[_0x4f4a54(0x92)][_0x4f4a54(0xf9)](_0x34a5e9[_0x4f4a54(0x84)],0x1),_0x34a5e9[_0x4f4a54(0x84)]=Math['max'](0x0,_0x34a5e9['activeLayer']-0x1),updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x4f4a54(0xc6))requestAutoSave();}function duplicateLayerAt(_0x5e8e7){const _0x51970a=_0x4051,_0x2dfbf0=getCurrentProject(),_0x4b922a=getCurrentFrame();if(!_0x2dfbf0||!_0x4b922a||typeof _0x5e8e7!==_0x51970a(0xf2)||!_0x4b922a['layers'][_0x5e8e7])return;const _0x4aca94=_0x4b922a[_0x51970a(0xcf)][_0x5e8e7],_0x2607e4=_0x4aca94&&_0x4aca94['canvas']?_0x4aca94[_0x51970a(0xc2)]:_0x4aca94;if(!_0x2607e4)return;const _0x27786d=document[_0x51970a(0xd3)](_0x51970a(0xc2));_0x27786d[_0x51970a(0xfd)]=_0x2dfbf0[_0x51970a(0xfd)]*cellSize,_0x27786d[_0x51970a(0xc3)]=_0x2dfbf0[_0x51970a(0xc3)]*cellSize;const _0x2e6ecc=_0x27786d[_0x51970a(0xce)]('2d');_0x2e6ecc[_0x51970a(0x102)](0x0,0x0,_0x27786d[_0x51970a(0xfd)],_0x27786d[_0x51970a(0xc3)]);try{_0x2e6ecc['drawImage'](_0x2607e4,0x0,0x0);}catch(_0x2a00f8){console[_0x51970a(0xbf)](_0x51970a(0x9b),_0x2a00f8);}const _0x13f960=_0x5e8e7+0x1;_0x4b922a['layers'][_0x51970a(0xf9)](_0x13f960,0x0,{'canvas':_0x27786d,'visible':!![]});if(Array[_0x51970a(0xbc)](_0x4b922a['layerHistories']))_0x4b922a[_0x51970a(0xc1)][_0x51970a(0xf9)](_0x13f960,0x0,[]);if(Array[_0x51970a(0xbc)](_0x4b922a[_0x51970a(0x92)]))_0x4b922a[_0x51970a(0x92)]['splice'](_0x13f960,0x0,[]);_0x4b922a[_0x51970a(0x84)]=_0x13f960,saveHistory(),updateLayerUI(),redrawAll();if(typeof requestAutoSave===_0x51970a(0xc6))requestAutoSave();}function selectLayer(_0x15755c){const _0x3c1616=_0x4051;getCurrentFrame()[_0x3c1616(0x84)]=parseInt(_0x15755c),updateLayerUI();}function copyLayer(){const _0x41ef69=_0x4051,_0x206221=getCurrentFrame();if(!_0x206221)return;const _0x119181=_0x206221[_0x41ef69(0x84)];if(typeof _0x119181!==_0x41ef69(0xf2)||!_0x206221[_0x41ef69(0xcf)][_0x119181])return;const _0x23fd76=_0x206221[_0x41ef69(0xcf)][_0x119181],_0x5709cc=_0x23fd76&&_0x23fd76[_0x41ef69(0xc2)]?_0x23fd76['canvas']:_0x23fd76;if(!_0x5709cc||typeof _0x5709cc[_0x41ef69(0x83)]!==_0x41ef69(0xc6))return;copiedLayerDataUrl=_0x5709cc[_0x41ef69(0x83)]();const _0x411d7a=document[_0x41ef69(0x9a)](_0x41ef69(0x8e));if(_0x411d7a)_0x411d7a[_0x41ef69(0xc7)]=![];}function pasteLayer(){const _0x44b887=_0x4051;if(!copiedLayerDataUrl)return;const _0x3db01c=getCurrentProject(),_0x47f102=getCurrentFrame();if(!_0x3db01c||!_0x47f102)return;const _0x5af5db=document[_0x44b887(0xd3)]('canvas');_0x5af5db['width']=_0x3db01c[_0x44b887(0xfd)]*cellSize,_0x5af5db[_0x44b887(0xc3)]=_0x3db01c['height']*cellSize;const _0x2af381=_0x5af5db[_0x44b887(0xce)]('2d'),_0x8a29d6=new Image();_0x8a29d6[_0x44b887(0xf4)]=()=>{const _0x3669aa=_0x44b887;_0x2af381['clearRect'](0x0,0x0,_0x5af5db['width'],_0x5af5db[_0x3669aa(0xc3)]),_0x2af381[_0x3669aa(0x8f)](_0x8a29d6,0x0,0x0),_0x47f102[_0x3669aa(0xcf)][_0x3669aa(0xd4)]({'canvas':_0x5af5db,'visible':!![]}),_0x47f102['layerHistories'][_0x3669aa(0xd4)]([]),_0x47f102[_0x3669aa(0x92)][_0x3669aa(0xd4)]([]),_0x47f102[_0x3669aa(0x84)]=_0x47f102[_0x3669aa(0xcf)][_0x3669aa(0x91)]-0x1,saveHistory(),updateLayerUI(),redrawAll();},_0x8a29d6[_0x44b887(0xf0)]=copiedLayerDataUrl;}function _0x4051(_0xfb57f5,_0x497181){_0xfb57f5=_0xfb57f5-0x7a;const _0x236f1a=_0x3a8c();let _0x14d6be=_0x236f1a[_0xfb57f5];return _0x14d6be;}async function exportLayersAsGif(){const _0x501d25=_0x4051,_0x4ac0b1=document[_0x501d25(0x9a)](_0x501d25(0x9d));if(_0x4ac0b1)_0x4ac0b1['textContent']='処理中...';const _0x575066=getCurrentProject();if(!_0x575066){if(_0x4ac0b1)_0x4ac0b1['textContent']='';return;}const _0x88e7d7=_0x575066[_0x501d25(0xb7)],_0x23ffd2=_0x575066['width']*cellSize,_0x4041a7=_0x575066['height']*cellSize;let _0x4743e7=0x0;_0x88e7d7[_0x501d25(0x7b)](_0x58f108=>{const _0x63ef4d=_0x501d25;_0x4743e7=Math[_0x63ef4d(0xe2)](_0x4743e7,_0x58f108[_0x63ef4d(0xcf)][_0x63ef4d(0x91)]);});for(let _0x3d64cd=0x0;_0x3d64cd<_0x4743e7;_0x3d64cd++){const _0x51918c=await Promise[_0x501d25(0xf6)](_0x88e7d7[_0x501d25(0xcd)](_0x211462=>{return new Promise(_0x261292=>{const _0x5bc3d2=_0x4051,_0x4e0653=document[_0x5bc3d2(0xd3)]('canvas');_0x4e0653['width']=_0x23ffd2,_0x4e0653[_0x5bc3d2(0xc3)]=_0x4041a7;const _0x1e354e=_0x4e0653[_0x5bc3d2(0xce)]('2d'),_0x2f9c5e=_0x211462[_0x5bc3d2(0xcf)][_0x3d64cd]&&_0x211462['layers'][_0x3d64cd]['canvas']?_0x211462[_0x5bc3d2(0xcf)][_0x3d64cd][_0x5bc3d2(0xc2)]:_0x211462[_0x5bc3d2(0xcf)][_0x3d64cd];if(_0x2f9c5e)_0x1e354e[_0x5bc3d2(0x8f)](_0x2f9c5e,0x0,0x0);const _0x511323=new Image();_0x511323[_0x5bc3d2(0xf4)]=()=>_0x261292(_0x511323),_0x511323[_0x5bc3d2(0xf0)]=_0x4e0653[_0x5bc3d2(0x83)]('image/png');});})),_0x2c991a=_0x51918c[_0x501d25(0x81)](_0x5375d5=>{const _0x38bb91=_0x501d25,_0x3f718a=document[_0x38bb91(0xd3)]('canvas');_0x3f718a[_0x38bb91(0xfd)]=_0x23ffd2,_0x3f718a[_0x38bb91(0xc3)]=_0x4041a7;const _0x23cf3c=_0x3f718a[_0x38bb91(0xce)]('2d');_0x23cf3c['drawImage'](_0x5375d5,0x0,0x0);const _0x6476c2=_0x23cf3c[_0x38bb91(0xbb)](0x0,0x0,_0x23ffd2,_0x4041a7)[_0x38bb91(0x9f)];for(let _0x3dd205=0x3;_0x3dd205<_0x6476c2[_0x38bb91(0x91)];_0x3dd205+=0x4)if(_0x6476c2[_0x3dd205]!==0x0)return!![];return![];});if(!_0x2c991a)continue;const _0x176795=(_0x575066[_0x501d25(0x94)]||_0x501d25(0xfe))['replace'](/[\\/:*?"<>|]/g,'_')+(_0x501d25(0xf8)+(_0x3d64cd+0x1)+'.gif');convertToGIF(_0x51918c,animationDelay,_0x176795),await new Promise(_0x26296a=>setTimeout(_0x26296a,0x78));}if(_0x4ac0b1)_0x4ac0b1[_0x501d25(0x7e)]='';}async function exportLayersAsApng(){const _0x4b00e1=_0x4051,_0x371a8c=document[_0x4b00e1(0x9a)]('layerExportStatus');if(_0x371a8c)_0x371a8c[_0x4b00e1(0x7e)]=_0x4b00e1(0xa6);const _0x3d62dd=getCurrentProject();if(!_0x3d62dd){if(_0x371a8c)_0x371a8c['textContent']='';return;}const _0x5265a1=_0x3d62dd['frames'],_0x45673a=_0x3d62dd[_0x4b00e1(0xfd)]*cellSize,_0x5b378b=_0x3d62dd[_0x4b00e1(0xc3)]*cellSize;let _0x1899b5=0x0;_0x5265a1[_0x4b00e1(0x7b)](_0x51652d=>{const _0x18a2dc=_0x4b00e1;_0x1899b5=Math[_0x18a2dc(0xe2)](_0x1899b5,_0x51652d['layers'][_0x18a2dc(0x91)]);});for(let _0x5c9346=0x0;_0x5c9346<_0x1899b5;_0x5c9346++){const _0x13ab9a=await Promise[_0x4b00e1(0xf6)](_0x5265a1[_0x4b00e1(0xcd)](_0x3d6857=>{return new Promise(_0x29989d=>{const _0x5af3e4=_0x4051,_0x5bd94d=document[_0x5af3e4(0xd3)](_0x5af3e4(0xc2));_0x5bd94d[_0x5af3e4(0xfd)]=_0x45673a,_0x5bd94d[_0x5af3e4(0xc3)]=_0x5b378b;const _0x1c8702=_0x5bd94d[_0x5af3e4(0xce)]('2d'),_0x457347=_0x3d6857['layers'][_0x5c9346]&&_0x3d6857[_0x5af3e4(0xcf)][_0x5c9346][_0x5af3e4(0xc2)]?_0x3d6857['layers'][_0x5c9346][_0x5af3e4(0xc2)]:_0x3d6857['layers'][_0x5c9346];if(_0x457347)_0x1c8702['drawImage'](_0x457347,0x0,0x0);const _0x54f6d1=new Image();_0x54f6d1[_0x5af3e4(0xf4)]=()=>_0x29989d(_0x54f6d1),_0x54f6d1[_0x5af3e4(0xf0)]=_0x5bd94d[_0x5af3e4(0x83)](_0x5af3e4(0xec));});})),_0x194489=_0x13ab9a[_0x4b00e1(0x81)](_0x38d0a8=>{const _0xcd574b=_0x4b00e1,_0x4b7e5e=document[_0xcd574b(0xd3)](_0xcd574b(0xc2));_0x4b7e5e[_0xcd574b(0xfd)]=_0x45673a,_0x4b7e5e[_0xcd574b(0xc3)]=_0x5b378b;const _0x485667=_0x4b7e5e['getContext']('2d');_0x485667[_0xcd574b(0x8f)](_0x38d0a8,0x0,0x0);const _0x4332e5=_0x485667['getImageData'](0x0,0x0,_0x45673a,_0x5b378b)[_0xcd574b(0x9f)];for(let _0x5ad57e=0x3;_0x5ad57e<_0x4332e5[_0xcd574b(0x91)];_0x5ad57e+=0x4)if(_0x4332e5[_0x5ad57e]!==0x0)return!![];return![];});if(!_0x194489)continue;const _0x35c56a=(_0x3d62dd[_0x4b00e1(0x94)]||'nezumi-animation')[_0x4b00e1(0x93)](/[\\/:*?"<>|]/g,'_')+(_0x4b00e1(0xf8)+(_0x5c9346+0x1)+'.apng');convertToAPNG(_0x13ab9a,_0x45673a,_0x5b378b,animationDelay,_0x35c56a),await new Promise(_0x5cae32=>setTimeout(_0x5cae32,0x78));}if(_0x371a8c)_0x371a8c['textContent']='';}async function exportFramesLayersZip(){const _0x32ec43=_0x4051,_0xe15c38=document[_0x32ec43(0x9a)](_0x32ec43(0x9d));if(_0xe15c38)_0xe15c38[_0x32ec43(0x7e)]=_0x32ec43(0x7d);const _0x31741c=getCurrentProject();if(!_0x31741c){if(_0xe15c38)_0xe15c38[_0x32ec43(0x7e)]='';return;}const _0x542dfd=_0x31741c[_0x32ec43(0xb7)],_0x148896=_0x31741c[_0x32ec43(0xfd)]*cellSize,_0x223999=_0x31741c[_0x32ec43(0xc3)]*cellSize,_0x1d0468=new JSZip();for(let _0x36e26e=0x0;_0x36e26e<_0x542dfd[_0x32ec43(0x91)];_0x36e26e++){const _0x19b3e6=_0x542dfd[_0x36e26e],_0x17893e=_0x1d0468[_0x32ec43(0x7f)](_0x32ec43(0xe4)+(_0x36e26e+0x1));for(let _0x40ca44=0x0;_0x40ca44<_0x19b3e6[_0x32ec43(0xcf)][_0x32ec43(0x91)];_0x40ca44++){const _0x1ed668=document['createElement']('canvas');_0x1ed668[_0x32ec43(0xfd)]=_0x148896,_0x1ed668[_0x32ec43(0xc3)]=_0x223999;const _0x5b8825=_0x1ed668[_0x32ec43(0xce)]('2d');_0x5b8825[_0x32ec43(0x102)](0x0,0x0,_0x148896,_0x223999);const _0x251495=_0x19b3e6[_0x32ec43(0xcf)][_0x40ca44];if(_0x251495){const _0x5e170e=_0x251495[_0x32ec43(0xc2)]?_0x251495[_0x32ec43(0xc2)]:_0x251495;if(_0x5e170e)_0x5b8825['drawImage'](_0x5e170e,0x0,0x0);}const _0x12508e=_0x1ed668['toDataURL'](_0x32ec43(0xec)),_0x4d168c=_0x12508e[_0x32ec43(0xfc)](',')[0x1],_0x14879c=atob(_0x4d168c),_0x31e32d=new Uint8Array(_0x14879c['length']);for(let _0x2c7ea6=0x0;_0x2c7ea6<_0x14879c[_0x32ec43(0x91)];_0x2c7ea6++)_0x31e32d[_0x2c7ea6]=_0x14879c[_0x32ec43(0xde)](_0x2c7ea6);_0x17893e[_0x32ec43(0xee)](_0x32ec43(0xb8)+(_0x40ca44+0x1)+_0x32ec43(0xdc),_0x31e32d);}}const _0x5d3284=await _0x1d0468['generateAsync']({'type':_0x32ec43(0x82)}),_0x468c5c=(_0x31741c['name']||_0x32ec43(0xcb))['replace'](/[\\/:*?"<>|]/g,'_'),_0x1d9f43=document[_0x32ec43(0xd3)]('a');_0x1d9f43[_0x32ec43(0x8a)]=URL[_0x32ec43(0xd5)](_0x5d3284),_0x1d9f43['download']=_0x468c5c+_0x32ec43(0xb2),document[_0x32ec43(0x100)][_0x32ec43(0xa8)](_0x1d9f43),_0x1d9f43[_0x32ec43(0xb3)](),setTimeout(()=>{const _0x4df8cd=_0x32ec43;URL[_0x4df8cd(0xfb)](_0x1d9f43['href']),document[_0x4df8cd(0x100)][_0x4df8cd(0xa2)](_0x1d9f43);if(_0xe15c38)_0xe15c38[_0x4df8cd(0x7e)]='';},0x4b0);}function saveProjectFile(){const _0x26d593=_0x4051,_0x5408e8=typeof getSavePayload===_0x26d593(0xc6)?getSavePayload():{'projects':projects['map'](_0xc41931=>({'width':_0xc41931[_0x26d593(0xfd)],'height':_0xc41931[_0x26d593(0xc3)],'name':_0xc41931[_0x26d593(0x94)]||'','activeFrame':_0xc41931[_0x26d593(0xd0)],'frames':_0xc41931[_0x26d593(0xb7)][_0x26d593(0xcd)](_0x21b369=>({'activeLayer':_0x21b369[_0x26d593(0x84)],'layers':_0x21b369[_0x26d593(0xcf)][_0x26d593(0xcd)](_0x19a30b=>_0x19a30b&&_0x19a30b['canvas']?_0x19a30b['canvas']['toDataURL']():_0x19a30b&&_0x19a30b[_0x26d593(0x83)]?_0x19a30b['toDataURL']():null)}))})),'activeProject':activeProject},_0x5aff79=new Blob([JSON[_0x26d593(0x89)](_0x5408e8)],{'type':_0x26d593(0xf5)}),_0x3a9adb=document[_0x26d593(0xd3)]('a');_0x3a9adb[_0x26d593(0xa1)]=_0x26d593(0xd1),_0x3a9adb['href']=URL[_0x26d593(0xd5)](_0x5aff79),_0x3a9adb[_0x26d593(0xb3)]();}function getSavePayload(){const _0x1569cf=_0x4051;return{'projects':projects[_0x1569cf(0xcd)](_0x1bd46f=>({'width':_0x1bd46f[_0x1569cf(0xfd)],'height':_0x1bd46f[_0x1569cf(0xc3)],'name':_0x1bd46f[_0x1569cf(0x94)]||'','activeFrame':_0x1bd46f['activeFrame'],'frames':_0x1bd46f[_0x1569cf(0xb7)]['map'](_0x1eb2bf=>({'activeLayer':_0x1eb2bf['activeLayer'],'layers':_0x1eb2bf[_0x1569cf(0xcf)][_0x1569cf(0xcd)](_0x124434=>_0x124434&&_0x124434['canvas']?_0x124434[_0x1569cf(0xc2)][_0x1569cf(0x83)]():_0x124434&&_0x124434['toDataURL']?_0x124434[_0x1569cf(0x83)]():null)}))})),'activeProject':activeProject};}async function saveProjectToIDB(){const _0x23f0c8=_0x4051,_0x28e3f3=getSavePayload();try{await idbSet(_0x23f0c8(0x87),_0x28e3f3),console[_0x23f0c8(0x9e)](_0x23f0c8(0xa9));}catch(_0x12891f){console[_0x23f0c8(0xe5)](_0x23f0c8(0xca),_0x12891f);}}function flushQuickSaveToLocalStorage(){const _0x5125a1=_0x4051;try{const _0x3bb0be=getSavePayload();localStorage['setItem'](_0x5125a1(0xd7),JSON['stringify'](_0x3bb0be)),console[_0x5125a1(0x97)](_0x5125a1(0xf3));}catch(_0x128bdb){console[_0x5125a1(0xe5)](_0x5125a1(0xf1),_0x128bdb);}}window[_0x130ba2(0xdf)]('visibilitychange',()=>{const _0x3017fb=_0x130ba2;if(document[_0x3017fb(0xdd)]&&autosaveDirty){flushQuickSaveToLocalStorage();if(typeof saveProjectToIDB===_0x3017fb(0xc6))saveProjectToIDB();}}),window['addEventListener'](_0x130ba2(0xa7),()=>{const _0xebe3f=_0x130ba2;if(autosaveDirty){flushQuickSaveToLocalStorage();if(typeof saveProjectToIDB===_0xebe3f(0xc6))saveProjectToIDB();}});let autosaveDirty=![],autosaveTimer=null;function _0x3a8c(){const _0x20d6f0=['beforeunload','appendChild','プロジェクトをIndexedDBに保存したチュー！','cloneLayer\x20draw\x20error','loadProjectFromIDB:\x20localStorage\x20quick\x20load\x20failed','style','startsWith','className','requestAutoSave','20wsjkud','スタンドアロン形式のプロジェクトを読み込みました:\x20','-frames-layers.zip','click','value','target','active','frames','layer-','112390eMaEeh','constructor','getImageData','isArray','loadProjectFromIDB:\x20データ確認','onkeydown','warn','offsetCells','layerHistories','canvas','height','auto-save\x20(interval)\x20failed','startCell','function','disabled','2264814sIylOJ','auto-save:\x20saved','保存に失敗したチュー:','nezumi-export','parse','map','getContext','layers','activeFrame','nezumi-sketch.msketch','(((.+)+)+)+$','createElement','push','createObjectURL','IndexedDBからの読み込みに失敗したチュー…','nezumi-sketch-save-quick','readAsText','visible','」を削除しますか？','isFinite','.png','hidden','charCodeAt','addEventListener','onerror','2092ltwWBu','max','371370qDpTup','frame-','error','80px','type','undefined','ファイルの読み込みに失敗しました。','trim','replaceWith','image/png','auto-save\x20(interval):\x20saved','file','startAutoSaveInterval','src','flushQuickSaveToLocalStorage\x20failed','number','flushQuickSaveToLocalStorage:\x20saved\x20quick\x20snapshot','onload','application/json','all','input','-layer','splice','info','revokeObjectURL','split','width','nezumi-animation','IndexedDBからプロジェクトを読み込んだチュー！','body','toString','clearRect','image','360642quzOEC','forEach','focus','ZIP作成中...','textContent','folder','459zpHosG','some','blob','toDataURL','activeLayer','search','requestAutoSave:\x20scheduling\x20save\x20in\x20','nezumi-sketch-save','projects','stringify','href','blur','select','project-name-edit','pasteLayerBtn','drawImage','activeProject','length','layerRedoStacks','replace','name','複製できないレイヤーがありますチュー','638638rjRcCX','debug','16IeNrXv','ファイルを読み込み中...','getElementById','duplicateLayerAt\x20draw\x20error','348620DhUuqU','layerExportStatus','log','data','11WWQKIE','download','removeChild','loadProjectFromIDB:\x20DB\x20に保存が見つかりませんでした。localStorage\x20のクイック保存を確認します。','key','apply','処理中...'];_0x3a8c=function(){return _0x20d6f0;};return _0x3a8c();}const AUTOSAVE_DELAY=0x1388,AUTOSAVE_INTERVAL=0xea60;function requestAutoSave(){const _0x54a7d5=_0x130ba2;autosaveDirty=!![];if(autosaveTimer)clearTimeout(autosaveTimer);console[_0x54a7d5(0x97)](_0x54a7d5(0x86)+AUTOSAVE_DELAY+'ms'),autosaveTimer=setTimeout(async()=>{const _0x2c86c1=_0x54a7d5;console['debug']('requestAutoSave:\x20timer\x20fired');if(!autosaveDirty)return;try{await saveProjectToIDB(),autosaveDirty=![],console[_0x2c86c1(0x9e)](_0x2c86c1(0xc9));}catch(_0x316edf){console[_0x2c86c1(0xe5)]('auto-save\x20failed',_0x316edf);}},AUTOSAVE_DELAY);}function startAutoSaveInterval(){console['debug']('startAutoSaveInterval:\x20starting\x20interval\x20'+AUTOSAVE_INTERVAL+'ms'),setInterval(async()=>{const _0x2efc27=_0x4051;if(!autosaveDirty)return;try{await saveProjectToIDB(),autosaveDirty=![],console[_0x2efc27(0x9e)](_0x2efc27(0xed));}catch(_0x7a32fc){console[_0x2efc27(0xe5)](_0x2efc27(0xc4),_0x7a32fc);}},AUTOSAVE_INTERVAL);}window[_0x130ba2(0xaf)]=requestAutoSave,window[_0x130ba2(0xef)]=startAutoSaveInterval;function loadProjectFile(_0x54e89e){const _0x25a993=_0x130ba2,_0x4abc30=_0x54e89e[_0x25a993(0xb5)]['files'][0x0];if(!_0x4abc30)return;if(_0x4abc30['type']&&_0x4abc30['type'][_0x25a993(0xad)](_0x25a993(0x103))){loadStandaloneFromFile(_0x4abc30)['then'](_0x55fa0c=>{const _0x5d7ac3=_0x25a993;alert(_0x5d7ac3(0xb1)+(_0x55fa0c[_0x5d7ac3(0x94)]||'画像'));})['catch'](_0x2b4c20=>{const _0x148921=_0x25a993;console[_0x148921(0xbf)](_0x2b4c20),alert('ファイルにプロジェクトメタデータが見つかりませんでした。読み込みできません。');});return;}const _0x35b47a=new FileReader();try{showLoading(_0x25a993(0x99));}catch(_0x4a5826){}_0x35b47a[_0x25a993(0xf4)]=function(_0x48a7e6){const _0x2b5cd0=_0x25a993;try{const _0x40abaf=JSON[_0x2b5cd0(0xcc)](_0x48a7e6[_0x2b5cd0(0xb5)]['result']);projects=_0x40abaf[_0x2b5cd0(0x88)][_0x2b5cd0(0xcd)]((_0xeb3316,_0x2bffd7)=>{const _0x245e20=_0x2b5cd0;let _0x57064c=createProject(_0xeb3316[_0x245e20(0xfd)],_0xeb3316[_0x245e20(0xc3)],_0xeb3316[_0x245e20(0x94)]||'画像'+(_0x2bffd7+0x1));return _0x57064c['frames']=_0xeb3316[_0x245e20(0xb7)][_0x245e20(0xcd)](_0x3a973d=>{const _0x1c9f3e=_0x245e20;let _0x55ccab={'layers':[],'activeLayer':_0x3a973d[_0x1c9f3e(0x84)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x322c10=0x0;_0x322c10<_0x3a973d[_0x1c9f3e(0xcf)][_0x1c9f3e(0x91)];_0x322c10++){let _0x3922a6=new Image();_0x3922a6[_0x1c9f3e(0xf0)]=_0x3a973d[_0x1c9f3e(0xcf)][_0x322c10];let _0x50698b=document[_0x1c9f3e(0xd3)](_0x1c9f3e(0xc2));_0x50698b[_0x1c9f3e(0xfd)]=_0xeb3316[_0x1c9f3e(0xfd)]*cellSize,_0x50698b['height']=_0xeb3316[_0x1c9f3e(0xc3)]*cellSize,_0x3922a6['onload']=()=>{let _0x5bac96=_0x50698b['getContext']('2d');_0x5bac96['clearRect'](0x0,0x0,_0x50698b['width'],_0x50698b['height']),_0x5bac96['drawImage'](_0x3922a6,0x0,0x0);try{redrawAll();}catch(_0x211ad3){}},_0x55ccab[_0x1c9f3e(0xcf)]['push'](_0x50698b),_0x55ccab[_0x1c9f3e(0xc1)][_0x1c9f3e(0xd4)]([]),_0x55ccab['layerRedoStacks'][_0x1c9f3e(0xd4)]([]);}return _0x55ccab;}),_0x57064c[_0x245e20(0xd0)]=_0xeb3316[_0x245e20(0xd0)],_0x57064c[_0x245e20(0x94)]=_0xeb3316[_0x245e20(0x94)]||'画像'+(_0x2bffd7+0x1),_0x57064c;}),activeProject=_0x40abaf[_0x2b5cd0(0x90)]||0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}catch(_0x124fdd){alert(_0x2b5cd0(0xe9));}finally{try{hideLoading();}catch(_0x3abec3){}}},_0x35b47a[_0x25a993(0xe0)]=function(){try{hideLoading();}catch(_0x95af78){}},_0x35b47a[_0x25a993(0xd8)](_0x4abc30);}async function loadProjectFromIDB(){const _0x163112=_0x130ba2;try{let _0x2a27a8=await idbGet(_0x163112(0x87));if(!_0x2a27a8){console[_0x163112(0xfa)](_0x163112(0xa3));try{const _0x10b07c=localStorage['getItem']('nezumi-sketch-save-quick');if(_0x10b07c){const _0x257ba5=JSON[_0x163112(0xcc)](_0x10b07c);_0x257ba5&&_0x257ba5[_0x163112(0x88)]&&(console[_0x163112(0xfa)]('loadProjectFromIDB:\x20localStorage\x20のクイック保存を復元します'),_0x2a27a8=_0x257ba5);}}catch(_0x3e6fbb){console[_0x163112(0xbf)](_0x163112(0xab),_0x3e6fbb);}if(!_0x2a27a8){if(typeof requestAutoSave==='function')requestAutoSave();return;}}console[_0x163112(0x9e)](_0x163112(0xbd),{'projects':Array['isArray'](_0x2a27a8['projects'])?_0x2a27a8[_0x163112(0x88)][_0x163112(0x91)]:0x0,'activeProject':_0x2a27a8['activeProject']}),projects=_0x2a27a8[_0x163112(0x88)][_0x163112(0xcd)]((_0x219d80,_0x24e0e8)=>{const _0x33ec21=_0x163112;let _0x38f603=createProject(_0x219d80[_0x33ec21(0xfd)],_0x219d80[_0x33ec21(0xc3)],_0x219d80[_0x33ec21(0x94)]||'画像'+(_0x24e0e8+0x1));return _0x38f603[_0x33ec21(0xb7)]=_0x219d80[_0x33ec21(0xb7)][_0x33ec21(0xcd)](_0x57a1ae=>{const _0x2ea235=_0x33ec21;let _0x247384={'layers':[],'activeLayer':_0x57a1ae[_0x2ea235(0x84)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x3dc28a=0x0;_0x3dc28a<_0x57a1ae[_0x2ea235(0xcf)][_0x2ea235(0x91)];_0x3dc28a++){let _0x470cc1=new Image();_0x470cc1[_0x2ea235(0xf0)]=_0x57a1ae['layers'][_0x3dc28a];let _0x4a107d=document[_0x2ea235(0xd3)]('canvas');_0x4a107d[_0x2ea235(0xfd)]=_0x219d80['width']*cellSize,_0x4a107d[_0x2ea235(0xc3)]=_0x219d80[_0x2ea235(0xc3)]*cellSize,_0x470cc1[_0x2ea235(0xf4)]=()=>{const _0x260bb8=_0x2ea235;let _0x40c14e=_0x4a107d[_0x260bb8(0xce)]('2d');_0x40c14e[_0x260bb8(0x102)](0x0,0x0,_0x4a107d[_0x260bb8(0xfd)],_0x4a107d['height']),_0x40c14e[_0x260bb8(0x8f)](_0x470cc1,0x0,0x0);try{redrawAll();}catch(_0x18de09){}},_0x247384['layers']['push']({'canvas':_0x4a107d,'visible':!![]}),_0x247384[_0x2ea235(0xc1)][_0x2ea235(0xd4)]([]),_0x247384[_0x2ea235(0x92)][_0x2ea235(0xd4)]([]);}return _0x247384;}),_0x38f603[_0x33ec21(0xd0)]=_0x219d80[_0x33ec21(0xd0)],_0x38f603[_0x33ec21(0x94)]=_0x219d80[_0x33ec21(0x94)]||'画像'+(_0x24e0e8+0x1),_0x38f603;}),activeProject=_0x2a27a8['activeProject']||0x0,await wait(0x64),updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();try{if(typeof updateUndoRedoButtons===_0x163112(0xc6))updateUndoRedoButtons();}catch(_0x3d5a57){}setTool('pen'),console[_0x163112(0x9e)](_0x163112(0xff));}catch(_0xfc65d2){alert(_0x163112(0xd6)),console[_0x163112(0xe5)](_0xfc65d2);}}function shiftLayerCanvas(_0x7fa4c8,_0x34cc00,_0x365682){const _0x225bc3=_0x130ba2;if(!_0x7fa4c8)return;const _0x175aba=_0x7fa4c8[_0x225bc3(0xfd)],_0xa3fb55=_0x7fa4c8[_0x225bc3(0xc3)],_0x484a19=document[_0x225bc3(0xd3)]('canvas');_0x484a19['width']=_0x175aba,_0x484a19['height']=_0xa3fb55;const _0x2fd015=_0x484a19[_0x225bc3(0xce)]('2d');_0x2fd015[_0x225bc3(0x102)](0x0,0x0,_0x175aba,_0xa3fb55),_0x2fd015[_0x225bc3(0x8f)](_0x7fa4c8,0x0,0x0);const _0x179145=_0x7fa4c8[_0x225bc3(0xce)]('2d');_0x179145['clearRect'](0x0,0x0,_0x175aba,_0xa3fb55),_0x179145[_0x225bc3(0x8f)](_0x484a19,_0x34cc00,_0x365682);}function nudgeActiveLayer(_0xd034b7,_0x2ab512){const _0x2a9eb2=_0x130ba2,_0x5cc137=getCurrentProject();if(!_0x5cc137)return;const _0x23c412=getCurrentFrame();if(!_0x23c412)return;const _0x55c78d=_0x23c412['activeLayer'];if(_0x55c78d==null)return;const _0x33fa15=(_0xd034b7||0x0)*cellSize,_0x4ca115=(_0x2ab512||0x0)*cellSize;if(_0x33fa15===0x0&&_0x4ca115===0x0)return;saveHistory();const _0x25aac3=_0x23c412[_0x2a9eb2(0xcf)][_0x55c78d],_0x3b0a3d=_0x25aac3&&_0x25aac3[_0x2a9eb2(0xc2)]?_0x25aac3['canvas']:_0x25aac3;_0x3b0a3d?(shiftLayerCanvas(_0x3b0a3d,_0x33fa15,_0x4ca115),redrawAll()):console[_0x2a9eb2(0xbf)]('nudgeActiveLayer:\x20対象レイヤーのキャンバスが見つかりません',_0x25aac3);}function startLayerMove(_0x3b4e29){const _0x3e3526=_0x130ba2;layerMoveState[_0x3e3526(0xb6)]=!![];const _0xd42cea=getCanvasCoords(_0x3b4e29);layerMoveState[_0x3e3526(0xc5)]={'x':Math['floor'](_0xd42cea['x']/cellSize),'y':Math['floor'](_0xd42cea['y']/cellSize)},layerMoveState['offsetCells']={'x':0x0,'y':0x0};}function endLayerMove(_0x5d61b4){const _0x53d03c=_0x130ba2;if(!layerMoveState[_0x53d03c(0xb6)])return;const _0xcad535=layerMoveState[_0x53d03c(0xc0)]['x']*cellSize,_0x2222ec=layerMoveState['offsetCells']['y']*cellSize;if(_0xcad535!==0x0||_0x2222ec!==0x0){saveHistory();const _0xf2f500=getCurrentFrame();if(_0xf2f500&&typeof _0xf2f500['activeLayer']===_0x53d03c(0xf2)){const _0x5bc2f3=_0xf2f500[_0x53d03c(0xcf)][_0xf2f500['activeLayer']],_0x44ccba=_0x5bc2f3&&_0x5bc2f3[_0x53d03c(0xc2)]?_0x5bc2f3[_0x53d03c(0xc2)]:_0x5bc2f3;if(_0x44ccba)shiftLayerCanvas(_0x44ccba,_0xcad535,_0x2222ec);}}layerMoveState[_0x53d03c(0xb6)]=![],layerMoveState[_0x53d03c(0xc5)]=null,layerMoveState[_0x53d03c(0xc0)]={'x':0x0,'y':0x0},redrawAll();}