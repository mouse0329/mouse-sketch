function _0x5429(){const _0x2a7763=['none','length','73058UFquzW','8px','この色をパレットから削除','toString','replace','#00000000','querySelectorAll','248UzchYa','#000000','(((.+)+)+)+$','unshift','palette-add-btn','split','scanColorsPanel','set','sort','createElement','forEach','transparent','stopPropagation','inset','repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px','getContext','onclick','absolute','970szkOrG','test','204021jOESVD','map','className','rgba(','constructor','add','87cwAyNz','entries','span','color-palette','get','width','toLowerCase','innerHTML','firstChild','49293aZDBWN','appendChild','1660HLcWjq','5967066aGjYOd','title','position','\x20透明度','5277054ZScMpW','padStart','textContent','overflow','floor','count','search','palette-del-btn','getElementById','style','421531PSPhNk','17720RhtjSw','splice','join','classList','background','hidden','height','min','from','slice','パレットに色を追加','apply','round','div','borderRadius','selected','relative','button'];_0x5429=function(){return _0x2a7763;};return _0x5429();}(function(_0x29599e,_0x159afb){const _0x205ccd=_0x6981,_0x58fa54=_0x29599e();while(!![]){try{const _0x4384ee=parseInt(_0x205ccd(0xa0))/0x1+-parseInt(_0x205ccd(0x85))/0x2*(-parseInt(_0x205ccd(0xa6))/0x3)+parseInt(_0x205ccd(0x71))/0x4*(parseInt(_0x205ccd(0xb1))/0x5)+parseInt(_0x205ccd(0xb6))/0x6+parseInt(_0x205ccd(0xb2))/0x7+-parseInt(_0x205ccd(0x8c))/0x8*(-parseInt(_0x205ccd(0xaf))/0x9)+parseInt(_0x205ccd(0x9e))/0xa*(-parseInt(_0x205ccd(0x70))/0xb);if(_0x4384ee===_0x159afb)break;else _0x58fa54['push'](_0x58fa54['shift']());}catch(_0x2d7c9e){_0x58fa54['push'](_0x58fa54['shift']());}}}(_0x5429,0xe04bf));const _0x276f4c=(function(){let _0x551e4c=!![];return function(_0x5f37ac,_0x2b3cf5){const _0x19a680=_0x551e4c?function(){const _0x84f637=_0x6981;if(_0x2b3cf5){const _0x14217d=_0x2b3cf5[_0x84f637(0x7c)](_0x5f37ac,arguments);return _0x2b3cf5=null,_0x14217d;}}:function(){};return _0x551e4c=![],_0x19a680;};}()),_0x30b654=_0x276f4c(this,function(){const _0x39070b=_0x6981;return _0x30b654[_0x39070b(0x88)]()[_0x39070b(0xbc)](_0x39070b(0x8e))[_0x39070b(0x88)]()[_0x39070b(0xa4)](_0x30b654)['search'](_0x39070b(0x8e));});_0x30b654();function hexToRgbaCss(_0x239767,_0x5791f1){const _0x193078=_0x6981;let _0x9f63f8,_0x206b4d,_0x3f1c58,_0x61bd21=_0x5791f1;if(_0x239767[_0x193078(0x84)]===0x9)_0x9f63f8=parseInt(_0x239767[_0x193078(0x7a)](0x1,0x3),0x10),_0x206b4d=parseInt(_0x239767['slice'](0x3,0x5),0x10),_0x3f1c58=parseInt(_0x239767[_0x193078(0x7a)](0x5,0x7),0x10),_0x61bd21=parseInt(_0x239767[_0x193078(0x7a)](0x7,0x9),0x10)/0xff;else{if(_0x239767['length']===0x7)_0x9f63f8=parseInt(_0x239767[_0x193078(0x7a)](0x1,0x3),0x10),_0x206b4d=parseInt(_0x239767['slice'](0x3,0x5),0x10),_0x3f1c58=parseInt(_0x239767['slice'](0x5,0x7),0x10);else{if(_0x239767[_0x193078(0x84)]===0x4)_0x9f63f8=parseInt(_0x239767[0x1]+_0x239767[0x1],0x10),_0x206b4d=parseInt(_0x239767[0x2]+_0x239767[0x2],0x10),_0x3f1c58=parseInt(_0x239767[0x3]+_0x239767[0x3],0x10);else return _0x239767;}}return _0x193078(0xa3)+_0x9f63f8+','+_0x206b4d+','+_0x3f1c58+','+_0x61bd21+')';}function _0x6981(_0x4dd986,_0x3faf35){_0x4dd986=_0x4dd986-0x6e;const _0x310883=_0x5429();let _0x30b654=_0x310883[_0x4dd986];return _0x30b654;}function hexToRgba(_0x4e9546,_0x2c01c0=0x1){const _0x3cfc30=_0x6981;if(_0x4e9546===_0x3cfc30(0x97)||_0x4e9546===_0x3cfc30(0x8a))return[0x0,0x0,0x0,0x0];_0x4e9546=_0x4e9546[_0x3cfc30(0x89)]('#','');if(_0x4e9546[_0x3cfc30(0x84)]===0x3)_0x4e9546=_0x4e9546[_0x3cfc30(0x91)]('')[_0x3cfc30(0xa1)](_0x20630d=>_0x20630d+_0x20630d)[_0x3cfc30(0x73)]('');if(_0x4e9546[_0x3cfc30(0x84)]===0x8){const _0x2e3b23=parseInt(_0x4e9546[_0x3cfc30(0x7a)](0x0,0x2),0x10),_0x9e447a=parseInt(_0x4e9546['slice'](0x2,0x4),0x10),_0x45a78b=parseInt(_0x4e9546[_0x3cfc30(0x7a)](0x4,0x6),0x10),_0x46b448=parseInt(_0x4e9546[_0x3cfc30(0x7a)](0x6,0x8),0x10);return[_0x2e3b23,_0x9e447a,_0x45a78b,_0x46b448];}let _0x42dcf4=parseInt(_0x4e9546,0x10);return[_0x42dcf4>>0x10&0xff,_0x42dcf4>>0x8&0xff,_0x42dcf4&0xff,Math['round'](0xff*_0x2c01c0)];}function colorsMatch(_0x51ebda,_0x48bb8b){return _0x51ebda[0x0]===_0x48bb8b[0x0]&&_0x51ebda[0x1]===_0x48bb8b[0x1]&&_0x51ebda[0x2]===_0x48bb8b[0x2]&&_0x51ebda[0x3]===_0x48bb8b[0x3];}function createPalette(){const _0x3740c6=_0x6981,_0x3e4e07=document[_0x3740c6(0x6e)](_0x3740c6(0xa9));if(!_0x3e4e07)return;_0x3e4e07[_0x3740c6(0xad)]='',PALETTE_COLORS['forEach']((_0x3b957f,_0x2e2706)=>{const _0x5c6287=_0x3740c6,_0x4ca4=document[_0x5c6287(0x95)](_0x5c6287(0x82));_0x4ca4[_0x5c6287(0xa2)]='palette-color',_0x4ca4[_0x5c6287(0x6f)][_0x5c6287(0xb4)]=_0x5c6287(0x81),_0x4ca4[_0x5c6287(0x6f)][_0x5c6287(0xb9)]=_0x5c6287(0x76),_0x4ca4['innerHTML']='';let _0x37c4b4=document[_0x5c6287(0x95)](_0x5c6287(0x7e));_0x37c4b4[_0x5c6287(0x6f)]['position']=_0x5c6287(0x9d),_0x37c4b4['style'][_0x5c6287(0x99)]='0',_0x37c4b4['style'][_0x5c6287(0x7f)]=_0x5c6287(0x86),_0x37c4b4[_0x5c6287(0x6f)][_0x5c6287(0x75)]=_0x5c6287(0x9a);let _0x58292d=document['createElement'](_0x5c6287(0x7e));_0x58292d[_0x5c6287(0x6f)]['position']='absolute',_0x58292d[_0x5c6287(0x6f)][_0x5c6287(0x99)]='0',_0x58292d[_0x5c6287(0x6f)][_0x5c6287(0x7f)]=_0x5c6287(0x86);if(_0x3b957f===_0x5c6287(0x97)||_0x3b957f===_0x5c6287(0x8a))_0x58292d[_0x5c6287(0x6f)][_0x5c6287(0x75)]=_0x5c6287(0x83),_0x4ca4[_0x5c6287(0xb3)]='透明',_0x4ca4['innerHTML']='<span\x20style=\x22position:relative;z-index:1;font-size:13px;color:#888;\x22>透明</span>';else{if(/^#([0-9a-f]{8})$/i['test'](_0x3b957f)){_0x58292d[_0x5c6287(0x6f)][_0x5c6287(0x75)]=hexToRgbaCss(_0x3b957f,0x1);const [_0x160b84,_0x5f960,_0x275e85,_0x3b4912]=hexToRgba(_0x3b957f),_0xdb2bad=_0x3b4912/0xff;_0x4ca4[_0x5c6287(0xb3)]=rgbaToHex(_0x160b84,_0x5f960,_0x275e85)+'\x20'+Math[_0x5c6287(0x7d)](_0xdb2bad*0x64)+'%';}else _0x3b957f[_0x5c6287(0xac)]()===currentColor[_0x5c6287(0xac)]()&&currentAlpha<0x1?(_0x58292d[_0x5c6287(0x6f)]['background']=hexToRgbaCss(_0x3b957f,currentAlpha),_0x4ca4['title']=_0x3b957f+_0x5c6287(0xb5)+Math[_0x5c6287(0x7d)](currentAlpha*0x64)+'%'):(_0x58292d[_0x5c6287(0x6f)][_0x5c6287(0x75)]=_0x3b957f,_0x4ca4[_0x5c6287(0xb3)]=_0x3b957f);}_0x4ca4[_0x5c6287(0xb0)](_0x37c4b4),_0x4ca4[_0x5c6287(0xb0)](_0x58292d),_0x4ca4[_0x5c6287(0x9c)]=()=>{const _0x282cb3=_0x5c6287;if(_0x3b957f===_0x282cb3(0x97)||_0x3b957f===_0x282cb3(0x8a))currentColor=_0x282cb3(0x97),currentAlpha=0x0;else{if(/^#([0-9a-f]{8})$/i[_0x282cb3(0x9f)](_0x3b957f)){const [_0x327a6e,_0x21e5d0,_0x42599e,_0x5be418]=hexToRgba(_0x3b957f);currentAlpha=_0x5be418/0xff,currentColor=rgbaToHex(_0x327a6e,_0x21e5d0,_0x42599e);}else currentColor=_0x3b957f,currentAlpha=0x1;}updateCurrentColorSwatch(),document[_0x282cb3(0x8b)]('.palette-color')[_0x282cb3(0x96)](_0x4216ee=>_0x4216ee[_0x282cb3(0x74)]['remove'](_0x282cb3(0x80))),_0x4ca4[_0x282cb3(0x74)][_0x282cb3(0xa5)](_0x282cb3(0x80));};if(_0x2e2706!==0x0){const _0x5aa696=document[_0x5c6287(0x95)](_0x5c6287(0xa8));_0x5aa696[_0x5c6287(0xb8)]='×',_0x5aa696[_0x5c6287(0xa2)]=_0x5c6287(0xbd),_0x5aa696[_0x5c6287(0xb3)]=_0x5c6287(0x87),_0x5aa696[_0x5c6287(0x9c)]=_0x49ae34=>{const _0x314dc0=_0x5c6287;_0x49ae34[_0x314dc0(0x98)](),PALETTE_COLORS[_0x314dc0(0x84)]>0x2&&(PALETTE_COLORS[_0x314dc0(0x72)](_0x2e2706,0x1),createPalette());},_0x4ca4[_0x5c6287(0xb0)](_0x5aa696);}_0x3e4e07[_0x5c6287(0xb0)](_0x4ca4);});const _0x5ac41b=document[_0x3740c6(0x95)](_0x3740c6(0x82));_0x5ac41b[_0x3740c6(0xa2)]=_0x3740c6(0x90),_0x5ac41b[_0x3740c6(0xb3)]=_0x3740c6(0x7b),_0x5ac41b['innerHTML']='+',_0x5ac41b['onclick']=_0x534dae=>{const _0x163cf4=_0x3740c6;_0x534dae[_0x163cf4(0x98)](),showColorPickerDialog({'color':currentColor===_0x163cf4(0x97)?_0x163cf4(0x8d):currentColor,'alpha':currentAlpha,'okLabel':'追加','onChange':()=>{},'onOk':({hex:_0x3620e5,rgba:_0x2168c8,a:_0x5a8df9})=>{const _0x2de4f2=_0x163cf4;if(_0x5a8df9===0x0){if(PALETTE_COLORS[0x0]===_0x2de4f2(0x97))PALETTE_COLORS[_0x2de4f2(0x72)](0x1,0x0,_0x2de4f2(0x97));else PALETTE_COLORS[_0x2de4f2(0x8f)](_0x2de4f2(0x97));}else{const _0x750eda=Math[_0x2de4f2(0x7d)](_0x5a8df9*0xff),_0x515d74=_0x750eda[_0x2de4f2(0x88)](0x10)[_0x2de4f2(0xb7)](0x2,'0');PALETTE_COLORS['unshift'](''+_0x3620e5+_0x515d74);}if(PALETTE_COLORS[_0x2de4f2(0x84)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x2de4f2(0x7a)](0x0,0x18);savePaletteToDB(),createPalette();}});},_0x3e4e07['insertBefore'](_0x5ac41b,_0x3e4e07[_0x3740c6(0xae)]);const _0x2c6bfd=document[_0x3740c6(0x6e)](_0x3740c6(0x92));if(_0x2c6bfd)_0x2c6bfd[_0x3740c6(0x6f)]['display']='';}function scanImageColors(){const _0x356c88=_0x6981,_0x390030=getCurrentProject(),_0x2fa3db=getCurrentFrame();if(!_0x390030||!_0x2fa3db)return[];const _0xd125f1=new Map(),_0x52a877=_0x390030[_0x356c88(0xab)],_0xf2d853=_0x390030[_0x356c88(0x77)],_0x3c613d=canvas[_0x356c88(0x9b)]('2d',{'willReadFrequently':!![]});for(let _0x3fa40d=0x0;_0x3fa40d<_0xf2d853;_0x3fa40d++){for(let _0x5343b4=0x0;_0x5343b4<_0x52a877;_0x5343b4++){const _0x2f54c4=Math[_0x356c88(0x78)](Math['floor'](_0x5343b4*cellSize+cellSize/0x2),canvas[_0x356c88(0xab)]-0x1),_0x256383=Math[_0x356c88(0x78)](Math[_0x356c88(0xba)](_0x3fa40d*cellSize+cellSize/0x2),canvas[_0x356c88(0x77)]-0x1),_0x4cac95=_0x3c613d['getImageData'](_0x2f54c4,_0x256383,0x1,0x1)['data'],_0x2655da=_0x4cac95[0x0]+','+_0x4cac95[0x1]+','+_0x4cac95[0x2]+','+_0x4cac95[0x3];_0xd125f1[_0x356c88(0x93)](_0x2655da,(_0xd125f1[_0x356c88(0xaa)](_0x2655da)||0x0)+0x1);}}const _0x1b729a=Array[_0x356c88(0x79)](_0xd125f1[_0x356c88(0xa7)]())[_0x356c88(0xa1)](([_0x11399d,_0x49e6d9])=>{const _0x20f98d=_0x356c88,[_0xd4809d,_0x18b97a,_0x208862,_0x3758bb]=_0x11399d['split'](',')[_0x20f98d(0xa1)](_0x569608=>parseInt(_0x569608,0xa));return{'r':_0xd4809d,'g':_0x18b97a,'b':_0x208862,'a':_0x3758bb,'count':_0x49e6d9};})[_0x356c88(0x94)]((_0x278df7,_0x34d0aa)=>_0x34d0aa[_0x356c88(0xbb)]-_0x278df7[_0x356c88(0xbb)]);return _0x1b729a;}function rgbaToHex(_0x47fd6d,_0x12c378,_0x23d62e){const _0x2ae8b5=_0x6981;return'#'+[_0x47fd6d,_0x12c378,_0x23d62e]['map'](_0x2abe52=>_0x2abe52[_0x2ae8b5(0x88)](0x10)[_0x2ae8b5(0xb7)](0x2,'0'))[_0x2ae8b5(0x73)]('');}