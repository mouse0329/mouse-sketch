function _0x49ed(){const _0x5831db=['#ccc','save','toString','drawImage','circle','1832016xNPNKw','toLowerCase','sqrt','rgb(','destination-out','version','data','random','min','pop','rgba(','getFullYear','getElementById','clearRect','226Ardfpi','layers','generateVersionFromNow','moveTo','width','height','complete','fillStyle','penMode','7YtItCI','isFinite','3461500xRmUwA','search','(((.+)+)+)+$','2847HFmEPh','push','3201165JrnBMr','string','lineTo','function','globalCompositeOperation','palette-penMode','1152138LfqFKt','50UMOVfh','strokeStyle','slice','apply','lineWidth','xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx','putImageData','getDate','ceil',',1)','auto','randomUUID','value','#00000000','replace','visible','style','eraser','379007HLhixr','restore','timestamp','round','getContext','redrawAll:\x20failed\x20drawing\x20layer','flat','max','floor','undefined','type','display','butt','beginPath','palette-penSize','isArray','activeLayer','canvas','length','stroke','5467384SvYlHk','match','getImageData','number','globalAlpha','application/octet-stream','uuidv4','encode','padStart','getSeconds','fillRect','transparent','stringify'];_0x49ed=function(){return _0x5831db;};return _0x49ed();}const _0x4097de=_0x2569;(function(_0x3bbd13,_0x42b2f4){const _0x450c24=_0x2569,_0xce6396=_0x3bbd13();while(!![]){try{const _0x2190b9=parseInt(_0x450c24(0x1e4))/0x1+parseInt(_0x450c24(0x218))/0x2*(-parseInt(_0x450c24(0x1c9))/0x3)+-parseInt(_0x450c24(0x20a))/0x4+-parseInt(_0x450c24(0x223))/0x5+parseInt(_0x450c24(0x1d1))/0x6+parseInt(_0x450c24(0x221))/0x7*(-parseInt(_0x450c24(0x1f8))/0x8)+-parseInt(_0x450c24(0x1cb))/0x9*(-parseInt(_0x450c24(0x1d2))/0xa);if(_0x2190b9===_0x42b2f4)break;else _0xce6396['push'](_0xce6396['shift']());}catch(_0xae4d33){_0xce6396['push'](_0xce6396['shift']());}}}(_0x49ed,0x63bab));const _0x1de0d1=(function(){let _0x1e0e9a=!![];return function(_0x126f9f,_0x4903d2){const _0x4f9cc4=_0x1e0e9a?function(){const _0x380cdb=_0x2569;if(_0x4903d2){const _0x1615d0=_0x4903d2[_0x380cdb(0x1d5)](_0x126f9f,arguments);return _0x4903d2=null,_0x1615d0;}}:function(){};return _0x1e0e9a=![],_0x4f9cc4;};}()),_0x3b748d=_0x1de0d1(this,function(){const _0x5309a6=_0x2569;return _0x3b748d[_0x5309a6(0x207)]()[_0x5309a6(0x224)](_0x5309a6(0x225))['toString']()['constructor'](_0x3b748d)[_0x5309a6(0x224)](_0x5309a6(0x225));});_0x3b748d();function setPenSize(_0x1da719){const _0x41b673=_0x2569;penSize=parseInt(_0x1da719)||0x1;let _0x4bae65=document[_0x41b673(0x216)]('penSize');if(_0x4bae65)_0x4bae65[_0x41b673(0x1de)]=penSize;let _0x4ae6a8=document[_0x41b673(0x216)](_0x41b673(0x1f2));if(_0x4ae6a8)_0x4ae6a8['value']=penSize;}function setPenMode(_0x31bb35){const _0x24e0e1=_0x2569;penMode=_0x31bb35;let _0x3b0eb0=document['getElementById'](_0x24e0e1(0x220));if(_0x3b0eb0)_0x3b0eb0[_0x24e0e1(0x1de)]=penMode;let _0x31048f=document[_0x24e0e1(0x216)](_0x24e0e1(0x1d0));if(_0x31048f)_0x31048f['value']=penMode;}function isDrawableCanvas(_0x66b26){const _0x458dd9=_0x2569;if(!_0x66b26)return![];const _0x319aa0=_0x66b26['width'],_0x457844=_0x66b26['height'];return Number['isFinite'](_0x319aa0)&&Number[_0x458dd9(0x222)](_0x457844)&&_0x319aa0>0x0&&_0x457844>0x0;}function fillAt(_0x53fb54,_0x4815fa){const _0x1d19d8=_0x2569;let _0x1a24b1=getCurrentProject(),_0x1e73e9=getCurrentFrame();if(!_0x1a24b1||!_0x1e73e9||typeof _0x1e73e9['activeLayer']!=='number'||!_0x1e73e9[_0x1d19d8(0x219)][_0x1e73e9[_0x1d19d8(0x1f4)]])return;const _0x4b1dea=_0x1e73e9[_0x1d19d8(0x219)][_0x1e73e9['activeLayer']],_0x5c158f=_0x4b1dea&&_0x4b1dea[_0x1d19d8(0x1f5)]?_0x4b1dea[_0x1d19d8(0x1f5)]:_0x4b1dea;if(!_0x5c158f||!_0x5c158f[_0x1d19d8(0x1e8)])return;let _0x3e98c8=_0x5c158f[_0x1d19d8(0x1e8)]('2d',{'willReadFrequently':!![]}),_0x1a0ce1=_0x3e98c8[_0x1d19d8(0x1fa)](0x0,0x0,_0x1a24b1[_0x1d19d8(0x21c)]*cellSize,_0x1a24b1['height']*cellSize),_0x553d68=_0x53fb54*cellSize,_0x59eb61=_0x4815fa*cellSize,_0x208143=getPixel(_0x1a0ce1,_0x553d68,_0x59eb61),_0x4bd903=currentAlpha===0x0?[0x0,0x0,0x0,0x0]:hexToRgba(currentColor,currentAlpha);if(colorsMatch(_0x208143,_0x4bd903))return;let _0xe1ce73=[[_0x53fb54,_0x4815fa]],_0x55bd1d=new Set();while(_0xe1ce73[_0x1d19d8(0x1f6)]){let [_0x67cc2,_0x3dffa6]=_0xe1ce73[_0x1d19d8(0x213)]();if(_0x67cc2<0x0||_0x3dffa6<0x0||_0x67cc2>=_0x1a24b1['width']||_0x3dffa6>=_0x1a24b1[_0x1d19d8(0x21d)])continue;let _0x4cc471=_0x67cc2+','+_0x3dffa6;if(_0x55bd1d['has'](_0x4cc471))continue;_0x55bd1d['add'](_0x4cc471);let _0x352af6=_0x67cc2*cellSize,_0x29c30e=_0x3dffa6*cellSize,_0xc15440=getPixel(_0x1a0ce1,_0x352af6,_0x29c30e);if(!colorsMatch(_0xc15440,_0x208143))continue;for(let _0x209c92=0x0;_0x209c92<cellSize;_0x209c92++){for(let _0x4d1f48=0x0;_0x4d1f48<cellSize;_0x4d1f48++){setPixel(_0x1a0ce1,_0x352af6+_0x4d1f48,_0x29c30e+_0x209c92,_0x4bd903);}}_0xe1ce73[_0x1d19d8(0x1ca)]([_0x67cc2+0x1,_0x3dffa6]),_0xe1ce73['push']([_0x67cc2-0x1,_0x3dffa6]),_0xe1ce73[_0x1d19d8(0x1ca)]([_0x67cc2,_0x3dffa6+0x1]),_0xe1ce73['push']([_0x67cc2,_0x3dffa6-0x1]);}_0x3e98c8[_0x1d19d8(0x1d8)](_0x1a0ce1,0x0,0x0),redrawAll();}function getPixel(_0x44599c,_0x1eff5d,_0x2ccf7b){const _0x4234bd=_0x2569;let _0x3c9bbc=(_0x2ccf7b*_0x44599c['width']+_0x1eff5d)*0x4;return[_0x44599c['data'][_0x3c9bbc],_0x44599c[_0x4234bd(0x210)][_0x3c9bbc+0x1],_0x44599c[_0x4234bd(0x210)][_0x3c9bbc+0x2],_0x44599c[_0x4234bd(0x210)][_0x3c9bbc+0x3]];}function setPixel(_0x17a061,_0x28af82,_0x31f566,_0xca3483){const _0x2a6402=_0x2569;let _0x2fabba=(_0x31f566*_0x17a061['width']+_0x28af82)*0x4;_0x17a061['data'][_0x2fabba]=_0xca3483[0x0],_0x17a061[_0x2a6402(0x210)][_0x2fabba+0x1]=_0xca3483[0x1],_0x17a061[_0x2a6402(0x210)][_0x2fabba+0x2]=_0xca3483[0x2],_0x17a061[_0x2a6402(0x210)][_0x2fabba+0x3]=_0xca3483[0x3];}function drawDotXY(_0x240869,_0x4cef31){const _0x649e6c=_0x2569;let _0x2dc45b=getCurrentProject(),_0x50956f=getCurrentFrame();if(!_0x50956f||!_0x2dc45b)return;if(typeof _0x240869!==_0x649e6c(0x1fb)||typeof _0x4cef31!==_0x649e6c(0x1fb)||_0x240869<0x0||_0x4cef31<0x0||!Number['isFinite'](_0x2dc45b['width'])||!Number[_0x649e6c(0x222)](_0x2dc45b[_0x649e6c(0x21d)])||_0x240869>=_0x2dc45b[_0x649e6c(0x21c)]||_0x4cef31>=_0x2dc45b[_0x649e6c(0x21d)]||!Array[_0x649e6c(0x1f3)](_0x50956f[_0x649e6c(0x219)])||typeof _0x50956f[_0x649e6c(0x1f4)]!==_0x649e6c(0x1fb)||!_0x50956f[_0x649e6c(0x219)][_0x50956f[_0x649e6c(0x1f4)]])return;const _0x3076c2=_0x50956f[_0x649e6c(0x219)][_0x50956f[_0x649e6c(0x1f4)]],_0x287053=_0x3076c2&&_0x3076c2[_0x649e6c(0x1f5)]?_0x3076c2['canvas']:_0x3076c2;if(!_0x287053||!_0x287053[_0x649e6c(0x1e8)])return;let _0x59e4ae=_0x287053['getContext']('2d');if(!_0x59e4ae)return;if(currentTool===_0x649e6c(0x1e3)||currentAlpha===0x0)drawPenShape(_0x59e4ae,_0x240869,_0x4cef31,null,!![]);else{let _0x22e27e=hexToRgba(currentColor,currentAlpha);_0x59e4ae[_0x649e6c(0x206)](),penAlphaMode===_0x649e6c(0x1ea)&&currentAlpha<0x1?(drawPenShape(_0x59e4ae,_0x240869,_0x4cef31,null,!![]),drawPenShape(_0x59e4ae,_0x240869,_0x4cef31,_0x22e27e,![])):drawPenShape(_0x59e4ae,_0x240869,_0x4cef31,_0x22e27e,![]),_0x59e4ae['restore']();}blitLayerArea(_0x287053,_0x240869,_0x4cef31,penSize);}function parseColorToRGBA(_0x37163d,_0x2ad9ef){const _0x426513=_0x2569;if(Array[_0x426513(0x1f3)](_0x37163d)&&_0x37163d[_0x426513(0x1f6)]>=0x4)return _0x37163d[_0x426513(0x1d4)](0x0,0x4);if(!_0x37163d||typeof _0x37163d!==_0x426513(0x1cc))return _0x2ad9ef||[0x0,0x0,0x0,0xff];if(_0x37163d===_0x426513(0x1df)||_0x37163d[_0x426513(0x20b)]()===_0x426513(0x203))return[0x0,0x0,0x0,0x0];const _0x77611b=_0x37163d[_0x426513(0x1f9)](/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/i);if(_0x77611b){const _0x16a860=parseInt(_0x77611b[0x1],0xa),_0x3df507=parseInt(_0x77611b[0x2],0xa),_0x36ff07=parseInt(_0x77611b[0x3],0xa),_0xb18448=typeof _0x77611b[0x4]!==_0x426513(0x1ed)?Math['round'](parseFloat(_0x77611b[0x4])*0xff):0xff;return[_0x16a860,_0x3df507,_0x36ff07,_0xb18448];}try{return hexToRgba(_0x37163d);}catch(_0x4e300a){return _0x2ad9ef||[0x0,0x0,0x0,0xff];}}function fillCellCircle(_0x4b8364,_0x27fb6b,_0x161bdd,_0x538f9e,_0xb3ad69,_0x59ceb0){const _0x3a103d=_0x2569,_0x556569=Math['max'](0x1,Math[_0x3a103d(0x1e7)](_0x538f9e/cellSize)),_0x31f1d2=_0x27fb6b+_0x538f9e/0x2,_0x2e9b7a=_0x161bdd+_0x538f9e/0x2,_0xf3f669=_0x538f9e/0x2;for(let _0xab2917=0x0;_0xab2917<_0x556569;_0xab2917++){for(let _0x17214b=0x0;_0x17214b<_0x556569;_0x17214b++){const _0x51db7e=_0x27fb6b+_0x17214b*cellSize,_0x3265fe=_0x161bdd+_0xab2917*cellSize,_0x13d411=_0x51db7e+cellSize/0x2,_0x547fc0=_0x3265fe+cellSize/0x2,_0x54e0c3=_0x13d411-_0x31f1d2,_0xec3300=_0x547fc0-_0x2e9b7a,_0x2793b7=Math[_0x3a103d(0x20c)](_0x54e0c3*_0x54e0c3+_0xec3300*_0xec3300);if(_0x2793b7<=_0xf3f669+0.0001){if(_0x59ceb0)_0x4b8364[_0x3a103d(0x217)](_0x51db7e,_0x3265fe,cellSize,cellSize);else _0xb3ad69&&(_0x4b8364[_0x3a103d(0x206)](),_0x4b8364['globalAlpha']=(_0xb3ad69[0x3]||0xff)/0xff,_0x4b8364['fillStyle']=_0x3a103d(0x20d)+_0xb3ad69[0x0]+','+_0xb3ad69[0x1]+','+_0xb3ad69[0x2]+')',_0x4b8364[_0x3a103d(0x202)](_0x51db7e,_0x3265fe,cellSize,cellSize),_0x4b8364[_0x3a103d(0x1e5)]());}}}}function drawPenShape(_0x197b49,_0x46daaf,_0x1f4268,_0x1938e9,_0x2f147b){const _0x5693bd=_0x2569,_0x3ad5bf=_0x46daaf*cellSize,_0x427cb6=_0x1f4268*cellSize,_0x1190bc=penSize*cellSize;if(_0x2f147b)penMode===_0x5693bd(0x209)?fillCellCircle(_0x197b49,_0x3ad5bf,_0x427cb6,_0x1190bc,null,!![]):_0x197b49[_0x5693bd(0x217)](_0x3ad5bf-Math['floor']((penSize-0x1)/0x2)*cellSize,_0x427cb6-Math['floor']((penSize-0x1)/0x2)*cellSize,_0x1190bc,_0x1190bc);else{if(penMode===_0x5693bd(0x209)){const _0x21fb7f=parseColorToRGBA(_0x1938e9,[0x0,0x0,0x0,0xff]);fillCellCircle(_0x197b49,_0x3ad5bf,_0x427cb6,_0x1190bc,_0x21fb7f,![]);}else _0x197b49[_0x5693bd(0x206)](),Array['isArray'](_0x1938e9)&&_0x1938e9['length']>=0x4?(_0x197b49['fillStyle']=_0x5693bd(0x214)+_0x1938e9[0x0]+','+_0x1938e9[0x1]+','+_0x1938e9[0x2]+_0x5693bd(0x1db),_0x197b49[_0x5693bd(0x1fc)]=(_0x1938e9[0x3]||0xff)/0xff):_0x197b49[_0x5693bd(0x21f)]=_0x1938e9,_0x197b49[_0x5693bd(0x202)](_0x3ad5bf-Math[_0x5693bd(0x1ec)]((penSize-0x1)/0x2)*cellSize,_0x427cb6-Math[_0x5693bd(0x1ec)]((penSize-0x1)/0x2)*cellSize,_0x1190bc,_0x1190bc),_0x197b49[_0x5693bd(0x1e5)]();}}function blitLayerArea(_0x1a3cbd,_0x1fd750,_0x5bf879,_0x21c2fd){const _0x5179eb=_0x2569;if(!_0x1a3cbd||!_0x1a3cbd[_0x5179eb(0x1e8)]||!isDrawableCanvas(_0x1a3cbd))return;const _0x3ea0e6=_0x21c2fd*cellSize,_0x186a98=Math[_0x5179eb(0x1ec)]((_0x21c2fd-0x1)/0x2)*cellSize,_0x57a8d7=_0x1fd750*cellSize-_0x186a98,_0x518859=_0x5bf879*cellSize-_0x186a98,_0x2180af=Math[_0x5179eb(0x1eb)](0x0,_0x57a8d7),_0x5482fc=Math[_0x5179eb(0x1eb)](0x0,_0x518859),_0x34d38b=Math[_0x5179eb(0x212)](canvas[_0x5179eb(0x21c)],_0x57a8d7+_0x3ea0e6),_0x20a02c=Math[_0x5179eb(0x212)](canvas['height'],_0x518859+_0x3ea0e6),_0xc59f35=_0x34d38b-_0x2180af,_0x1f8945=_0x20a02c-_0x5482fc;if(_0xc59f35<=0x0||_0x1f8945<=0x0)return;try{ctx[_0x5179eb(0x208)](_0x1a3cbd,_0x2180af,_0x5482fc,_0xc59f35,_0x1f8945,_0x2180af,_0x5482fc,_0xc59f35,_0x1f8945);}catch(_0x4a67a2){redrawAll();return;}drawGridArea(_0x2180af,_0x5482fc,_0xc59f35,_0x1f8945);}function drawGridArea(_0x13ac97,_0x4332c8,_0x5720d0,_0x39c84d){const _0x29c6ce=_0x2569;if(!showGrid||!_0x5720d0||!_0x39c84d)return;ctx[_0x29c6ce(0x206)](),ctx[_0x29c6ce(0x1d3)]=_0x29c6ce(0x205),ctx[_0x29c6ce(0x1d6)]=0x1,ctx['lineCap']=_0x29c6ce(0x1f0);const _0x358573=0x1,_0x243586=Math[_0x29c6ce(0x1eb)](0x0,Math[_0x29c6ce(0x1ec)]((_0x13ac97-_0x358573)/cellSize)*cellSize),_0xfa43dc=Math[_0x29c6ce(0x212)](canvas[_0x29c6ce(0x21c)],Math['ceil']((_0x13ac97+_0x5720d0+_0x358573)/cellSize)*cellSize),_0x1ce40c=Math[_0x29c6ce(0x1eb)](0x0,Math[_0x29c6ce(0x1ec)]((_0x4332c8-_0x358573)/cellSize)*cellSize),_0x5a94c8=Math[_0x29c6ce(0x212)](canvas[_0x29c6ce(0x21d)],Math[_0x29c6ce(0x1da)]((_0x4332c8+_0x39c84d+_0x358573)/cellSize)*cellSize);for(let _0x2f5ac9=_0x243586;_0x2f5ac9<=_0xfa43dc;_0x2f5ac9+=cellSize){const _0xa28cec=_0x2f5ac9+0.5;ctx[_0x29c6ce(0x1f1)](),ctx[_0x29c6ce(0x21b)](_0xa28cec,_0x1ce40c),ctx['lineTo'](_0xa28cec,_0x5a94c8),ctx[_0x29c6ce(0x1f7)]();}for(let _0x5120b1=_0x1ce40c;_0x5120b1<=_0x5a94c8;_0x5120b1+=cellSize){const _0x494c09=_0x5120b1+0.5;ctx[_0x29c6ce(0x1f1)](),ctx[_0x29c6ce(0x21b)](_0x243586,_0x494c09),ctx[_0x29c6ce(0x1cd)](_0xfa43dc,_0x494c09),ctx[_0x29c6ce(0x1f7)]();}ctx[_0x29c6ce(0x1e5)]();}function drawDotTouch(_0x22786e,_0x53483c){const _0x4f4267=_0x2569;let _0x2c5bb3=getCurrentProject(),_0x3cd730=getCurrentFrame();if(!_0x2c5bb3||!_0x3cd730)return;if(_0x22786e<0x0||_0x53483c<0x0||_0x22786e>=_0x2c5bb3['width']||_0x53483c>=_0x2c5bb3['height'])return;const _0x1e9aec=_0x3cd730[_0x4f4267(0x219)][_0x3cd730[_0x4f4267(0x1f4)]],_0x212e52=_0x1e9aec&&_0x1e9aec[_0x4f4267(0x1f5)]?_0x1e9aec[_0x4f4267(0x1f5)]:_0x1e9aec;if(!_0x212e52||!_0x212e52[_0x4f4267(0x1e8)])return;let _0x165c14=_0x212e52[_0x4f4267(0x1e8)]('2d');if(currentTool===_0x4f4267(0x1e3)||currentAlpha===0x0)drawPenShape(_0x165c14,_0x22786e,_0x53483c,null,!![]);else{let _0x2ca9dd=hexToRgba(currentColor,currentAlpha);_0x165c14[_0x4f4267(0x206)](),penAlphaMode===_0x4f4267(0x1ea)&&currentAlpha<0x1?(_0x165c14[_0x4f4267(0x1fc)]=0x1,_0x165c14[_0x4f4267(0x1cf)]=_0x4f4267(0x20e),drawPenShape(_0x165c14,_0x22786e,_0x53483c,null,!![]),_0x165c14[_0x4f4267(0x1cf)]='source-over',drawPenShape(_0x165c14,_0x22786e,_0x53483c,_0x2ca9dd,![])):drawPenShape(_0x165c14,_0x22786e,_0x53483c,_0x2ca9dd,![]),_0x165c14[_0x4f4267(0x1e5)]();}blitLayerArea(_0x212e52,_0x22786e,_0x53483c,penSize);}function drawGrid(_0xdc677d,_0x42dcd7){const _0x59f6bd=_0x2569;if(!showGrid)return;ctx[_0x59f6bd(0x206)](),ctx[_0x59f6bd(0x1d3)]='#ccc',ctx[_0x59f6bd(0x1d6)]=0x1,ctx['lineCap']=_0x59f6bd(0x1f0);for(let _0x4f61bb=0x0;_0x4f61bb<=_0xdc677d;_0x4f61bb++){const _0x3b91a8=_0x4f61bb*cellSize+0.5;ctx[_0x59f6bd(0x1f1)](),ctx[_0x59f6bd(0x21b)](_0x3b91a8,0x0),ctx[_0x59f6bd(0x1cd)](_0x3b91a8,_0x42dcd7*cellSize),ctx['stroke']();}for(let _0x288ba1=0x0;_0x288ba1<=_0x42dcd7;_0x288ba1++){const _0x36fb1d=_0x288ba1*cellSize+0.5;ctx[_0x59f6bd(0x1f1)](),ctx[_0x59f6bd(0x21b)](0x0,_0x36fb1d),ctx[_0x59f6bd(0x1cd)](_0xdc677d*cellSize,_0x36fb1d),ctx[_0x59f6bd(0x1f7)]();}ctx[_0x59f6bd(0x1e5)]();}function _0x2569(_0x3e03f9,_0x5c67b5){_0x3e03f9=_0x3e03f9-0x1c9;const _0x4decff=_0x49ed();let _0x3b748d=_0x4decff[_0x3e03f9];return _0x3b748d;}function redrawAll(){const _0xff45e6=_0x2569;let _0x5321e6=getCurrentProject(),_0x19745a=getCurrentFrame();canvas[_0xff45e6(0x21c)]=_0x5321e6[_0xff45e6(0x21c)]*cellSize,canvas['height']=_0x5321e6[_0xff45e6(0x21d)]*cellSize,ctx['clearRect'](0x0,0x0,canvas[_0xff45e6(0x21c)],canvas['height']);for(let _0x495900=0x0;_0x495900<(Array[_0xff45e6(0x1f3)](_0x19745a[_0xff45e6(0x219)])?_0x19745a['layers'][_0xff45e6(0x1f6)]:0x0);_0x495900++){const _0x551a26=_0x19745a[_0xff45e6(0x219)][_0x495900];if(!_0x551a26)continue;const _0x12ab9b=typeof _0x551a26[_0xff45e6(0x1e1)]!==_0xff45e6(0x1ed)?_0x551a26['visible']:!![];if(!_0x12ab9b)continue;const _0x37e073=_0x551a26[_0xff45e6(0x1f5)]?_0x551a26[_0xff45e6(0x1f5)]:_0x551a26;if(!_0x37e073)continue;try{ctx['save']();dimFrontLayers&&typeof _0x19745a['activeLayer']==='number'&&_0x495900>_0x19745a[_0xff45e6(0x1f4)]?ctx[_0xff45e6(0x1fc)]=FRONT_LAYER_DIM_ALPHA:ctx[_0xff45e6(0x1fc)]=0x1;if(typeof HTMLCanvasElement!==_0xff45e6(0x1ed)&&_0x37e073 instanceof HTMLCanvasElement){if(isDrawableCanvas(_0x37e073))ctx[_0xff45e6(0x208)](_0x37e073,0x0,0x0);}else{if(typeof HTMLImageElement!==_0xff45e6(0x1ed)&&_0x37e073 instanceof HTMLImageElement){if(_0x37e073[_0xff45e6(0x21e)])ctx['drawImage'](_0x37e073,0x0,0x0);}else{if(typeof OffscreenCanvas!==_0xff45e6(0x1ed)&&_0x37e073 instanceof OffscreenCanvas){if(isDrawableCanvas(_0x37e073))ctx['drawImage'](_0x37e073,0x0,0x0);}else try{if(isDrawableCanvas(_0x37e073))ctx[_0xff45e6(0x208)](_0x37e073,0x0,0x0);}catch(_0x46632e){}}}ctx[_0xff45e6(0x1e5)]();}catch(_0x9463c2){console['warn'](_0xff45e6(0x1e9),_0x9463c2);}}drawGrid(_0x5321e6[_0xff45e6(0x21c)],_0x5321e6[_0xff45e6(0x21d)]);wrapper&&(wrapper[_0xff45e6(0x1e2)][_0xff45e6(0x21c)]='100%',wrapper[_0xff45e6(0x1e2)]['height']=_0xff45e6(0x1dc));const _0x27485e=document['getElementById']('scanColorsPanel');if(_0x27485e){const _0x1780ab=performance['now']();if(!lastColorScanAt||_0x1780ab-lastColorScanAt>=COLOR_SCAN_INTERVAL_MS){const _0x3e7855=scanImageColors();renderScanPanel(_0x3e7855),_0x27485e[_0xff45e6(0x1e2)][_0xff45e6(0x1ef)]='',lastColorScanAt=_0x1780ab;}}}function uuidv4(){const _0x102235=_0x2569;if(typeof crypto!=='undefined'&&typeof crypto[_0x102235(0x1dd)]===_0x102235(0x1ce))try{return crypto[_0x102235(0x1dd)]();}catch(_0x5bbb92){}return _0x102235(0x1d7)[_0x102235(0x1e0)](/[xy]/g,_0x449cc2=>{const _0x36bf7b=_0x102235,_0x2a22d4=Math[_0x36bf7b(0x211)]()*0x10|0x0,_0x57af2f=_0x449cc2==='x'?_0x2a22d4:_0x2a22d4&0x3|0x8;return _0x57af2f[_0x36bf7b(0x207)](0x10);});}function generateVersionFromNow(){const _0x59b1a4=_0x2569,_0x4b000c=new Date(),_0x493cb8=_0x4b000c[_0x59b1a4(0x215)](),_0x531f26=String(_0x4b000c['getMonth']()+0x1)[_0x59b1a4(0x200)](0x2,'0'),_0x37e233=String(_0x4b000c[_0x59b1a4(0x1d9)]())[_0x59b1a4(0x200)](0x2,'0'),_0x18a42e=String(_0x4b000c['getHours']())['padStart'](0x2,'0'),_0x35f390=String(_0x4b000c['getMinutes']())[_0x59b1a4(0x200)](0x2,'0'),_0x4a9d13=String(_0x4b000c[_0x59b1a4(0x201)]())[_0x59b1a4(0x200)](0x2,'0');return _0x493cb8+'.'+_0x531f26+'.'+_0x37e233+'.'+_0x18a42e+_0x35f390+_0x4a9d13;}function ensureMetadata(_0x348c53){const _0x3d0794=_0x2569,_0x14a94b=Object['assign']({},_0x348c53||{});if(!_0x14a94b['id'])_0x14a94b['id']=uuidv4();if(!_0x14a94b['version'])_0x14a94b[_0x3d0794(0x20f)]=generateVersionFromNow();if(!_0x14a94b[_0x3d0794(0x1e6)])_0x14a94b[_0x3d0794(0x1e6)]=new Date()['toISOString']();return _0x14a94b;}function appendMetadataToBlob(_0x121d8f,_0x2ed59d){const _0x13d62f=_0x2569,_0x5b5c31=ensureMetadata(_0x2ed59d),_0xd8c960=new TextEncoder(),_0x1e57fd=_0xd8c960[_0x13d62f(0x1ff)](NEZUMI_METADATA_SIG),_0x5df909=_0xd8c960[_0x13d62f(0x1ff)](JSON[_0x13d62f(0x204)](_0x5b5c31));return new Blob([_0x121d8f,_0x1e57fd,_0x5df909],{'type':_0x121d8f[_0x13d62f(0x1ee)]||_0x13d62f(0x1fd)});}typeof window!==_0x4097de(0x1ed)&&(window[_0x4097de(0x21a)]=generateVersionFromNow,window[_0x4097de(0x1fe)]=uuidv4,window['ensureMetadata']=ensureMetadata);