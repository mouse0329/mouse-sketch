const _0x22144b=_0x2c54;(function(_0x2512ef,_0x156695){const _0x37e2d6=_0x2c54,_0x3feba3=_0x2512ef();while(!![]){try{const _0x1338fa=-parseInt(_0x37e2d6(0x144))/0x1*(parseInt(_0x37e2d6(0x142))/0x2)+-parseInt(_0x37e2d6(0x133))/0x3+-parseInt(_0x37e2d6(0x151))/0x4+parseInt(_0x37e2d6(0x13b))/0x5+-parseInt(_0x37e2d6(0x14f))/0x6*(-parseInt(_0x37e2d6(0x12d))/0x7)+-parseInt(_0x37e2d6(0x13d))/0x8*(parseInt(_0x37e2d6(0x14c))/0x9)+parseInt(_0x37e2d6(0x13e))/0xa*(parseInt(_0x37e2d6(0x12f))/0xb);if(_0x1338fa===_0x156695)break;else _0x3feba3['push'](_0x3feba3['shift']());}catch(_0x2c3cd5){_0x3feba3['push'](_0x3feba3['shift']());}}}(_0x2490,0x18e9a));const _0x14fa32=(function(){let _0x52edc6=!![];return function(_0x93afb5,_0x4bc1a6){const _0x4a7db6=_0x52edc6?function(){if(_0x4bc1a6){const _0x51b20e=_0x4bc1a6['apply'](_0x93afb5,arguments);return _0x4bc1a6=null,_0x51b20e;}}:function(){};return _0x52edc6=![],_0x4a7db6;};}()),_0x94987c=_0x14fa32(this,function(){const _0x475c2d=_0x2c54;return _0x94987c[_0x475c2d(0x13a)]()['search'](_0x475c2d(0x13c))['toString']()[_0x475c2d(0x136)](_0x94987c)[_0x475c2d(0x137)](_0x475c2d(0x13c));});_0x94987c();let canvas=null,ctx=null,cellSize=0x14,wrapper=null,posX=0x0,posY=0x0,scale=0x1,showGrid=!![],dimFrontLayers=![];function _0x2490(){const _0x43ff10=['7zgcxnZ','#8b4513','279719qEpUyp','normal','#ff9900','NEZUMI_META::','211293zsXgeg','pen','#ffffff','constructor','search','transparent','#deb887','toString','657445QWWSjY','(((.+)+)+)+$','1168dHTRBX','100psqBpG','#808080','nezumi-store','#c0c0c0','2858ZRfRex','#0000ff','117CTdzTg','#00cc66','#0066cc','#ff0000','#f5deb3','square','nezumi-sketch-db','#ffd700','3825atQvgr','#2e8b57','#ffcc00','466122rcVfMu','#4b0082','247000fcWAre','#00ff00'];_0x2490=function(){return _0x43ff10;};return _0x2490();}const FRONT_LAYER_DIM_ALPHA=0.35;function _0x2c54(_0x1f49ad,_0x2f66b7){_0x1f49ad=_0x1f49ad-0x12d;const _0x374652=_0x2490();let _0x94987c=_0x374652[_0x1f49ad];return _0x94987c;}let currentTool=_0x22144b(0x134),penSize=0x1,penMode=_0x22144b(0x149),penAlphaMode=_0x22144b(0x130),currentColor=_0x22144b(0x147),currentAlpha=0x1,colorPickMode=![],projects=[],activeProject=0x0,animationTimer=null,animationIndex=0x0,animationDelay=0x12c,isDrawing=![],lastMouse=null,lastTouch=null,panStart=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;const PAN_CANCEL_DISTANCE=0x28;let layerMoveState={'active':![],'startCell':null,'offsetCells':{'x':0x0,'y':0x0}};const DEFAULT_PALETTE=[_0x22144b(0x138),'#000000',_0x22144b(0x135),_0x22144b(0x13f),_0x22144b(0x141),_0x22144b(0x147),'#ff7f7f',_0x22144b(0x131),_0x22144b(0x14e),_0x22144b(0x152),_0x22144b(0x145),_0x22144b(0x143),_0x22144b(0x146),'#00ffff',_0x22144b(0x150),'#800080','#ff00ff',_0x22144b(0x14b),_0x22144b(0x148),_0x22144b(0x139),_0x22144b(0x12e),'#a52a2a','#ff1493',_0x22144b(0x14d)];let PALETTE_COLORS=DEFAULT_PALETTE['slice'](),copiedLayerDataUrl=null,copiedLayerName=null;const dbName=_0x22144b(0x14a),storeName=_0x22144b(0x140),NEZUMI_METADATA_SIG=_0x22144b(0x132);let lastColorScanAt=0x0;const COLOR_SCAN_INTERVAL_MS=0xfa;