(function(_0x4c9ebf,_0x42b3f0){const _0x4e854f=_0x4ffd,_0x1cb6e4=_0x4c9ebf();while(!![]){try{const _0x2712d7=-parseInt(_0x4e854f(0xdb))/0x1+parseInt(_0x4e854f(0xe4))/0x2*(-parseInt(_0x4e854f(0x118))/0x3)+parseInt(_0x4e854f(0xff))/0x4*(-parseInt(_0x4e854f(0x10a))/0x5)+parseInt(_0x4e854f(0x110))/0x6+parseInt(_0x4e854f(0x127))/0x7*(-parseInt(_0x4e854f(0xb9))/0x8)+-parseInt(_0x4e854f(0xe3))/0x9+parseInt(_0x4e854f(0x117))/0xa;if(_0x2712d7===_0x42b3f0)break;else _0x1cb6e4['push'](_0x1cb6e4['shift']());}catch(_0x3c8f14){_0x1cb6e4['push'](_0x1cb6e4['shift']());}}}(_0x389d,0x58eb2));const _0x33dcb8=(function(){let _0x53f813=!![];return function(_0x4add85,_0x1ff1f2){const _0x40728d=_0x53f813?function(){const _0x38440c=_0x4ffd;if(_0x1ff1f2){const _0x930dd9=_0x1ff1f2[_0x38440c(0xca)](_0x4add85,arguments);return _0x1ff1f2=null,_0x930dd9;}}:function(){};return _0x53f813=![],_0x40728d;};}()),_0x4aea22=_0x33dcb8(this,function(){const _0x41022e=_0x4ffd;return _0x4aea22[_0x41022e(0x13c)]()[_0x41022e(0xd8)](_0x41022e(0xaf))['toString']()[_0x41022e(0xa9)](_0x4aea22)[_0x41022e(0xd8)]('(((.+)+)+)+$');});_0x4aea22();function updateCurrentColorSwatch(){const _0x419b8d=_0x4ffd,_0x420218=document[_0x419b8d(0xd7)]('currentColorSwatch');if(!_0x420218)return;const _0x4a182d=document[_0x419b8d(0xd7)](_0x419b8d(0xa8));_0x420218[_0x419b8d(0xa2)]='',_0x420218[_0x419b8d(0x148)]['position']=_0x419b8d(0x135),_0x420218[_0x419b8d(0x148)][_0x419b8d(0x12a)]=_0x419b8d(0xc9);let _0x1f4be5=document['createElement'](_0x419b8d(0x141));_0x1f4be5[_0x419b8d(0x148)][_0x419b8d(0xcb)]=_0x419b8d(0xed),_0x1f4be5[_0x419b8d(0x148)][_0x419b8d(0xf0)]='0',_0x1f4be5['style'][_0x419b8d(0xf9)]=_0x419b8d(0xdf),_0x1f4be5[_0x419b8d(0x148)][_0x419b8d(0x121)]='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x877b81=document[_0x419b8d(0xc8)]('div');_0x877b81[_0x419b8d(0x148)][_0x419b8d(0xcb)]=_0x419b8d(0xed),_0x877b81[_0x419b8d(0x148)][_0x419b8d(0xf0)]='0',_0x877b81[_0x419b8d(0x148)][_0x419b8d(0xf9)]=_0x419b8d(0xdf);const _0x4ffe53=Math[_0x419b8d(0x149)]((currentAlpha||0x0)*0x64);if(currentColor===_0x419b8d(0x10c)||currentAlpha===0x0){_0x877b81[_0x419b8d(0x148)][_0x419b8d(0x121)]='none',_0x420218[_0x419b8d(0xf5)]='ÈÄèÊòé';if(_0x4a182d)_0x4a182d['textContent']=_0x419b8d(0x139);}else{_0x877b81['style'][_0x419b8d(0x121)]=hexToRgbaCss(currentColor,currentAlpha),_0x420218[_0x419b8d(0xf5)]=currentAlpha<0x1?currentColor+_0x419b8d(0xf1)+_0x4ffe53+'%':currentColor;if(_0x4a182d)_0x4a182d[_0x419b8d(0xae)]=currentColor+_0x419b8d(0xc7)+_0x4ffe53+'%';}_0x420218['appendChild'](_0x1f4be5),_0x420218[_0x419b8d(0xeb)](_0x877b81);}function updateProjectUI(){const _0x42bcf9=_0x4ffd,_0x2c8b56=document[_0x42bcf9(0xd7)](_0x42bcf9(0xde));_0x2c8b56[_0x42bcf9(0xa2)]='';for(let _0x4f5390=0x0;_0x4f5390<projects['length'];_0x4f5390++){const _0x594a14=document[_0x42bcf9(0xc8)](_0x42bcf9(0x141));_0x594a14[_0x42bcf9(0xe2)]=_0x42bcf9(0xc4)+(_0x4f5390===activeProject?_0x42bcf9(0xe8):''),_0x594a14[_0x42bcf9(0xd0)]=()=>{activeProject=_0x4f5390,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();},_0x594a14[_0x42bcf9(0x103)]=_0x318e4d=>{_0x318e4d['preventDefault'](),showRenameProjectDialog(_0x4f5390);};let _0x439d53=null;const _0x4f7e4d=()=>{_0x439d53=setTimeout(()=>{showRenameProjectDialog(_0x4f5390);},0x258);},_0x360399=()=>{if(_0x439d53)clearTimeout(_0x439d53);_0x439d53=null;};_0x594a14[_0x42bcf9(0x133)]('touchstart',_0x4f7e4d,{'passive':!![]}),_0x594a14[_0x42bcf9(0x133)]('touchend',_0x360399,{'passive':!![]}),_0x594a14[_0x42bcf9(0x133)](_0x42bcf9(0x106),_0x360399,{'passive':!![]});const _0x7fd2b1=document['createElement']('span');_0x7fd2b1['className']=_0x42bcf9(0xf3),_0x7fd2b1[_0x42bcf9(0xae)]=projects[_0x4f5390][_0x42bcf9(0x10f)]||'ÁîªÂÉè'+(_0x4f5390+0x1),_0x7fd2b1[_0x42bcf9(0xf5)]=_0x42bcf9(0xb1),_0x7fd2b1[_0x42bcf9(0xd0)]=_0x420ab8=>{const _0x35353d=_0x42bcf9;_0x420ab8[_0x35353d(0xb7)](),editProjectName(_0x4f5390,_0x7fd2b1);},_0x594a14[_0x42bcf9(0xeb)](_0x7fd2b1);const _0x31132a=document[_0x42bcf9(0xc8)](_0x42bcf9(0x126));_0x31132a[_0x42bcf9(0xae)]='ÂâäÈô§',_0x31132a[_0x42bcf9(0xe2)]=_0x42bcf9(0x109),_0x31132a[_0x42bcf9(0x10d)]=projects[_0x42bcf9(0xe5)]===0x1,_0x31132a[_0x42bcf9(0xd0)]=_0xd93cce=>{const _0x11e7cf=_0x42bcf9;_0xd93cce[_0x11e7cf(0xb7)](),removeProjectAt(_0x4f5390);},_0x594a14[_0x42bcf9(0xeb)](_0x31132a),_0x2c8b56[_0x42bcf9(0xeb)](_0x594a14);}document[_0x42bcf9(0xd7)](_0x42bcf9(0xa4))['textContent']='('+projects[_0x42bcf9(0xe5)]+'Êûö)';}function showRenameProjectDialog(_0x2b3e79){const _0x17b9e7=_0x4ffd,_0x4bbf91=projects[_0x2b3e79],_0x57ad6b=_0x4bbf91&&_0x4bbf91[_0x17b9e7(0x10f)]?_0x4bbf91[_0x17b9e7(0x10f)]:'ÁîªÂÉè'+(_0x2b3e79+0x1),_0x2448dc=prompt(_0x17b9e7(0xb6),_0x57ad6b);if(_0x2448dc==null)return;const _0xcfd904=_0x2448dc[_0x17b9e7(0xb2)]();projects[_0x2b3e79]['name']=_0xcfd904||_0x57ad6b,updateProjectUI();}function showNewProjectDialog(_0x368cdc){const _0x523fb1=_0x4ffd;let _0x9078bb=document[_0x523fb1(0xd7)]('new-project-dialog');if(_0x9078bb)_0x9078bb[_0x523fb1(0x116)]();const _0x3f9d7c=document[_0x523fb1(0xc8)]('div');_0x3f9d7c['id']=_0x523fb1(0xa6),_0x3f9d7c[_0x523fb1(0x148)][_0x523fb1(0xcb)]=_0x523fb1(0x123),_0x3f9d7c[_0x523fb1(0x148)]['left']='0',_0x3f9d7c['style']['top']='0',_0x3f9d7c[_0x523fb1(0x148)][_0x523fb1(0x102)]='100vw',_0x3f9d7c[_0x523fb1(0x148)][_0x523fb1(0x144)]=_0x523fb1(0xee),_0x3f9d7c[_0x523fb1(0x148)]['background']=_0x523fb1(0xf7),_0x3f9d7c[_0x523fb1(0x148)][_0x523fb1(0xab)]=_0x523fb1(0x10e),_0x3f9d7c['style'][_0x523fb1(0xb8)]=_0x523fb1(0xb5),_0x3f9d7c[_0x523fb1(0x148)]['justifyContent']=_0x523fb1(0xb5),_0x3f9d7c[_0x523fb1(0x148)][_0x523fb1(0x12d)]=_0x523fb1(0x13b),_0x3f9d7c['innerHTML']=_0x523fb1(0x112)+(projects['length']+0x1)+'\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂπÖ:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>È´ò„Åï:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>‰ΩúÊàê</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x3f9d7c),_0x3f9d7c[_0x523fb1(0xb3)](_0x523fb1(0xa7))[_0x523fb1(0xd0)]=()=>{const _0x4246a9=_0x523fb1,_0x5ae4c7=parseInt(_0x3f9d7c['querySelector'](_0x4246a9(0xc3))[_0x4246a9(0x143)],0xa),_0x29c897=parseInt(_0x3f9d7c[_0x4246a9(0xb3)](_0x4246a9(0x10b))[_0x4246a9(0x143)],0xa),_0x4b9049=_0x3f9d7c['querySelector'](_0x4246a9(0x140))[_0x4246a9(0x143)][_0x4246a9(0xb2)]();_0x3f9d7c[_0x4246a9(0x116)]();if(_0x368cdc)_0x368cdc(_0x5ae4c7,_0x29c897,_0x4b9049);},_0x3f9d7c[_0x523fb1(0xb3)](_0x523fb1(0x12e))[_0x523fb1(0xd0)]=()=>{const _0x46900a=_0x523fb1;_0x3f9d7c[_0x46900a(0x116)]();};}function updateFrameUI(){const _0x690a52=_0x4ffd,_0x379954=document[_0x690a52(0xd7)](_0x690a52(0x128)),_0x3464b6=getCurrentProject();if(!_0x3464b6||!_0x3464b6[_0x690a52(0x13a)])return;_0x379954['innerHTML']='';for(let _0x53ff53=0x0;_0x53ff53<_0x3464b6[_0x690a52(0x13a)][_0x690a52(0xe5)];_0x53ff53++){const _0x340f30=document['createElement'](_0x690a52(0x141));_0x340f30[_0x690a52(0xe2)]=_0x690a52(0x13d)+(_0x53ff53===_0x3464b6[_0x690a52(0xc1)]?_0x690a52(0xe8):''),_0x340f30['onclick']=()=>{_0x3464b6['activeFrame']=_0x53ff53,updateFrameUI(),updateLayerUI(),redrawAll();};const _0x27cbff=document[_0x690a52(0xc8)](_0x690a52(0xd2));_0x27cbff['className']=_0x690a52(0x13e),_0x27cbff[_0x690a52(0x102)]=0x20,_0x27cbff[_0x690a52(0x144)]=0x20;let _0x532a07=_0x27cbff['getContext']('2d',{'willReadFrequently':!![]});_0x532a07[_0x690a52(0x12b)](0x0,0x0,0x20,0x20);for(let _0x2b5489=0x0;_0x2b5489<_0x3464b6[_0x690a52(0x13a)][_0x53ff53]['layers'][_0x690a52(0xe5)];_0x2b5489++){const _0x28d2d4=_0x3464b6['frames'][_0x53ff53][_0x690a52(0x101)][_0x2b5489];_0x28d2d4&&_0x28d2d4[_0x690a52(0xd2)]&&_0x532a07['drawImage'](_0x28d2d4[_0x690a52(0xd2)],0x0,0x0,_0x27cbff['width'],_0x27cbff[_0x690a52(0x144)]);}_0x340f30['appendChild'](_0x27cbff);const _0x564d59=document[_0x690a52(0xc8)](_0x690a52(0x100));_0x564d59[_0x690a52(0xae)]='F'+(_0x53ff53+0x1),_0x340f30['appendChild'](_0x564d59);const _0x2ad9d8=document[_0x690a52(0xc8)](_0x690a52(0x126));_0x2ad9d8['textContent']='ÂâäÈô§',_0x2ad9d8[_0x690a52(0xe2)]=_0x690a52(0xba),_0x2ad9d8['disabled']=_0x3464b6[_0x690a52(0x13a)][_0x690a52(0xe5)]===0x1,_0x2ad9d8['onclick']=_0x188832=>{const _0x2864cd=_0x690a52;_0x188832[_0x2864cd(0xb7)](),removeFrameAt(_0x53ff53);},_0x340f30['appendChild'](_0x2ad9d8),_0x379954[_0x690a52(0xeb)](_0x340f30);}document[_0x690a52(0xd7)](_0x690a52(0xef))[_0x690a52(0xae)]='('+_0x3464b6[_0x690a52(0x13a)][_0x690a52(0xe5)]+_0x690a52(0x142);}function updateLayerUI(){const _0x1656ce=_0x4ffd,{layers:_0x5a39bb,activeLayer:_0x35e4f2}=getCurrentFrame();document[_0x1656ce(0xd7)]('layerCount')[_0x1656ce(0xae)]='('+_0x5a39bb[_0x1656ce(0xe5)]+'Êûö)';const _0x330020=document[_0x1656ce(0xd7)](_0x1656ce(0xdd));_0x330020['innerHTML']='';for(let _0x38ac88=_0x5a39bb[_0x1656ce(0xe5)]-0x1;_0x38ac88>=0x0;_0x38ac88--){const _0x20a10e=document[_0x1656ce(0xc8)](_0x1656ce(0x141));_0x20a10e[_0x1656ce(0xe2)]=_0x1656ce(0xfd)+(_0x38ac88===_0x35e4f2?_0x1656ce(0xe8):''),_0x20a10e[_0x1656ce(0xd0)]=_0x2c5fa9=>{const _0x5dec3a=_0x1656ce;if(_0x2c5fa9['target']['classList'][_0x5dec3a(0x105)](_0x5dec3a(0x119)))return;getCurrentFrame()['activeLayer']=_0x38ac88,updateLayerUI(),redrawAll();};const _0x3f484e=document[_0x1656ce(0xc8)](_0x1656ce(0x141));_0x3f484e[_0x1656ce(0xe2)]=_0x1656ce(0xc6);const _0x407724=document['createElement'](_0x1656ce(0xd2));_0x407724['className']=_0x1656ce(0xbb),_0x407724['width']=0x30,_0x407724['height']=0x30;const _0x260c2a=_0x407724[_0x1656ce(0xd9)]('2d');_0x260c2a['clearRect'](0x0,0x0,_0x407724[_0x1656ce(0x102)],_0x407724[_0x1656ce(0x144)]),_0x260c2a[_0x1656ce(0xbf)]=_0x5a39bb[_0x38ac88]['visible']===![]?0.3:0x1;let _0x118aaf=null;if(_0x5a39bb[_0x38ac88]instanceof HTMLCanvasElement)_0x118aaf=_0x5a39bb[_0x38ac88];else _0x5a39bb[_0x38ac88][_0x1656ce(0xd2)]instanceof HTMLCanvasElement&&(_0x118aaf=_0x5a39bb[_0x38ac88]['canvas']);_0x118aaf&&_0x118aaf['width']>0x0&&_0x118aaf['height']>0x0?_0x260c2a[_0x1656ce(0xfc)](_0x118aaf,0x0,0x0,_0x407724['width'],_0x407724[_0x1656ce(0x144)]):console['warn']('ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº',_0x5a39bb[_0x38ac88]);_0x3f484e[_0x1656ce(0xeb)](_0x407724);const _0x3b4eb3=document[_0x1656ce(0xc8)](_0x1656ce(0x141));_0x3b4eb3[_0x1656ce(0xe2)]='layer-info';const _0x5b78a7=document[_0x1656ce(0xc8)](_0x1656ce(0x141));_0x5b78a7[_0x1656ce(0xae)]=_0x1656ce(0xaa)+(_0x38ac88+0x1),_0x5b78a7['className']=_0x1656ce(0xb0),_0x3b4eb3['appendChild'](_0x5b78a7);const _0x33fe6=document['createElement'](_0x1656ce(0x141));_0x33fe6[_0x1656ce(0xe2)]=_0x1656ce(0xe0);const _0x49deae=document[_0x1656ce(0xc8)](_0x1656ce(0x126));_0x49deae[_0x1656ce(0xe2)]='layer-btn\x20layer-vis-btn',_0x49deae['title']=_0x5a39bb[_0x38ac88][_0x1656ce(0xcd)]===![]?_0x1656ce(0x131):'ÈùûË°®Á§∫„Å´„Åô„Çã',_0x49deae[_0x1656ce(0xa2)]=_0x5a39bb[_0x38ac88][_0x1656ce(0xcd)]===![]?_0x1656ce(0x12c):_0x1656ce(0x107),_0x49deae[_0x1656ce(0xd0)]=_0x299388=>{const _0x146d80=_0x1656ce;_0x299388['stopPropagation'](),_0x5a39bb[_0x38ac88][_0x146d80(0xcd)]=!_0x5a39bb[_0x38ac88][_0x146d80(0xcd)],updateLayerUI(),redrawAll();},_0x33fe6[_0x1656ce(0xeb)](_0x49deae);const _0x19679f=document[_0x1656ce(0xc8)]('button');_0x19679f[_0x1656ce(0xe2)]=_0x1656ce(0x119),_0x19679f[_0x1656ce(0xae)]='Ë§áË£Ω',_0x19679f['title']=_0x1656ce(0xbd),_0x19679f['onclick']=_0x3c9f68=>{const _0x393189=_0x1656ce;_0x3c9f68[_0x393189(0xb7)](),duplicateLayerAt(_0x38ac88);},_0x33fe6[_0x1656ce(0xeb)](_0x19679f);const _0x4e362d=document[_0x1656ce(0xc8)]('button');_0x4e362d[_0x1656ce(0xae)]='‚Üë',_0x4e362d[_0x1656ce(0xe2)]=_0x1656ce(0x119),_0x4e362d['title']=_0x1656ce(0xd1),_0x4e362d['disabled']=_0x38ac88===_0x5a39bb[_0x1656ce(0xe5)]-0x1,_0x4e362d[_0x1656ce(0xd0)]=_0x210500=>{const _0x17da00=_0x1656ce;_0x210500[_0x17da00(0xb7)]();if(_0x38ac88<_0x5a39bb[_0x17da00(0xe5)]-0x1)swapLayer(_0x38ac88,_0x38ac88+0x1);},_0x33fe6[_0x1656ce(0xeb)](_0x4e362d);const _0x21e7bc=document[_0x1656ce(0xc8)](_0x1656ce(0x126));_0x21e7bc[_0x1656ce(0xae)]='‚Üì',_0x21e7bc['className']='layer-btn',_0x21e7bc['title']=_0x1656ce(0xd3),_0x21e7bc[_0x1656ce(0x10d)]=_0x38ac88===0x0,_0x21e7bc['onclick']=_0x2195b6=>{const _0x431226=_0x1656ce;_0x2195b6[_0x431226(0xb7)]();if(_0x38ac88>0x0)swapLayer(_0x38ac88,_0x38ac88-0x1);},_0x33fe6[_0x1656ce(0xeb)](_0x21e7bc);const _0x4a2dcc=document['createElement'](_0x1656ce(0x126));_0x4a2dcc[_0x1656ce(0xae)]='ÂâäÈô§',_0x4a2dcc[_0x1656ce(0xe2)]=_0x1656ce(0x119),_0x4a2dcc[_0x1656ce(0xf5)]=_0x1656ce(0x146),_0x4a2dcc[_0x1656ce(0x10d)]=_0x5a39bb[_0x1656ce(0xe5)]===0x1,_0x4a2dcc[_0x1656ce(0xd0)]=_0x2e98bc=>{const _0x4b4c15=_0x1656ce;_0x2e98bc[_0x4b4c15(0xb7)](),removeLayerAt(_0x38ac88);},_0x33fe6[_0x1656ce(0xeb)](_0x4a2dcc),_0x3b4eb3[_0x1656ce(0xeb)](_0x33fe6),_0x3f484e[_0x1656ce(0xeb)](_0x3b4eb3),_0x20a10e['appendChild'](_0x3f484e),_0x330020[_0x1656ce(0xeb)](_0x20a10e);}}function toggleTheme(){const _0x150354=_0x4ffd;applyTheme(document[_0x150354(0x104)][_0x150354(0xbc)](_0x150354(0x111))===_0x150354(0x145)?_0x150354(0x124):'dark');}function openDB(){return new Promise((_0x5247bf,_0x3edab7)=>{const _0x454838=_0x4ffd,_0x65fba7=indexedDB['open'](dbName,0x2);_0x65fba7['onupgradeneeded']=()=>{const _0x494ab2=_0x4ffd,_0x3c2871=_0x65fba7[_0x494ab2(0x147)];!_0x3c2871[_0x494ab2(0x108)][_0x494ab2(0x105)](storeName)&&_0x3c2871[_0x494ab2(0x115)](storeName);},_0x65fba7[_0x454838(0xf2)]=()=>{const _0x4d678c=_0x454838,_0xc67de8=_0x65fba7['result'];if(!_0xc67de8[_0x4d678c(0x108)][_0x4d678c(0x105)](storeName)){_0xc67de8[_0x4d678c(0xa5)](),indexedDB['deleteDatabase'](dbName),_0x3edab7(new Error(_0x4d678c(0x13f)));return;}_0x5247bf(_0xc67de8);},_0x65fba7[_0x454838(0x125)]=()=>_0x3edab7(_0x65fba7[_0x454838(0xc0)]);});}function openColorDialog(){const _0x190684=_0x4ffd;if(document[_0x190684(0xd7)](_0x190684(0xd6)))return;const _0x5717db=document['createElement'](_0x190684(0x141));_0x5717db['id']=_0x190684(0xd6),_0x5717db['style']['position']=_0x190684(0x123),_0x5717db[_0x190684(0x148)][_0x190684(0x11b)]='0',_0x5717db[_0x190684(0x148)][_0x190684(0xcc)]='0',_0x5717db['style'][_0x190684(0x102)]='100vw',_0x5717db['style'][_0x190684(0x144)]=_0x190684(0xee),_0x5717db[_0x190684(0x148)]['display']=_0x190684(0x10e),_0x5717db[_0x190684(0x148)]['alignItems']=_0x190684(0xb5),_0x5717db[_0x190684(0x148)][_0x190684(0xce)]=_0x190684(0xb5),_0x5717db[_0x190684(0x148)][_0x190684(0x12d)]=_0x190684(0xa3),_0x5717db[_0x190684(0x148)][_0x190684(0x121)]='rgba(0,0,0,0.25)',_0x5717db['innerHTML']=_0x190684(0x122)+(currentColor===_0x190684(0x10c)?_0x190684(0x129):currentColor)+_0x190684(0x11e)+Math[_0x190684(0x149)](currentAlpha*0x64)+_0x190684(0xbe),document[_0x190684(0xe1)][_0x190684(0xeb)](_0x5717db),_0x5717db[_0x190684(0xb3)](_0x190684(0xec))[_0x190684(0xd0)]=()=>{const _0x7f05e3=_0x190684,_0x30a81a=_0x5717db[_0x7f05e3(0xb3)](_0x7f05e3(0xf8));_0x30a81a['value']=0x0,_0x5717db[_0x7f05e3(0xb3)](_0x7f05e3(0xfb))[_0x7f05e3(0x143)]=_0x7f05e3(0x129);},_0x5717db[_0x190684(0xb3)]('#dlgOkBtn')[_0x190684(0xd0)]=()=>{const _0x25be95=_0x190684,_0x1cba75=_0x5717db[_0x25be95(0xb3)](_0x25be95(0xfb))['value'],_0x300673=Math[_0x25be95(0x14a)](0x0,Math[_0x25be95(0xac)](0x64,parseInt(_0x5717db[_0x25be95(0xb3)]('#dlgAlpha')[_0x25be95(0x143)],0xa)||0x0));if(_0x300673===0x0){currentAlpha=0x0,currentColor=_0x25be95(0x10c);if(colorPicker)colorPicker[_0x25be95(0x143)]=_0x25be95(0x129);}else{currentAlpha=_0x300673/0x64,currentColor=_0x1cba75;if(colorPicker)colorPicker[_0x25be95(0x143)]=_0x1cba75;}updateCurrentColorSwatch(),document[_0x25be95(0xf4)](_0x25be95(0xc2))[_0x25be95(0xf6)](_0x557a09=>_0x557a09['classList'][_0x25be95(0x116)]('selected')),_0x5717db[_0x25be95(0x116)]();},_0x5717db[_0x190684(0xb3)](_0x190684(0x134))[_0x190684(0xd0)]=()=>_0x5717db[_0x190684(0x116)](),_0x5717db[_0x190684(0x133)](_0x190684(0x12f),_0x5ba8ff=>{const _0x510974=_0x190684;if(_0x5ba8ff['target']===_0x5717db)_0x5717db[_0x510974(0x116)]();});}function _0x389d(){const _0xb70e80=['100vh','frameCount','inset','\x20ÈÄèÊòéÂ∫¶','onsuccess','project-name','querySelectorAll','title','forEach','rgba(0,0,0,0.3)','#dlgAlpha','borderRadius','boolean','#dlgColor','drawImage','layer-item','translate','4CdcumX','span','layers','width','oncontextmenu','documentElement','contains','touchcancel','üëÅÔ∏è','objectStoreNames','project-btn','342740AKKdBM','#newProjH','transparent','disabled','flex','name','4136796xKkSrv','data-theme','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:var(--surface);\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>Êñ∞„Åó„ÅÑÁîªÂÉè„ÅÆ„Çµ„Ç§„Ç∫</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂêçÂâç:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22ÁîªÂÉè','menu-toggle-btn','px)\x20scale(','createObjectStore','remove','12827340sRhxuH','93cwmfyF','layer-btn','restore','left','inline-block','activeLayer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÈÄèÊòéÂ∫¶(0-100):\x20<input\x20type=\x22number\x22\x20id=\x22dlgAlpha\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','touchAction','offsetCells','background','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;padding:18px;border-radius:8px;min-width:260px;text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:0\x200\x208px\x200;\x22>Ëâ≤„Å®ÈÄèÊòé„ÇíÈÅ∏Êäû</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22dlgColor\x22\x20value=\x22','fixed','light','onerror','button','21ZcogFa','frameList','#000000','overflow','clearRect','üëÅÔ∏è‚Äçüó®Ô∏è','zIndex','#newProjCancelBtn','click','transform','Ë°®Á§∫„Åô„Çã','innerWidth','addEventListener','#dlgCancelBtn','relative','block','.toggle-btn','classList','ÈÄèÊòé\x20/\x200%','frames','3000','toString','frame-item','frame-thumb','IndexedDB\x20„ÅÆ„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Åü„ÇÅÂÜç‰ΩúÊàê„ÅåÂøÖË¶Å„Åß„Åô','#newProjName','div','„Ç≥„Éû)','value','height','dark','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíÂâäÈô§','result','style','round','max','innerHTML','4000','projectCount','close','new-project-dialog','#newProjOkBtn','currentColorInfoText','constructor','„É¨„Ç§„É§„Éº','display','min','.section-content','textContent','(((.+)+)+)+$','layer-label','„ÇØ„É™„ÉÉ„ÇØ„ÅßÂêçÂâç„ÇíÁ∑®ÈõÜ','trim','querySelector','startCell','center','Êñ∞„Åó„ÅÑÂêçÂâç„ÇíÂÖ•Âäõ','stopPropagation','alignItems','1582232juxjvM','frame-btn','layer-thumb\x20large','getAttribute','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíË§áË£Ω','\x22\x20style=\x22width:72px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgTransparentBtn\x22\x20type=\x22button\x22\x20style=\x22margin-left:8px;\x22>ÈÄèÊòé</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:8px;justify-content:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgOkBtn\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgCancelBtn\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','globalAlpha','error','activeFrame','.palette-color','#newProjW','project-item','none','layer-row','\x20/\x20','createElement','hidden','apply','position','top','visible','justifyContent','sidebar-open','onclick','‰∏ä„Å´ÁßªÂãï','canvas','‰∏ã„Å´ÁßªÂãï','add','menu-toggle-btn-close','color-dialog','getElementById','search','getContext','translate(','263297ILEHPz','floor','layerList','projectList','8px','layer-actions','body','className','4224915YglEBD','13766RNLIge','length','sidebar','active','\x20active','toolsToggleBtn','open','appendChild','#dlgTransparentBtn','absolute'];_0x389d=function(){return _0xb70e80;};return _0x389d();}function updateLayerMove(_0x4fd58d){const _0x4410d0=_0x4ffd;if(!layerMoveState[_0x4410d0(0xe7)])return;const _0x17d6aa=getCanvasCoords(_0x4fd58d),_0xfede5b={'x':Math[_0x4410d0(0xdc)](_0x17d6aa['x']/cellSize),'y':Math[_0x4410d0(0xdc)](_0x17d6aa['y']/cellSize)};layerMoveState['offsetCells']['x']=_0xfede5b['x']-layerMoveState[_0x4410d0(0xb4)]['x'],layerMoveState[_0x4410d0(0x120)]['y']=_0xfede5b['y']-layerMoveState[_0x4410d0(0xb4)]['y'],redrawAll();const _0x1e2363=getCurrentFrame();if(!_0x1e2363)return;const _0x525f92=_0x1e2363[_0x4410d0(0x11d)];if(_0x525f92==null)return;ctx['save'](),ctx[_0x4410d0(0xfe)](layerMoveState[_0x4410d0(0x120)]['x']*cellSize,layerMoveState[_0x4410d0(0x120)]['y']*cellSize),ctx[_0x4410d0(0xfc)](_0x1e2363[_0x4410d0(0x101)][_0x525f92]['canvas'],0x0,0x0),ctx[_0x4410d0(0x11a)]();}function toggleSection(_0x533c02){const _0x4220d2=_0x4ffd,_0x2b4527=document[_0x4220d2(0xd7)](_0x533c02),_0x113581=_0x2b4527['querySelector'](_0x4220d2(0xad)),_0x35dc4a=_0x2b4527[_0x4220d2(0xb3)](_0x4220d2(0x137));_0x113581['style'][_0x4220d2(0xab)]===_0x4220d2(0xc5)?(_0x113581[_0x4220d2(0x148)]['display']='',_0x35dc4a[_0x4220d2(0xae)]='‚ñº'):(_0x113581['style'][_0x4220d2(0xab)]=_0x4220d2(0xc5),_0x35dc4a['textContent']='‚ñ≤');}function _0x4ffd(_0x4621a8,_0x206490){_0x4621a8=_0x4621a8-0xa2;const _0x16e680=_0x389d();let _0x4aea22=_0x16e680[_0x4621a8];return _0x4aea22;}function toggleSideMenu(_0x4fdfee){const _0x437ea0=_0x4ffd,_0x495810=document[_0x437ea0(0xd7)]('sidebar'),_0x32582f=document['getElementById']('main-container'),_0x6380d1=document[_0x437ea0(0xd7)](_0x437ea0(0x113)),_0x33d770=document[_0x437ea0(0xd7)](_0x437ea0(0xd5)),_0x4cd15f=_0x495810['classList'][_0x437ea0(0x105)]('open');let _0x4f9ca6=typeof _0x4fdfee===_0x437ea0(0xfa)?_0x4fdfee:!_0x4cd15f;_0x4f9ca6?(_0x495810[_0x437ea0(0x138)][_0x437ea0(0xd4)](_0x437ea0(0xea)),_0x32582f[_0x437ea0(0x138)][_0x437ea0(0xd4)](_0x437ea0(0xcf)),document[_0x437ea0(0xe1)][_0x437ea0(0x148)][_0x437ea0(0x12a)]=_0x437ea0(0xc9),document[_0x437ea0(0xe1)][_0x437ea0(0x148)][_0x437ea0(0x11f)]='none',window[_0x437ea0(0x132)]<=0x384&&(_0x33d770[_0x437ea0(0x148)]['display']=_0x437ea0(0x136),_0x6380d1['style'][_0x437ea0(0xab)]=_0x437ea0(0xc5))):(_0x495810[_0x437ea0(0x138)][_0x437ea0(0x116)](_0x437ea0(0xea)),_0x32582f[_0x437ea0(0x138)]['remove'](_0x437ea0(0xcf)),document[_0x437ea0(0xe1)][_0x437ea0(0x148)][_0x437ea0(0x12a)]='',document[_0x437ea0(0xe1)][_0x437ea0(0x148)][_0x437ea0(0x11f)]='',window[_0x437ea0(0x132)]<=0x384&&(_0x33d770[_0x437ea0(0x148)][_0x437ea0(0xab)]='none',_0x6380d1[_0x437ea0(0x148)][_0x437ea0(0xab)]=_0x437ea0(0x136)));}function updateMenuBtnDisplay(){const _0x3a393a=_0x4ffd,_0x1cb046=document['getElementById'](_0x3a393a(0xe6)),_0x27f59a=document[_0x3a393a(0xd7)]('main-container'),_0x2173cb=document[_0x3a393a(0xd7)](_0x3a393a(0x113)),_0x24eb68=document[_0x3a393a(0xd7)](_0x3a393a(0xd5)),_0xf8a1ef=document[_0x3a393a(0xd7)](_0x3a393a(0xe9));if(window[_0x3a393a(0x132)]>0x384){_0x1cb046[_0x3a393a(0x138)][_0x3a393a(0x116)](_0x3a393a(0xea)),_0x27f59a[_0x3a393a(0x138)][_0x3a393a(0x116)](_0x3a393a(0xcf)),_0x24eb68[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0xc5),_0x2173cb['style']['display']=_0x3a393a(0xc5);if(_0xf8a1ef)_0xf8a1ef[_0x3a393a(0x148)][_0x3a393a(0xab)]=window['innerWidth']>0x44c?_0x3a393a(0xc5):_0x3a393a(0x11c);document['body'][_0x3a393a(0x148)][_0x3a393a(0x12a)]='',document[_0x3a393a(0xe1)][_0x3a393a(0x148)]['touchAction']='';}else{_0x1cb046[_0x3a393a(0x138)]['contains']('open')?(_0x24eb68[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0x136),_0x2173cb[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0xc5)):(_0x24eb68[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0xc5),_0x2173cb[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0x136));if(_0xf8a1ef)_0xf8a1ef[_0x3a393a(0x148)][_0x3a393a(0xab)]=_0x3a393a(0x11c);}}function updateTransform(){const _0x5460db=_0x4ffd;canvas[_0x5460db(0x148)][_0x5460db(0x130)]=_0x5460db(0xda)+posX+'px,\x20'+posY+_0x5460db(0x114)+scale+')';}