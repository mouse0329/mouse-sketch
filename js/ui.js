(function(_0x1a7d59,_0x3c790b){const _0x5a297f=_0x806b,_0x3d7cb6=_0x1a7d59();while(!![]){try{const _0x5a1722=-parseInt(_0x5a297f(0x104))/0x1+-parseInt(_0x5a297f(0x10d))/0x2*(-parseInt(_0x5a297f(0x118))/0x3)+-parseInt(_0x5a297f(0x13d))/0x4+parseInt(_0x5a297f(0x14e))/0x5+-parseInt(_0x5a297f(0xff))/0x6+parseInt(_0x5a297f(0x125))/0x7*(parseInt(_0x5a297f(0x124))/0x8)+-parseInt(_0x5a297f(0xfa))/0x9*(-parseInt(_0x5a297f(0x100))/0xa);if(_0x5a1722===_0x3c790b)break;else _0x3d7cb6['push'](_0x3d7cb6['shift']());}catch(_0x558cdb){_0x3d7cb6['push'](_0x3d7cb6['shift']());}}}(_0x2bdf,0x66ebe));const _0xddcfb=(function(){let _0xb43663=!![];return function(_0x266672,_0x5aca1c){const _0x4b8851=_0xb43663?function(){const _0x464708=_0x806b;if(_0x5aca1c){const _0x229c1f=_0x5aca1c[_0x464708(0x12f)](_0x266672,arguments);return _0x5aca1c=null,_0x229c1f;}}:function(){};return _0xb43663=![],_0x4b8851;};}()),_0x58efc1=_0xddcfb(this,function(){const _0x2ba3ab=_0x806b;return _0x58efc1[_0x2ba3ab(0xf4)]()[_0x2ba3ab(0x174)](_0x2ba3ab(0x11c))[_0x2ba3ab(0xf4)]()[_0x2ba3ab(0x159)](_0x58efc1)[_0x2ba3ab(0x174)](_0x2ba3ab(0x11c));});_0x58efc1();function updateCurrentColorSwatch(){const _0x5cf707=_0x806b,_0x136d32=document['getElementById'](_0x5cf707(0x148));if(!_0x136d32)return;const _0x35a15d=document[_0x5cf707(0x10a)](_0x5cf707(0x176));_0x136d32[_0x5cf707(0x143)]='',_0x136d32[_0x5cf707(0x16e)]['position']='relative',_0x136d32['style'][_0x5cf707(0xd7)]=_0x5cf707(0x15b);let _0xc42ba2=document[_0x5cf707(0xea)](_0x5cf707(0x139));_0xc42ba2[_0x5cf707(0x16e)][_0x5cf707(0x10b)]=_0x5cf707(0x12e),_0xc42ba2[_0x5cf707(0x16e)][_0x5cf707(0x150)]='0',_0xc42ba2['style'][_0x5cf707(0xe7)]='8px',_0xc42ba2[_0x5cf707(0x16e)]['background']='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x424bfe=document[_0x5cf707(0xea)](_0x5cf707(0x139));_0x424bfe[_0x5cf707(0x16e)][_0x5cf707(0x10b)]=_0x5cf707(0x12e),_0x424bfe[_0x5cf707(0x16e)]['inset']='0',_0x424bfe[_0x5cf707(0x16e)][_0x5cf707(0xe7)]=_0x5cf707(0x15c);const _0x9f1e73=Math['round']((currentAlpha||0x0)*0x64);if(currentColor===_0x5cf707(0x14c)||currentAlpha===0x0){_0x424bfe['style']['background']='none',_0x136d32[_0x5cf707(0xde)]='ÈÄèÊòé';if(_0x35a15d)_0x35a15d['textContent']=_0x5cf707(0x15d);}else{_0x424bfe[_0x5cf707(0x16e)][_0x5cf707(0xe9)]=hexToRgbaCss(currentColor,currentAlpha),_0x136d32[_0x5cf707(0xde)]=currentAlpha<0x1?currentColor+_0x5cf707(0x14a)+_0x9f1e73+'%':currentColor;if(_0x35a15d)_0x35a15d['textContent']=currentColor+'\x20/\x20'+_0x9f1e73+'%';}_0x136d32[_0x5cf707(0x13c)](_0xc42ba2),_0x136d32[_0x5cf707(0x13c)](_0x424bfe);}function updateProjectUI(){const _0x47d1ea=_0x806b,_0x1b3f1a=document[_0x47d1ea(0x10a)](_0x47d1ea(0x13f));_0x1b3f1a[_0x47d1ea(0x143)]='';for(let _0x198ae0=0x0;_0x198ae0<projects[_0x47d1ea(0x12b)];_0x198ae0++){const _0x51473a=document['createElement'](_0x47d1ea(0x139));_0x51473a['className']=_0x47d1ea(0x10e)+(_0x198ae0===activeProject?'\x20active':''),_0x51473a[_0x47d1ea(0xd8)]=()=>{activeProject=_0x198ae0,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();},_0x51473a[_0x47d1ea(0x122)]=_0x2a759f=>{const _0x587a4b=_0x47d1ea;_0x2a759f[_0x587a4b(0xe8)](),showRenameProjectDialog(_0x198ae0);};let _0x380d02=null;const _0x3692de=()=>{_0x380d02=setTimeout(()=>{showRenameProjectDialog(_0x198ae0);},0x258);},_0x30d72c=()=>{if(_0x380d02)clearTimeout(_0x380d02);_0x380d02=null;};_0x51473a['addEventListener'](_0x47d1ea(0x165),_0x3692de,{'passive':!![]}),_0x51473a[_0x47d1ea(0x178)](_0x47d1ea(0xd6),_0x30d72c,{'passive':!![]}),_0x51473a[_0x47d1ea(0x178)]('touchcancel',_0x30d72c,{'passive':!![]});const _0x321234=document['createElement'](_0x47d1ea(0x11b));_0x321234[_0x47d1ea(0x169)]=_0x47d1ea(0x147),_0x321234['textContent']=projects[_0x198ae0][_0x47d1ea(0x11a)]||'ÁîªÂÉè'+(_0x198ae0+0x1),_0x321234[_0x47d1ea(0xde)]=_0x47d1ea(0x135),_0x321234[_0x47d1ea(0xd8)]=_0x5da3e5=>{const _0x508f11=_0x47d1ea;_0x5da3e5[_0x508f11(0x157)](),editProjectName(_0x198ae0,_0x321234);},_0x51473a[_0x47d1ea(0x13c)](_0x321234);const _0x2747c9=document[_0x47d1ea(0xea)]('button');_0x2747c9['textContent']='ÂâäÈô§',_0x2747c9[_0x47d1ea(0x169)]=_0x47d1ea(0xfb),_0x2747c9[_0x47d1ea(0x117)]=projects[_0x47d1ea(0x12b)]===0x1,_0x2747c9[_0x47d1ea(0xd8)]=_0x2706fa=>{const _0x579835=_0x47d1ea;_0x2706fa[_0x579835(0x157)](),removeProjectAt(_0x198ae0);},_0x51473a[_0x47d1ea(0x13c)](_0x2747c9),_0x1b3f1a[_0x47d1ea(0x13c)](_0x51473a);}document[_0x47d1ea(0x10a)](_0x47d1ea(0x120))[_0x47d1ea(0x173)]='('+projects[_0x47d1ea(0x12b)]+'Êûö)';}function showRenameProjectDialog(_0x552023){const _0x3d2341=_0x806b,_0xc4765e=projects[_0x552023],_0x55d398=_0xc4765e&&_0xc4765e[_0x3d2341(0x11a)]?_0xc4765e[_0x3d2341(0x11a)]:'ÁîªÂÉè'+(_0x552023+0x1),_0xa5d880=prompt(_0x3d2341(0x131),_0x55d398);if(_0xa5d880==null)return;const _0x111d1f=_0xa5d880[_0x3d2341(0x121)]();projects[_0x552023][_0x3d2341(0x11a)]=_0x111d1f||_0x55d398,updateProjectUI();}function showNewProjectDialog(_0xca77b6){const _0x1027fb=_0x806b;let _0x5425c7=document[_0x1027fb(0x10a)](_0x1027fb(0x134));if(_0x5425c7)_0x5425c7[_0x1027fb(0x110)]();const _0x3a605=document[_0x1027fb(0xea)]('div');_0x3a605['id']=_0x1027fb(0x134),_0x3a605['style'][_0x1027fb(0x10b)]=_0x1027fb(0x16d),_0x3a605[_0x1027fb(0x16e)][_0x1027fb(0xd4)]='0',_0x3a605[_0x1027fb(0x16e)]['top']='0',_0x3a605[_0x1027fb(0x16e)]['width']='100vw',_0x3a605['style']['height']='100vh',_0x3a605['style'][_0x1027fb(0xe9)]='rgba(0,0,0,0.3)',_0x3a605[_0x1027fb(0x16e)]['display']='flex',_0x3a605[_0x1027fb(0x16e)]['alignItems']=_0x1027fb(0x107),_0x3a605[_0x1027fb(0x16e)][_0x1027fb(0x16a)]=_0x1027fb(0x107),_0x3a605[_0x1027fb(0x16e)][_0x1027fb(0x170)]=_0x1027fb(0x153),_0x3a605['innerHTML']=_0x1027fb(0x155)+(projects[_0x1027fb(0x12b)]+0x1)+_0x1027fb(0x138),document[_0x1027fb(0x10f)][_0x1027fb(0x13c)](_0x3a605),_0x3a605['querySelector'](_0x1027fb(0xd9))['onclick']=()=>{const _0x18ea5e=_0x1027fb,_0x589d2b=parseInt(_0x3a605[_0x18ea5e(0xf1)](_0x18ea5e(0xee))[_0x18ea5e(0x179)],0xa),_0x20b777=parseInt(_0x3a605['querySelector'](_0x18ea5e(0x11f))[_0x18ea5e(0x179)],0xa),_0x17530b=_0x3a605[_0x18ea5e(0xf1)](_0x18ea5e(0x175))['value']['trim']();_0x3a605['remove']();if(_0xca77b6)_0xca77b6(_0x589d2b,_0x20b777,_0x17530b);},_0x3a605['querySelector']('#newProjCancelBtn')[_0x1027fb(0xd8)]=()=>{const _0x3be14c=_0x1027fb;_0x3a605[_0x3be14c(0x110)]();};}function updateFrameUI(){const _0x59a9f7=_0x806b,_0x408e51=document['getElementById'](_0x59a9f7(0x105)),_0x74e61e=getCurrentProject();if(!_0x74e61e||!_0x74e61e[_0x59a9f7(0x168)])return;_0x408e51[_0x59a9f7(0x143)]='';for(let _0x25f814=0x0;_0x25f814<_0x74e61e['frames'][_0x59a9f7(0x12b)];_0x25f814++){const _0x13ba1b=document['createElement']('div');_0x13ba1b[_0x59a9f7(0x169)]=_0x59a9f7(0x142)+(_0x25f814===_0x74e61e[_0x59a9f7(0x160)]?_0x59a9f7(0xe1):''),_0x13ba1b[_0x59a9f7(0xd8)]=()=>{const _0x7580fb=_0x59a9f7;_0x74e61e[_0x7580fb(0x160)]=_0x25f814,updateFrameUI(),updateLayerUI(),redrawAll();};const _0x55ec94=document[_0x59a9f7(0xea)](_0x59a9f7(0x162));_0x55ec94[_0x59a9f7(0x169)]=_0x59a9f7(0x132),_0x55ec94[_0x59a9f7(0xfe)]=0x20,_0x55ec94[_0x59a9f7(0xeb)]=0x20;let _0x7cb881=_0x55ec94[_0x59a9f7(0xf7)]('2d',{'willReadFrequently':!![]});_0x7cb881[_0x59a9f7(0x146)](0x0,0x0,0x20,0x20);for(let _0x3dc2c2=0x0;_0x3dc2c2<_0x74e61e[_0x59a9f7(0x168)][_0x25f814][_0x59a9f7(0xf9)][_0x59a9f7(0x12b)];_0x3dc2c2++){const _0x34eb05=_0x74e61e[_0x59a9f7(0x168)][_0x25f814][_0x59a9f7(0xf9)][_0x3dc2c2];_0x34eb05&&_0x34eb05['canvas']&&_0x7cb881[_0x59a9f7(0x152)](_0x34eb05[_0x59a9f7(0x162)],0x0,0x0,_0x55ec94[_0x59a9f7(0xfe)],_0x55ec94['height']);}_0x13ba1b['appendChild'](_0x55ec94);const _0x9a34f=document[_0x59a9f7(0xea)](_0x59a9f7(0x11b));_0x9a34f[_0x59a9f7(0x173)]='F'+(_0x25f814+0x1),_0x13ba1b[_0x59a9f7(0x13c)](_0x9a34f);const _0x38e2a1=document[_0x59a9f7(0xea)](_0x59a9f7(0x123));_0x38e2a1[_0x59a9f7(0x173)]='ÂâäÈô§',_0x38e2a1[_0x59a9f7(0x169)]=_0x59a9f7(0x15e),_0x38e2a1[_0x59a9f7(0x117)]=_0x74e61e[_0x59a9f7(0x168)][_0x59a9f7(0x12b)]===0x1,_0x38e2a1[_0x59a9f7(0xd8)]=_0x54756a=>{const _0x19eb59=_0x59a9f7;_0x54756a[_0x19eb59(0x157)](),removeFrameAt(_0x25f814);},_0x13ba1b['appendChild'](_0x38e2a1),_0x408e51[_0x59a9f7(0x13c)](_0x13ba1b);}document['getElementById'](_0x59a9f7(0x13e))[_0x59a9f7(0x173)]='('+_0x74e61e['frames'][_0x59a9f7(0x12b)]+_0x59a9f7(0x11e);}function updateLayerUI(){const _0x41650f=_0x806b,{layers:_0x20df39,activeLayer:_0x3f7724}=getCurrentFrame();document[_0x41650f(0x10a)](_0x41650f(0xef))[_0x41650f(0x173)]='('+_0x20df39[_0x41650f(0x12b)]+'Êûö)';const _0x527dae=document[_0x41650f(0x10a)]('layerList');_0x527dae[_0x41650f(0x143)]='';for(let _0x558f0e=_0x20df39[_0x41650f(0x12b)]-0x1;_0x558f0e>=0x0;_0x558f0e--){const _0x1b96ef=document[_0x41650f(0xea)]('div');_0x1b96ef[_0x41650f(0x169)]=_0x41650f(0x115)+(_0x558f0e===_0x3f7724?_0x41650f(0xe1):''),_0x1b96ef[_0x41650f(0xd8)]=_0xa7e99d=>{const _0x5cb6c5=_0x41650f;if(_0xa7e99d[_0x5cb6c5(0x164)][_0x5cb6c5(0xdd)][_0x5cb6c5(0x116)](_0x5cb6c5(0xe0)))return;getCurrentFrame()['activeLayer']=_0x558f0e,updateLayerUI(),redrawAll();};const _0x182f82=document['createElement']('div');_0x182f82[_0x41650f(0x169)]=_0x41650f(0xe3);const _0x1d503e=document['createElement'](_0x41650f(0x162));_0x1d503e[_0x41650f(0x169)]='layer-thumb\x20large',_0x1d503e[_0x41650f(0xfe)]=0x30,_0x1d503e[_0x41650f(0xeb)]=0x30;const _0x3c5ab2=_0x1d503e[_0x41650f(0xf7)]('2d');_0x3c5ab2[_0x41650f(0x146)](0x0,0x0,_0x1d503e[_0x41650f(0xfe)],_0x1d503e['height']),_0x3c5ab2[_0x41650f(0xf5)]=_0x20df39[_0x558f0e][_0x41650f(0xed)]===![]?0.3:0x1;let _0x1c6996=null;if(_0x20df39[_0x558f0e]instanceof HTMLCanvasElement)_0x1c6996=_0x20df39[_0x558f0e];else _0x20df39[_0x558f0e][_0x41650f(0x162)]instanceof HTMLCanvasElement&&(_0x1c6996=_0x20df39[_0x558f0e][_0x41650f(0x162)]);_0x1c6996&&_0x1c6996[_0x41650f(0xfe)]>0x0&&_0x1c6996['height']>0x0?_0x3c5ab2['drawImage'](_0x1c6996,0x0,0x0,_0x1d503e[_0x41650f(0xfe)],_0x1d503e[_0x41650f(0xeb)]):console[_0x41650f(0xd5)](_0x41650f(0x109),_0x20df39[_0x558f0e]);_0x182f82['appendChild'](_0x1d503e);const _0x4cd32c=document[_0x41650f(0xea)](_0x41650f(0x139));_0x4cd32c[_0x41650f(0x169)]=_0x41650f(0xdf);const _0x2da657=document[_0x41650f(0xea)](_0x41650f(0x139));_0x2da657['textContent']=_0x41650f(0x119)+(_0x558f0e+0x1),_0x2da657[_0x41650f(0x169)]=_0x41650f(0x166),_0x4cd32c[_0x41650f(0x13c)](_0x2da657);const _0x380cfa=document[_0x41650f(0xea)](_0x41650f(0x139));_0x380cfa['className']=_0x41650f(0x128);const _0x23fb59=document['createElement'](_0x41650f(0x123));_0x23fb59[_0x41650f(0x169)]=_0x41650f(0x149),_0x23fb59[_0x41650f(0xde)]=_0x20df39[_0x558f0e][_0x41650f(0xed)]===![]?_0x41650f(0xf0):_0x41650f(0x130),_0x23fb59[_0x41650f(0x143)]=_0x20df39[_0x558f0e]['visible']===![]?'üëÅÔ∏è‚Äçüó®Ô∏è':_0x41650f(0x112),_0x23fb59['onclick']=_0x46878c=>{const _0x26a6ea=_0x41650f;_0x46878c[_0x26a6ea(0x157)](),_0x20df39[_0x558f0e][_0x26a6ea(0xed)]=!_0x20df39[_0x558f0e][_0x26a6ea(0xed)],updateLayerUI(),redrawAll();},_0x380cfa['appendChild'](_0x23fb59);const _0x5e08ef=document[_0x41650f(0xea)](_0x41650f(0x123));_0x5e08ef['className']='layer-btn',_0x5e08ef[_0x41650f(0x173)]='Ë§áË£Ω',_0x5e08ef[_0x41650f(0xde)]=_0x41650f(0xf2),_0x5e08ef[_0x41650f(0xd8)]=_0x2ea946=>{const _0x2c6143=_0x41650f;_0x2ea946[_0x2c6143(0x157)](),duplicateLayerAt(_0x558f0e);},_0x380cfa['appendChild'](_0x5e08ef);const _0x47c0a0=document['createElement'](_0x41650f(0x123));_0x47c0a0[_0x41650f(0x173)]='‚Üë',_0x47c0a0[_0x41650f(0x169)]=_0x41650f(0xe0),_0x47c0a0['title']=_0x41650f(0x127),_0x47c0a0[_0x41650f(0x117)]=_0x558f0e===_0x20df39[_0x41650f(0x12b)]-0x1,_0x47c0a0[_0x41650f(0xd8)]=_0x1fdf85=>{const _0x331980=_0x41650f;_0x1fdf85[_0x331980(0x157)]();if(_0x558f0e<_0x20df39[_0x331980(0x12b)]-0x1)swapLayer(_0x558f0e,_0x558f0e+0x1);},_0x380cfa[_0x41650f(0x13c)](_0x47c0a0);const _0x15d397=document[_0x41650f(0xea)](_0x41650f(0x123));_0x15d397['textContent']='‚Üì',_0x15d397['className']='layer-btn',_0x15d397['title']=_0x41650f(0x154),_0x15d397[_0x41650f(0x117)]=_0x558f0e===0x0,_0x15d397[_0x41650f(0xd8)]=_0x40672f=>{const _0x410a3f=_0x41650f;_0x40672f[_0x410a3f(0x157)]();if(_0x558f0e>0x0)swapLayer(_0x558f0e,_0x558f0e-0x1);},_0x380cfa[_0x41650f(0x13c)](_0x15d397);const _0x135482=document[_0x41650f(0xea)]('button');_0x135482['textContent']='ÂâäÈô§',_0x135482[_0x41650f(0x169)]='layer-btn',_0x135482[_0x41650f(0xde)]=_0x41650f(0x137),_0x135482[_0x41650f(0x117)]=_0x20df39[_0x41650f(0x12b)]===0x1,_0x135482[_0x41650f(0xd8)]=_0x1a2344=>{const _0x16b940=_0x41650f;_0x1a2344[_0x16b940(0x157)](),removeLayerAt(_0x558f0e);},_0x380cfa['appendChild'](_0x135482),_0x4cd32c[_0x41650f(0x13c)](_0x380cfa),_0x182f82[_0x41650f(0x13c)](_0x4cd32c),_0x1b96ef[_0x41650f(0x13c)](_0x182f82),_0x527dae[_0x41650f(0x13c)](_0x1b96ef);}}function toggleTheme(){const _0x432821=_0x806b;applyTheme(document[_0x432821(0x113)][_0x432821(0x161)](_0x432821(0x171))===_0x432821(0xe6)?_0x432821(0x12c):_0x432821(0xe6));}function _0x2bdf(){const _0x3940b1=['ÊèèÁîª„Åß„Åç„Å™„ÅÑ„É¨„Ç§„É§„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÉÅ„É•„Éº','getElementById','position','translate','4AnIpvK','project-item','body','remove','.toggle-btn','üëÅÔ∏è','documentElement','click','layer-item','contains','disabled','847272cEBxvJ','„É¨„Ç§„É§„Éº','name','span','(((.+)+)+)+$','block','„Ç≥„Éû)','#newProjH','projectCount','trim','oncontextmenu','button','344gSRAqg','10451dhLdoV','round','‰∏ä„Å´ÁßªÂãï','layer-actions','max','#dlgTransparentBtn','length','light','innerWidth','absolute','apply','ÈùûË°®Á§∫„Å´„Åô„Çã','Êñ∞„Åó„ÅÑÂêçÂâç„ÇíÂÖ•Âäõ','frame-thumb','transform','new-project-dialog','„ÇØ„É™„ÉÉ„ÇØ„ÅßÂêçÂâç„ÇíÁ∑®ÈõÜ','add','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíÂâäÈô§','\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂπÖ:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>È´ò„Åï:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>‰ΩúÊàê</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','div','.section-content','close','appendChild','857396kWdnMp','frameCount','projectList','none','startCell','frame-item','innerHTML','top','#dlgAlpha','clearRect','project-name','currentColorSwatch','layer-btn\x20layer-vis-btn','\x20ÈÄèÊòéÂ∫¶','IndexedDB\x20„ÅÆ„Çπ„Éà„Ç¢„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Åü„ÇÅÂÜç‰ΩúÊàê„ÅåÂøÖË¶Å„Åß„Åô','transparent','inline-block','2270380ewCunz','100vw','inset','result','drawImage','3000','‰∏ã„Å´ÁßªÂãï','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:var(--surface);\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>Êñ∞„Åó„ÅÑÁîªÂÉè„ÅÆ„Çµ„Ç§„Ç∫</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÂêçÂâç:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22ÁîªÂÉè','sidebar-open','stopPropagation','\x22\x20style=\x22width:72px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgTransparentBtn\x22\x20type=\x22button\x22\x20style=\x22margin-left:8px;\x22>ÈÄèÊòé</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;gap:8px;justify-content:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgOkBtn\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22dlgCancelBtn\x22>„Ç≠„É£„É≥„Çª„É´</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','constructor','menu-toggle-btn','hidden','8px','ÈÄèÊòé\x20/\x200%','frame-btn','#000000','activeFrame','getAttribute','canvas','deleteDatabase','target','touchstart','layer-label','offsetCells','frames','className','justifyContent','createObjectStore','sidebar','fixed','style','color-dialog','zIndex','data-theme','boolean','textContent','search','#newProjName','currentColorInfoText','onerror','addEventListener','value','display','menu-toggle-btn-close','left','warn','touchend','overflow','onclick','#newProjOkBtn','open','#dlgColor','flex','classList','title','layer-info','layer-btn','\x20active','save','layer-row','#dlgCancelBtn','rgba(0,0,0,0.25)','dark','borderRadius','preventDefault','background','createElement','height','selected','visible','#newProjW','layerCount','Ë°®Á§∫„Åô„Çã','querySelector','„Åì„ÅÆ„É¨„Ç§„É§„Éº„ÇíË§áË£Ω','objectStoreNames','toString','globalAlpha','querySelectorAll','getContext','touchAction','layers','81syntBj','project-btn','active','#dlgOkBtn','width','3119976qWsyIa','175510cPqEpB','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>ÈÄèÊòéÂ∫¶(0-100):\x20<input\x20type=\x22number\x22\x20id=\x22dlgAlpha\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','floor','main-container','85171UOJqYr','frameList','toolsToggleBtn','center','px)\x20scale('];_0x2bdf=function(){return _0x3940b1;};return _0x2bdf();}function openDB(){return new Promise((_0x543a40,_0x444dc7)=>{const _0x44ece1=_0x806b,_0x574418=indexedDB['open'](dbName,0x2);_0x574418['onupgradeneeded']=()=>{const _0x580664=_0x806b,_0x30ad72=_0x574418['result'];!_0x30ad72['objectStoreNames'][_0x580664(0x116)](storeName)&&_0x30ad72[_0x580664(0x16b)](storeName);},_0x574418['onsuccess']=()=>{const _0x14e967=_0x806b,_0x4a74d3=_0x574418[_0x14e967(0x151)];if(!_0x4a74d3[_0x14e967(0xf3)]['contains'](storeName)){_0x4a74d3[_0x14e967(0x13b)](),indexedDB[_0x14e967(0x163)](dbName),_0x444dc7(new Error(_0x14e967(0x14b)));return;}_0x543a40(_0x4a74d3);},_0x574418[_0x44ece1(0x177)]=()=>_0x444dc7(_0x574418['error']);});}function openColorDialog(){const _0x405113=_0x806b;if(document[_0x405113(0x10a)](_0x405113(0x16f)))return;const _0x1bb382=document[_0x405113(0xea)](_0x405113(0x139));_0x1bb382['id']=_0x405113(0x16f),_0x1bb382[_0x405113(0x16e)][_0x405113(0x10b)]=_0x405113(0x16d),_0x1bb382[_0x405113(0x16e)][_0x405113(0xd4)]='0',_0x1bb382[_0x405113(0x16e)][_0x405113(0x144)]='0',_0x1bb382['style']['width']=_0x405113(0x14f),_0x1bb382[_0x405113(0x16e)][_0x405113(0xeb)]='100vh',_0x1bb382[_0x405113(0x16e)][_0x405113(0x17a)]=_0x405113(0xdc),_0x1bb382['style']['alignItems']=_0x405113(0x107),_0x1bb382[_0x405113(0x16e)][_0x405113(0x16a)]=_0x405113(0x107),_0x1bb382['style'][_0x405113(0x170)]='4000',_0x1bb382[_0x405113(0x16e)][_0x405113(0xe9)]=_0x405113(0xe5),_0x1bb382['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;padding:18px;border-radius:8px;min-width:260px;text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:0\x200\x208px\x200;\x22>Ëâ≤„Å®ÈÄèÊòé„ÇíÈÅ∏Êäû</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22dlgColor\x22\x20value=\x22'+(currentColor===_0x405113(0x14c)?_0x405113(0x15f):currentColor)+_0x405113(0x101)+Math[_0x405113(0x126)](currentAlpha*0x64)+_0x405113(0x158),document[_0x405113(0x10f)][_0x405113(0x13c)](_0x1bb382),_0x1bb382['querySelector'](_0x405113(0x12a))[_0x405113(0xd8)]=()=>{const _0x414412=_0x405113,_0x234b01=_0x1bb382[_0x414412(0xf1)](_0x414412(0x145));_0x234b01['value']=0x0,_0x1bb382[_0x414412(0xf1)](_0x414412(0xdb))[_0x414412(0x179)]='#000000';},_0x1bb382[_0x405113(0xf1)](_0x405113(0xfd))[_0x405113(0xd8)]=()=>{const _0x44b1a9=_0x405113,_0x3cf248=_0x1bb382['querySelector'](_0x44b1a9(0xdb))[_0x44b1a9(0x179)],_0x10d4f5=Math[_0x44b1a9(0x129)](0x0,Math['min'](0x64,parseInt(_0x1bb382[_0x44b1a9(0xf1)](_0x44b1a9(0x145))[_0x44b1a9(0x179)],0xa)||0x0));if(_0x10d4f5===0x0){currentAlpha=0x0,currentColor=_0x44b1a9(0x14c);if(colorPicker)colorPicker[_0x44b1a9(0x179)]=_0x44b1a9(0x15f);}else{currentAlpha=_0x10d4f5/0x64,currentColor=_0x3cf248;if(colorPicker)colorPicker['value']=_0x3cf248;}updateCurrentColorSwatch(),document[_0x44b1a9(0xf6)]('.palette-color')['forEach'](_0x45cac0=>_0x45cac0[_0x44b1a9(0xdd)][_0x44b1a9(0x110)](_0x44b1a9(0xec))),_0x1bb382['remove']();},_0x1bb382[_0x405113(0xf1)](_0x405113(0xe4))[_0x405113(0xd8)]=()=>_0x1bb382[_0x405113(0x110)](),_0x1bb382[_0x405113(0x178)](_0x405113(0x114),_0x433624=>{const _0x21ae29=_0x405113;if(_0x433624[_0x21ae29(0x164)]===_0x1bb382)_0x1bb382['remove']();});}function updateLayerMove(_0x2365e6){const _0x4dbda3=_0x806b;if(!layerMoveState[_0x4dbda3(0xfc)])return;const _0x4f1a97=getCanvasCoords(_0x2365e6),_0x256d28={'x':Math[_0x4dbda3(0x102)](_0x4f1a97['x']/cellSize),'y':Math[_0x4dbda3(0x102)](_0x4f1a97['y']/cellSize)};layerMoveState[_0x4dbda3(0x167)]['x']=_0x256d28['x']-layerMoveState[_0x4dbda3(0x141)]['x'],layerMoveState['offsetCells']['y']=_0x256d28['y']-layerMoveState[_0x4dbda3(0x141)]['y'],redrawAll();const _0x49f52a=getCurrentFrame();if(!_0x49f52a)return;const _0x500cce=_0x49f52a['activeLayer'];if(_0x500cce==null)return;ctx[_0x4dbda3(0xe2)](),ctx[_0x4dbda3(0x10c)](layerMoveState['offsetCells']['x']*cellSize,layerMoveState[_0x4dbda3(0x167)]['y']*cellSize),ctx['drawImage'](_0x49f52a['layers'][_0x500cce][_0x4dbda3(0x162)],0x0,0x0),ctx['restore']();}function _0x806b(_0x1fb8d4,_0x2b367a){_0x1fb8d4=_0x1fb8d4-0xd4;const _0x208d8a=_0x2bdf();let _0x58efc1=_0x208d8a[_0x1fb8d4];return _0x58efc1;}function toggleSection(_0x3f1973){const _0x205de7=_0x806b,_0x476266=document['getElementById'](_0x3f1973),_0xbc4764=_0x476266[_0x205de7(0xf1)](_0x205de7(0x13a)),_0x277c3f=_0x476266['querySelector'](_0x205de7(0x111));_0xbc4764[_0x205de7(0x16e)][_0x205de7(0x17a)]==='none'?(_0xbc4764[_0x205de7(0x16e)][_0x205de7(0x17a)]='',_0x277c3f[_0x205de7(0x173)]='‚ñº'):(_0xbc4764['style']['display']='none',_0x277c3f[_0x205de7(0x173)]='‚ñ≤');}function toggleSideMenu(_0x2b2647){const _0x10437a=_0x806b,_0x59ffb6=document[_0x10437a(0x10a)](_0x10437a(0x16c)),_0x5525bd=document['getElementById']('main-container'),_0x5b6556=document[_0x10437a(0x10a)](_0x10437a(0x15a)),_0x4e0392=document[_0x10437a(0x10a)]('menu-toggle-btn-close'),_0x5eec14=_0x59ffb6['classList']['contains']('open');let _0x37640b=typeof _0x2b2647===_0x10437a(0x172)?_0x2b2647:!_0x5eec14;_0x37640b?(_0x59ffb6['classList'][_0x10437a(0x136)](_0x10437a(0xda)),_0x5525bd[_0x10437a(0xdd)][_0x10437a(0x136)](_0x10437a(0x156)),document[_0x10437a(0x10f)][_0x10437a(0x16e)][_0x10437a(0xd7)]=_0x10437a(0x15b),document['body'][_0x10437a(0x16e)][_0x10437a(0xf8)]=_0x10437a(0x140),window[_0x10437a(0x12d)]<=0x384&&(_0x4e0392[_0x10437a(0x16e)]['display']=_0x10437a(0x11d),_0x5b6556[_0x10437a(0x16e)]['display']=_0x10437a(0x140))):(_0x59ffb6[_0x10437a(0xdd)]['remove']('open'),_0x5525bd[_0x10437a(0xdd)][_0x10437a(0x110)](_0x10437a(0x156)),document[_0x10437a(0x10f)]['style'][_0x10437a(0xd7)]='',document[_0x10437a(0x10f)][_0x10437a(0x16e)]['touchAction']='',window[_0x10437a(0x12d)]<=0x384&&(_0x4e0392[_0x10437a(0x16e)][_0x10437a(0x17a)]='none',_0x5b6556[_0x10437a(0x16e)]['display']='block'));}function updateMenuBtnDisplay(){const _0x4e828d=_0x806b,_0x290fbb=document[_0x4e828d(0x10a)](_0x4e828d(0x16c)),_0x2a1612=document['getElementById'](_0x4e828d(0x103)),_0x462ada=document['getElementById'](_0x4e828d(0x15a)),_0x2def8a=document[_0x4e828d(0x10a)](_0x4e828d(0x17b)),_0x5312a1=document[_0x4e828d(0x10a)](_0x4e828d(0x106));if(window[_0x4e828d(0x12d)]>0x384){_0x290fbb['classList'][_0x4e828d(0x110)](_0x4e828d(0xda)),_0x2a1612['classList'][_0x4e828d(0x110)](_0x4e828d(0x156)),_0x2def8a[_0x4e828d(0x16e)][_0x4e828d(0x17a)]='none',_0x462ada[_0x4e828d(0x16e)][_0x4e828d(0x17a)]=_0x4e828d(0x140);if(_0x5312a1)_0x5312a1[_0x4e828d(0x16e)][_0x4e828d(0x17a)]=window[_0x4e828d(0x12d)]>0x44c?_0x4e828d(0x140):_0x4e828d(0x14d);document['body'][_0x4e828d(0x16e)][_0x4e828d(0xd7)]='',document[_0x4e828d(0x10f)][_0x4e828d(0x16e)]['touchAction']='';}else{_0x290fbb['classList'][_0x4e828d(0x116)](_0x4e828d(0xda))?(_0x2def8a[_0x4e828d(0x16e)]['display']=_0x4e828d(0x11d),_0x462ada[_0x4e828d(0x16e)][_0x4e828d(0x17a)]='none'):(_0x2def8a[_0x4e828d(0x16e)]['display']=_0x4e828d(0x140),_0x462ada[_0x4e828d(0x16e)]['display']='block');if(_0x5312a1)_0x5312a1[_0x4e828d(0x16e)][_0x4e828d(0x17a)]='inline-block';}}function updateTransform(){const _0x4ee896=_0x806b;canvas[_0x4ee896(0x16e)][_0x4ee896(0x133)]='translate('+posX+'px,\x20'+posY+_0x4ee896(0x108)+scale+')';}