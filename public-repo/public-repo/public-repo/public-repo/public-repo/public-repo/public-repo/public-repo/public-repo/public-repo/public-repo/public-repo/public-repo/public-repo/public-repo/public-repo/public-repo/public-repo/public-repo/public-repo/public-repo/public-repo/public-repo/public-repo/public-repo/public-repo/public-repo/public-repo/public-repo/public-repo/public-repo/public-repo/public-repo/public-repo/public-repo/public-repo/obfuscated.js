(function(_0x33fc01,_0x2db39d){const _0x48296d=a0_0x2578,_0x2ea439=_0x33fc01();while(!![]){try{const _0x4f375f=parseInt(_0x48296d(0x146))/0x1+-parseInt(_0x48296d(0x22a))/0x2*(-parseInt(_0x48296d(0x139))/0x3)+-parseInt(_0x48296d(0x212))/0x4+-parseInt(_0x48296d(0x226))/0x5*(parseInt(_0x48296d(0x1bb))/0x6)+-parseInt(_0x48296d(0x15b))/0x7+parseInt(_0x48296d(0x233))/0x8*(parseInt(_0x48296d(0x201))/0x9)+-parseInt(_0x48296d(0x1f2))/0xa*(-parseInt(_0x48296d(0x1ce))/0xb);if(_0x4f375f===_0x2db39d)break;else _0x2ea439['push'](_0x2ea439['shift']());}catch(_0x288029){_0x2ea439['push'](_0x2ea439['shift']());}}}(a0_0x2ab8,0x18d09),(function(_0x5001fe,_0x38ab08){const _0x171b16=a0_0x2578,_0x5caee6=(function(){let _0x4b6247=!![];return function(_0x209cb3,_0x669fb8){const _0x34d0d4=_0x4b6247?function(){const _0x4b4b17=a0_0x2578;if(_0x669fb8){const _0x3e61b=_0x669fb8[_0x4b4b17(0x174)](_0x209cb3,arguments);return _0x669fb8=null,_0x3e61b;}}:function(){};return _0x4b6247=![],_0x34d0d4;};}()),_0x935940=_0x5caee6(this,function(){const _0x4b13bb=a0_0x2578;return _0x935940[_0x4b13bb(0x15e)]()[_0x4b13bb(0x15a)]('(((.+)+)+)+$')[_0x4b13bb(0x15e)]()[_0x4b13bb(0x17a)](_0x935940)[_0x4b13bb(0x15a)](_0x4b13bb(0x217));});_0x935940();const _0x5811ea=a0_0x3f33,_0xfe267d=_0x5001fe();while(!![]){try{const _0x53a8dc=parseInt(_0x5811ea(0x10f))/0x1*(parseInt(_0x5811ea(0x10b))/0x2)+-parseInt(_0x5811ea(0xf9))/0x3+-parseInt(_0x5811ea(0x1ef))/0x4*(parseInt(_0x5811ea(0x107))/0x5)+parseInt(_0x5811ea(0x1cf))/0x6*(parseInt(_0x5811ea(0x1d0))/0x7)+-parseInt(_0x5811ea(0x1a4))/0x8+-parseInt(_0x5811ea(0xd5))/0x9*(parseInt(_0x5811ea(0x184))/0xa)+parseInt(_0x5811ea(0xfa))/0xb;if(_0x53a8dc===_0x38ab08)break;else _0xfe267d[_0x171b16(0x14a)](_0xfe267d[_0x171b16(0x176)]());}catch(_0x4eb59a){_0xfe267d[_0x171b16(0x14a)](_0xfe267d[_0x171b16(0x176)]());}}}(a0_0x5ba6,0x4715a),function(_0x48aeb1,_0x375073){const _0x35fc62=a0_0x2578,_0x4ebe57=a0_0x3f33,_0x43d408=a0_0x111e,_0x2da26d=_0x48aeb1();while(!![]){try{const _0x400541=parseInt(_0x43d408(0x148))/0x1+-parseInt(_0x43d408(0x1f1))/0x2+-parseInt(_0x43d408(0xf1))/0x3*(-parseInt(_0x43d408(0xf4))/0x4)+-parseInt(_0x43d408(0x94))/0x5+parseInt(_0x43d408(0x103))/0x6+parseInt(_0x43d408(0x172))/0x7+-parseInt(_0x43d408(0x198))/0x8;if(_0x400541===_0x375073)break;else _0x2da26d[_0x4ebe57(0x11c)](_0x2da26d[_0x35fc62(0x176)]());}catch(_0x5711e9){_0x2da26d[_0x4ebe57(0x11c)](_0x2da26d[_0x35fc62(0x176)]());}}}(a0_0x3c67,0x21478)));const a0_0x413a03=a0_0x35c9;(function(_0x3c30eb,_0x18f56e){const _0x1e9970=a0_0x111e,_0x514230=(function(){let _0x4c2f2e=!![];return function(_0x23406d,_0x55560b){const _0x1960cf=_0x4c2f2e?function(){const _0x43d885=a0_0x111e;if(_0x55560b){const _0x7ed7b2=_0x55560b[_0x43d885(0x9b)](_0x23406d,arguments);return _0x55560b=null,_0x7ed7b2;}}:function(){};return _0x4c2f2e=![],_0x1960cf;};}()),_0x500b64=_0x514230(this,function(){const _0x2963eb=a0_0x3f33,_0x1fe6ec=a0_0x111e;return _0x500b64[_0x2963eb(0xe0)]()[_0x1fe6ec(0x1a2)](_0x2963eb(0x1cc))[_0x1fe6ec(0x15e)]()[_0x1fe6ec(0xac)](_0x500b64)[_0x2963eb(0x116)](_0x1fe6ec(0x9d));});_0x500b64();const _0x4cb929=a0_0x35c9,_0x3f9490=_0x3c30eb();while(!![]){try{const _0x4d361e=-parseInt(_0x4cb929(0x1da))/0x1*(parseInt(_0x4cb929(0xd1))/0x2)+parseInt(_0x4cb929(0x19f))/0x3*(parseInt(_0x4cb929(0x153))/0x4)+-parseInt(_0x4cb929(0x1b6))/0x5+parseInt(_0x4cb929(0x1d4))/0x6+-parseInt(_0x4cb929(0x1ae))/0x7+-parseInt(_0x4cb929(0xe5))/0x8+parseInt(_0x4cb929(0x122))/0x9;if(_0x4d361e===_0x18f56e)break;else _0x3f9490[_0x1e9970(0xd1)](_0x3f9490[_0x1e9970(0x1c8)]());}catch(_0x313e2d){_0x3f9490[_0x1e9970(0xd1)](_0x3f9490[_0x1e9970(0x1c8)]());}}}(a0_0x9b6b,0x7d653));const a0_0x521960=a0_0x56c5;(function(_0x4b1840,_0x1bfa39){const _0x5816ca=a0_0x111e,_0x4b5bb7=a0_0x35c9,_0x3006bf=(function(){let _0x310b70=!![];return function(_0x196d04,_0x388881){const _0x1897ce=_0x310b70?function(){const _0x2b67a0=a0_0x35c9;if(_0x388881){const _0x5a1f3d=_0x388881[_0x2b67a0(0x1e8)](_0x196d04,arguments);return _0x388881=null,_0x5a1f3d;}}:function(){};return _0x310b70=![],_0x1897ce;};}()),_0x5092fc=_0x3006bf(this,function(){const _0x2e3571=a0_0x111e,_0x21e8fb=a0_0x35c9;return _0x5092fc[_0x21e8fb(0x17b)]()[_0x2e3571(0x1a2)](_0x21e8fb(0x102))[_0x2e3571(0x15e)]()[_0x21e8fb(0x1f8)](_0x5092fc)[_0x2e3571(0x1a2)](_0x21e8fb(0x102));});_0x5092fc();const _0x511e41=a0_0x56c5,_0xd863a2=_0x4b1840();while(!![]){try{const _0x490297=-parseInt(_0x511e41(0x192))/0x1*(parseInt(_0x511e41(0x14b))/0x2)+-parseInt(_0x511e41(0x19e))/0x3*(parseInt(_0x511e41(0x12e))/0x4)+parseInt(_0x511e41(0xe2))/0x5*(parseInt(_0x511e41(0x1cf))/0x6)+-parseInt(_0x511e41(0xe7))/0x7*(-parseInt(_0x511e41(0xf4))/0x8)+parseInt(_0x511e41(0x133))/0x9+parseInt(_0x511e41(0x11b))/0xa+parseInt(_0x511e41(0x172))/0xb*(-parseInt(_0x511e41(0x1ce))/0xc);if(_0x490297===_0x1bfa39)break;else _0xd863a2[_0x5816ca(0xd1)](_0xd863a2[_0x4b5bb7(0x1c0)]());}catch(_0x3b7a0b){_0xd863a2[_0x4b5bb7(0x14c)](_0xd863a2[_0x4b5bb7(0x1c0)]());}}}(a0_0x22a5,0xba2f1));const a0_0x5049d9=a0_0xce2f;(function(_0x56156e,_0x46a3db){const _0x204570=a0_0x56c5,_0x39db7c=a0_0xce2f,_0x125aca=_0x56156e();while(!![]){try{const _0x252a5a=parseInt(_0x39db7c(0x17d))/0x1*(-parseInt(_0x39db7c(0x227))/0x2)+parseInt(_0x39db7c(0xff))/0x3*(-parseInt(_0x39db7c(0xef))/0x4)+parseInt(_0x39db7c(0x21d))/0x5+parseInt(_0x39db7c(0x128))/0x6*(parseInt(_0x39db7c(0xeb))/0x7)+-parseInt(_0x39db7c(0x12f))/0x8+-parseInt(_0x39db7c(0x209))/0x9*(-parseInt(_0x39db7c(0x1b9))/0xa)+-parseInt(_0x39db7c(0x204))/0xb;if(_0x252a5a===_0x46a3db)break;else _0x125aca[_0x204570(0x1d9)](_0x125aca[_0x204570(0x128)]());}catch(_0x4d2ac3){_0x125aca[_0x204570(0x1d9)](_0x125aca[_0x204570(0x128)]());}}}(a0_0x243d,0x97cd8));function a0_0x5ba6(){const _0x4a8773=a0_0x2578,_0x284c6d=[_0x4a8773(0x1f8),'setAttribute',_0x4a8773(0x174),_0x4a8773(0x198),_0x4a8773(0x16b),_0x4a8773(0x118),'getElementById','tool',_0x4a8773(0x138),'>3</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x224\x22',_0x4a8773(0x1ba),'project-btn',_0x4a8773(0x24e),'nezumi-drawing',_0x4a8773(0x26a),_0x4a8773(0x141),'max',_0x4a8773(0x109),_0x4a8773(0x1bf),_0x4a8773(0x14b),_0x4a8773(0x195),_0x4a8773(0x22e),_0x4a8773(0x12e),_0x4a8773(0x255),_0x4a8773(0x23b),_0x4a8773(0x164),_0x4a8773(0x1d4),_0x4a8773(0x25c),_0x4a8773(0x1b6),_0x4a8773(0x1c0),_0x4a8773(0x13b),'createObjectURL',_0x4a8773(0x172),_0x4a8773(0x240),_0x4a8773(0x23f),_0x4a8773(0x1bd),_0x4a8773(0x229),'#ff00ff','1710315EwWIGP',_0x4a8773(0x228),_0x4a8773(0x1bc),'constructor',_0x4a8773(0x266),'globalCompositeOperation','3937560ufqvBg',_0x4a8773(0x263),_0x4a8773(0x272),_0x4a8773(0x107),_0x4a8773(0x1b3),'10XJZHgl',_0x4a8773(0x23d),_0x4a8773(0x155),_0x4a8773(0x219),_0x4a8773(0x15c),'nezumi-standalone',_0x4a8773(0x1be),_0x4a8773(0x11a),'name',_0x4a8773(0x1eb),'blur',_0x4a8773(0x1b5),_0x4a8773(0x199),_0x4a8773(0x206),_0x4a8773(0x16e),_0x4a8773(0x16d),_0x4a8773(0x1fe),_0x4a8773(0x10b),_0x4a8773(0x1ef),_0x4a8773(0x25a),_0x4a8773(0x1d8),_0x4a8773(0x224),_0x4a8773(0x23e),_0x4a8773(0x231),_0x4a8773(0x1d1),_0x4a8773(0x154),_0x4a8773(0x124),'/index.html',_0x4a8773(0x10f),_0x4a8773(0x1b9),'open',_0x4a8773(0x165),_0x4a8773(0x193),_0x4a8773(0x20c),_0x4a8773(0x1b0),'getImageData',_0x4a8773(0x108),_0x4a8773(0x1c2),'\x20active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn',_0x4a8773(0x113),_0x4a8773(0x15d),_0x4a8773(0x1b7),_0x4a8773(0x14c),'(((.+)+)+)+$',_0x4a8773(0x23a),'.apng',_0x4a8773(0x191),_0x4a8773(0x184),_0x4a8773(0x22d),_0x4a8773(0x252),'このレイヤーを削除',_0x4a8773(0x129),_0x4a8773(0x275),_0x4a8773(0x237),_0x4a8773(0x27c),_0x4a8773(0x1db),_0x4a8773(0x1a3),_0x4a8773(0x24d),'unshift',_0x4a8773(0x1e1),_0x4a8773(0x105),_0x4a8773(0x1d3),'pointerType',_0x4a8773(0x1ac),'resize',_0x4a8773(0x1ea),'>四角ペン</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22circle\x22','ontouchcancel',_0x4a8773(0x1f6),'rgba(',_0x4a8773(0x209),_0x4a8773(0x1c3),_0x4a8773(0x1a8),_0x4a8773(0x13a),_0x4a8773(0x20e),_0x4a8773(0x133),_0x4a8773(0x1cf),_0x4a8773(0x248),_0x4a8773(0x1ae),_0x4a8773(0x232),_0x4a8773(0x161),_0x4a8773(0x222),_0x4a8773(0x256),'position',_0x4a8773(0x249),_0x4a8773(0x1cd),_0x4a8773(0x213),'trim',_0x4a8773(0x21a),_0x4a8773(0x12b),_0x4a8773(0x26b),'matches','src',_0x4a8773(0x26d),_0x4a8773(0x166),_0x4a8773(0x120),_0x4a8773(0x242),_0x4a8773(0x1e3),_0x4a8773(0x12c),_0x4a8773(0x132),_0x4a8773(0x16c),_0x4a8773(0x241),_0x4a8773(0x160),_0x4a8773(0x135),_0x4a8773(0x12a),_0x4a8773(0x22b),'palette-toolbar',_0x4a8773(0x268),_0x4a8773(0x1c9),_0x4a8773(0x1f3),_0x4a8773(0x20a),_0x4a8773(0x147),'round','\x20selected',_0x4a8773(0x24f),_0x4a8773(0x1ab),'layer-thumb',_0x4a8773(0x254),_0x4a8773(0x18d),_0x4a8773(0x189),_0x4a8773(0x128),_0x4a8773(0x163),_0x4a8773(0x175),_0x4a8773(0x157),_0x4a8773(0x281),'animSpeedRange','new-project-dialog',_0x4a8773(0x1b1),_0x4a8773(0x218),'\x0a---NEZUMI_METADATA_START---\x0a',_0x4a8773(0x131),_0x4a8773(0x17b),_0x4a8773(0x24c),_0x4a8773(0x271),_0x4a8773(0x1d5),_0x4a8773(0x26c),_0x4a8773(0x18b),_0x4a8773(0x1e8),_0x4a8773(0x253),_0x4a8773(0x145),_0x4a8773(0x270),_0x4a8773(0x119),_0x4a8773(0x17c),_0x4a8773(0x1d0),_0x4a8773(0x1dc),_0x4a8773(0x1a2),'onupgradeneeded',_0x4a8773(0x196),_0x4a8773(0x16f),_0x4a8773(0x1f5),_0x4a8773(0x12f),_0x4a8773(0x1cc),'transaction',_0x4a8773(0x257),'#ccc',_0x4a8773(0x192),_0x4a8773(0x1e0),'createObjectStore',_0x4a8773(0x1e6),_0x4a8773(0x25b),'select',_0x4a8773(0x1d6),_0x4a8773(0x15e),_0x4a8773(0x140),_0x4a8773(0x27f),_0x4a8773(0x211),'clientY','hidden',_0x4a8773(0x1ee),'nezumi-animation.apng',_0x4a8773(0x276),_0x4a8773(0x1d2),_0x4a8773(0x27e),_0x4a8773(0x159),_0x4a8773(0x126),_0x4a8773(0x136),_0x4a8773(0x143),_0x4a8773(0x13f),_0x4a8773(0x238),_0x4a8773(0x200),_0x4a8773(0x1a1),_0x4a8773(0x225),_0x4a8773(0x1de),_0x4a8773(0x1fb),_0x4a8773(0x210),_0x4a8773(0x234),_0x4a8773(0x1ec),_0x4a8773(0x13e),_0x4a8773(0x264),_0x4a8773(0x114),_0x4a8773(0x235),_0x4a8773(0x223),_0x4a8773(0x194),_0x4a8773(0x202),'ダークテーマに切替',_0x4a8773(0x121),_0x4a8773(0x1ff),'div',_0x4a8773(0x26f),'#ffff00',_0x4a8773(0x205),'803070QsWoRd','#008000','18959ijBvyJ','スタンドアロン形式のプロジェクトを読み込みました:\x20','10yvZgvB',_0x4a8773(0x177),_0x4a8773(0x130),_0x4a8773(0x15f),'42359mylrOA',_0x4a8773(0x106),_0x4a8773(0x11e),'39662ysLMsz',_0x4a8773(0x19c),'#palette-penSize',_0x4a8773(0x1c4),_0x4a8773(0x15a),_0x4a8773(0x214),'rgba(0,0,0,0.3)',_0x4a8773(0x1da),_0x4a8773(0x149),_0x4a8773(0x22f),'push',_0x4a8773(0x170),_0x4a8773(0x179),_0x4a8773(0x1fc),_0x4a8773(0x27b),_0x4a8773(0x125),'onsuccess',_0x4a8773(0x260),_0x4a8773(0x116),'arc',_0x4a8773(0x17f),_0x4a8773(0x251),_0x4a8773(0x21c),_0x4a8773(0x1e2),'#newProjW','releasePointerCapture',_0x4a8773(0x1ad),'877944UnHeyA','render','frame-item',_0x4a8773(0x19a),_0x4a8773(0x1c6),_0x4a8773(0x277),_0x4a8773(0x1b4),_0x4a8773(0x17e),'layerCount',_0x4a8773(0x1fd),_0x4a8773(0x150),_0x4a8773(0x1df),'clientX',_0x4a8773(0x197),_0x4a8773(0x1b2),'_spritesheet.png',_0x4a8773(0x18c),_0x4a8773(0x1a0),_0x4a8773(0x19b),'project',_0x4a8773(0x115),_0x4a8773(0x110),_0x4a8773(0x204),_0x4a8773(0x1a7),'length',_0x4a8773(0x188),_0x4a8773(0x1f7),_0x4a8773(0x182),_0x4a8773(0x137),_0x4a8773(0x278),_0x4a8773(0x142),_0x4a8773(0x103),'flex',_0x4a8773(0x1c7),_0x4a8773(0x178),_0x4a8773(0x236),_0x4a8773(0x123),_0x4a8773(0x258),_0x4a8773(0x22c),_0x4a8773(0x11c),_0x4a8773(0x117),_0x4a8773(0x122),_0x4a8773(0x1cb),_0x4a8773(0x18a),_0x4a8773(0x1f4),_0x4a8773(0x183),_0x4a8773(0x16a),'1663240xvhpIM',_0x4a8773(0x112),_0x4a8773(0x185),_0x4a8773(0x1f1),_0x4a8773(0x274),_0x4a8773(0x1c1),_0x4a8773(0x11b),'span','#palette-alphaSlider',_0x4a8773(0x267),'9167048BqRjmr',_0x4a8773(0x152),_0x4a8773(0x153),_0x4a8773(0x23c),_0x4a8773(0x134),_0x4a8773(0x1e4),'100vw','data-theme',_0x4a8773(0x1fa)];return a0_0x5ba6=function(){return _0x284c6d;},a0_0x5ba6();}const a0_0x38aafa=a0_0x1925;(function(_0x1124a6,_0xe427e8){const _0x41bc17=a0_0x56c5,_0x4a1a3c=a0_0xce2f,_0x40b2bf=a0_0x1925,_0x2b30fd=_0x1124a6();while(!![]){try{const _0x1958d0=parseInt(_0x40b2bf(0x26d))/0x1*(parseInt(_0x40b2bf(0x20a))/0x2)+-parseInt(_0x40b2bf(0x24d))/0x3+-parseInt(_0x40b2bf(0x284))/0x4+parseInt(_0x40b2bf(0x1cb))/0x5+-parseInt(_0x40b2bf(0x1e9))/0x6+-parseInt(_0x40b2bf(0x2b9))/0x7*(parseInt(_0x40b2bf(0x26e))/0x8)+parseInt(_0x40b2bf(0x28d))/0x9*(parseInt(_0x40b2bf(0x271))/0xa);if(_0x1958d0===_0xe427e8)break;else _0x2b30fd[_0x4a1a3c(0x19e)](_0x2b30fd[_0x41bc17(0x128)]());}catch(_0x28df2d){_0x2b30fd[_0x4a1a3c(0x19e)](_0x2b30fd[_0x4a1a3c(0x1f9)]());}}}(a0_0x5ad1,0x65d10));const a0_0x53f6c7=(function(){const _0x163e90=(function(){let _0x51e2b3=!![];return function(_0x2e79ab,_0x57e272){const _0x5ee8a2=_0x51e2b3?function(){const _0xa1d852=a0_0x3f33;if(_0x57e272){const _0x5ec799=_0x57e272[_0xa1d852(0x171)](_0x2e79ab,arguments);return _0x57e272=null,_0x5ec799;}}:function(){};return _0x51e2b3=![],_0x5ee8a2;};}()),_0x301162=(function(){const _0x57da44=_0x163e90(this,function(){const _0x53ba21=a0_0x2578,_0x1db855=a0_0x3f33;return _0x57da44[_0x1db855(0xe0)]()[_0x1db855(0x116)](_0x1db855(0x1cc))[_0x1db855(0xe0)]()[_0x1db855(0x198)](_0x57da44)[_0x1db855(0x116)](_0x53ba21(0x217));});_0x57da44();let _0x27b3c1=!![];return function(_0x55d3ec,_0x9075cf){const _0x261431=_0x27b3c1?function(){const _0x1848fb=a0_0x35c9;if(_0x9075cf){const _0x208a32=_0x9075cf[_0x1848fb(0x1e8)](_0x55d3ec,arguments);return _0x9075cf=null,_0x208a32;}}:function(){};return _0x27b3c1=![],_0x261431;};}()),_0x4f53d5=(function(){const _0x5280d2=_0x301162(this,function(){const _0x469a2a=a0_0x111e,_0xe41e9c=a0_0x35c9,_0x2a230a=a0_0x56c5;return _0x5280d2[_0xe41e9c(0x17b)]()[_0x469a2a(0x1a2)](_0x2a230a(0x142))[_0x2a230a(0xe6)]()[_0x2a230a(0x11d)](_0x5280d2)[_0x2a230a(0x1ef)](_0x2a230a(0x142));});_0x5280d2();let _0x3363e2=!![];return function(_0x29cb0b,_0x22de9d){const _0xf9c9f2=_0x3363e2?function(){const _0x5c6a95=a0_0xce2f;if(_0x22de9d){const _0x442c42=_0x22de9d[_0x5c6a95(0x106)](_0x29cb0b,arguments);return _0x22de9d=null,_0x442c42;}}:function(){};return _0x3363e2=![],_0xf9c9f2;};}()),_0x42cc66=_0x4f53d5(this,function(){const _0x3c77dd=a0_0x56c5,_0xcf4b00=a0_0xce2f;return _0x42cc66[_0x3c77dd(0xe6)]()[_0x3c77dd(0x1ef)](_0xcf4b00(0xe4))[_0xcf4b00(0x163)]()[_0xcf4b00(0x1b4)](_0x42cc66)[_0xcf4b00(0x153)](_0xcf4b00(0xe4));});_0x42cc66();let _0x48bada=!![];return function(_0x1e3e21,_0x2f8ebe){const _0x20249a=_0x48bada?function(){const _0x1b442b=a0_0x1925;if(_0x2f8ebe){const _0x21adb1=_0x2f8ebe[_0x1b442b(0x2b0)](_0x1e3e21,arguments);return _0x2f8ebe=null,_0x21adb1;}}:function(){};return _0x48bada=![],_0x20249a;};}()),a0_0x5506da=a0_0x53f6c7(this,function(){const _0x6adf3a=a0_0x35c9,_0x350ee6=a0_0xce2f,_0x41e7ea=a0_0x1925;return a0_0x5506da[_0x41e7ea(0x279)]()[_0x41e7ea(0x1ac)](_0x41e7ea(0x197))[_0x350ee6(0x163)]()[_0x41e7ea(0x28c)](a0_0x5506da)[_0x41e7ea(0x1ac)](_0x6adf3a(0x102));});a0_0x5506da();let canvas=document[a0_0x38aafa(0x275)](a0_0x5049d9(0x20f)),ctx=canvas[a0_0x38aafa(0x2c6)]('2d');const wrapper=document[a0_0x38aafa(0x275)](a0_0x38aafa(0x1cf));let cellSize=0x14,currentColor=a0_0x38aafa(0x265),currentTool=a0_0x38aafa(0x182),penSize=0x1,penMode=a0_0x38aafa(0x2e2),layers=[],activeLayer=0x0,layerHistories=[],layerRedoStacks=[],currentWidth=0x10,currentHeight=0x10,projects=[],activeProject=0x0,isDrawing=![];function createProject(_0x1ba4cf=0x10,_0x15a24e=0x10,_0x2f646e=''){const _0x2ebaf6=a0_0x5049d9,_0x126b94=a0_0x38aafa;let _0x4f1971=0x14,_0x38673d=[],_0x59a1a4=[],_0x4d6f1d=[],_0x18c085=document[_0x126b94(0x1d6)](_0x126b94(0x19d));_0x18c085[_0x126b94(0x1b8)]=_0x1ba4cf*_0x4f1971,_0x18c085[_0x126b94(0x27c)]=_0x15a24e*_0x4f1971,_0x38673d[_0x126b94(0x278)](_0x18c085),_0x59a1a4[_0x126b94(0x278)]([]),_0x4d6f1d[_0x126b94(0x278)]([]);let _0x3be0f7={'layers':_0x38673d,'activeLayer':0x0,'layerHistories':_0x59a1a4,'layerRedoStacks':_0x4d6f1d};return{'frames':[_0x3be0f7],'activeFrame':0x0,'width':_0x1ba4cf,'height':_0x15a24e,'name':_0x2f646e||'画像'+(projects[_0x2ebaf6(0xf5)]+0x1)};}function a0_0x2ab8(){const _0x5ca5d1=['#ff0000','color-palette','catch','ライトテーマに切替','4OuBbNc','1780284xxbNLL','active','addFrame','UPNG','#800080','pointerup','onmousemove','stroke','width','.toggle-btn','isArray','penMode','36ZtAmQQ','strokeStyle','.tool-btn','クリックで名前を編集','#ff69b4','subarray','onchange','alignItems','onmousedown','このブラウザはWebCodecsによるWEBPアニメーションに対応していません。','menu-toggle-btn','ファイルにプロジェクトメタデータが見つかりませんでした。読み込みできません。','onload','この色をパレットから削除','top','transparent','revokeObjectURL','2464389GJhbJx','isFinite','592999asGDsW','15948648zMXkzo','.section.collapsible\x20.section-content','alphaSlider','light','nezumi-theme','252qMzMxb','oninput','207RSftqX','className','clearRect','finished','.webm','398826GXnyRZ','slice','justifyContent','fillRect','deltaY','insertBefore','match','#00ff00','hypot','nezumi-animation.gif','onblur','458555ntXURF','min','grabbing','#cccccc','.section.collapsible\x20.toggle-btn','keyval','save','#palette-penMode','center','closePath','activeLayer','flush','30CuXAKs','#palette-alphaValue','5zFczyy','pointermove','IndexedDBからの読み込みに失敗したチュー…','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22undo()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>undo</span>\x20戻す\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22redo()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>redo</span>\x20戻すを戻す\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','パレットに色を追加','GIFに変換できる画像がありません。','image/','palette-alphaValue','frames','6806842iHrSfp','#808000','fillStyle','startsWith','297909tKqlgR','下に移動','aria-pressed','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>新しい画像のサイズ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>名前:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22画像','>1</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222\x22','\x22\x20data-tool=\x22eraser\x22\x20onclick=\x22setTool(\x27eraser\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>delete</span>消しゴム</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn','preventDefault','files','documentElement','IndexedDBからプロジェクトを読み込んだチュー！','#000000','pan','\x22\x20style=\x22vertical-align:\x20middle;\x20width:70px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22palette-alphaValue\x22>','decode','zIndex','14uGmiOY','755440XfXBlo','result','remove','changedTouches','pen','(((.+)+)+)+$','>4</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22palette-penMode\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22square\x22','4802050CMYWrO','194866cGotcP','100vh','フレーム間の余白(px)\x20を指定（例:\x200）','name','dark','80px','boolean','globalAlpha','selected','#444444','#palette-toolbar\x20.tool-btn','nezumi-sketch.msketch','34885elZGIG','8fhqvtN','main-container','projectList','9234FWWyNz','beforeunload','themeToggleBtn','スプライトシートの拡大率を指定（例:\x201\x20=\x20元サイズ,\x202\x20=\x202倍）','20vqKqYp','textContent','touchstart','activeFrame','height','16zTIUwW','animSpeedValue','フレームがありません','application/json','appendChild','project-name-edit','replace','image/png','disabled','プロジェクトがありません','読込エラー','nezumi-sketch-save','#00ffff','getBoundingClientRect','close','oncomplete','project-name','readonly','px)\x20scale(','target','parse','menu-toggle-btn-close','保存エラー','保存に失敗したチュー:','addEventListener','createElement','palette-del-btn','60575XyUkXJ','メタデータが見つかりませんでした','#c0c0c0','レイヤー','DOMContentLoaded','innerHTML','touchend','<span\x20style=\x22font-size:13px;color:#888;\x22>透明</span>','application/octet-stream','canvas-container','1391112hIqzLW','log','getItem','add','abs','value','#0000ff','configure','#newProjCancelBtn','#ffa500','crosshair','beginPath','20369327ugAmOu','frameCount','onmouseup','>2</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x223\x22','上に移動','#newProjName','Shift','then','/about?terms=true','warn','72fOvfXp','nezumi-sketch-db','10376090telBQC','moveTo','#ffffff','10188tVdTJu','filter','alphaValue','image','toDataURL','3313824QVIVOZ','layer-item','transform','2937692dmuIuo','split','#800000','eraser','querySelector','getAttribute','.section-content','readwrite','740250Xwpmxw','layerList','stringify','247055AHBsKT','buffer','VideoEncoder','putImageData','nezumi_about_visited','#newProjH','click','GIF','readAsText','button','number','onkeydown','left','setItem','3000','querySelectorAll','12EnOyEt','106659LdiXrH','21294LqkmrD','onerror','classList','error','image/jpeg','clear','undefined','pathname','lineTo','dataset','cursor','Enter','body','splice','auto','key','block','penSize','innerWidth','drawImage','webp','palette-add-btn','onclick','layers','repeating-conic-gradient(#eee\x200%\x2025%,\x20#fff\x200%\x2050%)\x2050%\x20/\x2016px\x2016px','background','\x22\x20data-tool=\x22pen\x22\x20onclick=\x22setTool(\x27pen\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>edit</span>ペン</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn','video/webm','grab','restore','readAsArrayBuffer','encode','12ShJjVl','join','removeChild','\x22\x20data-tool=\x22fill\x22\x20onclick=\x22setTool(\x27fill\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>format_color_fill</span>塗りつぶし</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20太さ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22palette-penSize\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x221\x22','6565944uViiCR','1680837BFiCxr','image/apng','lib/gif.worker.js','crossOrigin','px,\x20','114TnziLr','zoomValue','ontouchmove','167534FkaBym','>丸ペン</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20透明度:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22palette-alphaSlider\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','data','palette-penSize','push','.palette-color','vp8','map','replaceWith','href','3747624BaPwRo','9UjjHrQ','#888888','frame-thumb','100%','touchAction','touchcancel','delete','sidebar','693928GhthjY','search','570976NcBfBP','4259088UUBueS','nezumi-animation','toString','jpg','touchmove','touches','WebCodecs','text','keydown','sidebar-open','square','get','title','1023636OyXKxu','matchMedia','byteLength','973508Cqoyrz','style','removeEventListener','6685nRmUxK','layer-btn','translate(','140942YGNfmW','firstChild','apply','frame-btn','shift','keyup','has','nezumi-projects','constructor','nezumi-palette','#00000000','none','display','pointerdown','onmouseleave','pointerId','put','wheel','721GRwNEs','stopPropagation','getContext','palette-color','3BIZZMa','\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>幅:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>高さ:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>作成</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>キャンセル</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','forEach','type','nezumi-spritesheet','.gif','ontouchstart','fixed','プロジェクトをIndexedDBに保存したチュー！','1662XODraD','project-item','63psIyud','99eaBytn','canvas','setPointerCapture','overflow','floor','input','zoomSlider','jpeg','all','#000080','download','#newProjOkBtn','parentNode','ontouchend','palette-alphaSlider','projects','14236XjzBgT','contains','ファイルの読み込みに失敗しました。','3bZOlqa','destination-out','focus'];a0_0x2ab8=function(){return _0x5ca5d1;};return a0_0x2ab8();}function updateProjectUI(){const _0x2ba15d=a0_0x35c9,_0x59d25b=a0_0x56c5,_0x4587fd=a0_0x5049d9,_0xf7b6b2=a0_0x38aafa,_0x1fda81=document[_0xf7b6b2(0x275)](_0xf7b6b2(0x228));_0x1fda81[_0xf7b6b2(0x25f)]='';for(let _0x3f459c=0x0;_0x3f459c<projects[_0xf7b6b2(0x1c4)];_0x3f459c++){const _0x49217f=document[_0x4587fd(0x1f6)](_0x2ba15d(0xd5));_0x49217f[_0xf7b6b2(0x252)]=_0xf7b6b2(0x2bc)+(_0x3f459c===activeProject?_0xf7b6b2(0x1e4):''),_0x49217f[_0xf7b6b2(0x234)]=()=>{activeProject=_0x3f459c,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();};const _0xb787c7=document[_0x4587fd(0x1f6)](_0xf7b6b2(0x28e));_0xb787c7[_0xf7b6b2(0x252)]=_0xf7b6b2(0x1d4),_0xb787c7[_0xf7b6b2(0x221)]=projects[_0x3f459c][_0xf7b6b2(0x2e6)]||'画像'+(_0x3f459c+0x1),_0xb787c7[_0xf7b6b2(0x198)]=_0x4587fd(0x210),_0xb787c7[_0x59d25b(0xbf)]=_0x4e18cb=>{const _0x4b92e0=_0xf7b6b2;_0x4e18cb[_0x4b92e0(0x214)](),editProjectName(_0x3f459c,_0xb787c7);},_0x49217f[_0xf7b6b2(0x237)](_0xb787c7);const _0x2bbf00=document[_0xf7b6b2(0x1d6)](_0xf7b6b2(0x2a4));_0x2bbf00[_0xf7b6b2(0x221)]='削除',_0x2bbf00[_0xf7b6b2(0x252)]=_0xf7b6b2(0x27a),_0x2bbf00[_0x4587fd(0x1d1)]=projects[_0xf7b6b2(0x1c4)]===0x1,_0x2bbf00[_0xf7b6b2(0x234)]=_0x58f0fe=>{const _0xf2e64e=_0xf7b6b2;_0x58f0fe[_0xf2e64e(0x214)](),removeProjectAt(_0x3f459c);},_0x49217f[_0x4587fd(0x1c2)](_0x2bbf00),_0x1fda81[_0xf7b6b2(0x237)](_0x49217f);}document[_0xf7b6b2(0x275)](_0xf7b6b2(0x1ed))[_0x2ba15d(0xf3)]='('+projects[_0xf7b6b2(0x1c4)]+'枚)';}function editProjectName(_0x696c3b,_0x3b7f27){const _0xe0ed45=a0_0x5049d9,_0x48efb9=a0_0x38aafa,_0x5970f9=document[_0x48efb9(0x1d6)](_0x48efb9(0x295));_0x5970f9[_0x48efb9(0x17d)]=_0x48efb9(0x23e),_0x5970f9[_0xe0ed45(0x12e)]=projects[_0x696c3b][_0x48efb9(0x2e6)]||'画像'+(_0x696c3b+0x1),_0x5970f9[_0xe0ed45(0x15c)]=_0x48efb9(0x186),_0x5970f9[_0xe0ed45(0x1bb)][_0x48efb9(0x1b8)]=_0x48efb9(0x29d),_0x5970f9[_0x48efb9(0x1f4)]=()=>{const _0x57b536=_0x48efb9;projects[_0x696c3b][_0x57b536(0x2e6)]=_0x5970f9[_0x57b536(0x24e)][_0x57b536(0x19b)]()||'画像'+(_0x696c3b+0x1),updateProjectUI();},_0x5970f9[_0x48efb9(0x2ca)]=_0x39e6f4=>{const _0x34f6f0=_0xe0ed45,_0x1872ad=_0x48efb9;if(_0x39e6f4[_0x34f6f0(0x181)]===_0x1872ad(0x276))_0x5970f9[_0x1872ad(0x1ef)]();},_0x3b7f27[_0x48efb9(0x2e8)](_0x5970f9),_0x5970f9[_0x48efb9(0x2be)](),_0x5970f9[_0x48efb9(0x1aa)]();}function showNewProjectDialog(_0x275e20){const _0x3a2b5f=a0_0x56c5,_0x14ee4f=a0_0x5049d9,_0x4c757b=a0_0x38aafa;let _0x39b2dd=document[_0x4c757b(0x275)](_0x14ee4f(0x14f));if(_0x39b2dd)_0x39b2dd[_0x4c757b(0x187)]();const _0x3667b5=document[_0x4c757b(0x1d6)](_0x4c757b(0x2c9));_0x3667b5['id']=_0x4c757b(0x1db),_0x3667b5[_0x4c757b(0x1f8)][_0x4c757b(0x1f7)]=_0x4c757b(0x1e3),_0x3667b5[_0x4c757b(0x1f8)][_0x4c757b(0x2a7)]='0',_0x3667b5[_0x4c757b(0x1f8)][_0x14ee4f(0xf8)]='0',_0x3667b5[_0x3a2b5f(0x178)][_0x4c757b(0x1b8)]=_0x14ee4f(0x183),_0x3667b5[_0x3a2b5f(0x178)][_0x4c757b(0x27c)]=_0x4c757b(0x1f1),_0x3667b5[_0x4c757b(0x1f8)][_0x14ee4f(0x142)]=_0x4c757b(0x180),_0x3667b5[_0x4c757b(0x1f8)][_0x4c757b(0x2f0)]=_0x4c757b(0x20c),_0x3667b5[_0x4c757b(0x1f8)][_0x4c757b(0x19e)]=_0x4c757b(0x243),_0x3667b5[_0x4c757b(0x1f8)][_0x4c757b(0x1fd)]=_0x4c757b(0x243),_0x3667b5[_0x14ee4f(0x1bb)][_0x4c757b(0x24b)]=_0x4c757b(0x1c9),_0x3667b5[_0x4c757b(0x25f)]=_0x14ee4f(0x156)+(projects[_0x14ee4f(0xf5)]+0x1)+_0x14ee4f(0x21e),document[_0x14ee4f(0x1c5)][_0x4c757b(0x237)](_0x3667b5),_0x3667b5[_0x4c757b(0x2c0)](_0x4c757b(0x2e4))[_0x4c757b(0x234)]=()=>{const _0x3f98a1=_0x3a2b5f,_0x4f2238=_0x14ee4f,_0x10bcf0=_0x4c757b,_0x54fc18=parseInt(_0x3667b5[_0x10bcf0(0x2c0)](_0x4f2238(0x129))[_0x10bcf0(0x24e)],0xa),_0x33ebe1=parseInt(_0x3667b5[_0x10bcf0(0x2c0)](_0x10bcf0(0x1b0))[_0x4f2238(0x12e)],0xa),_0x103b39=_0x3667b5[_0x10bcf0(0x2c0)](_0x3f98a1(0x1d4))[_0x10bcf0(0x24e)][_0x10bcf0(0x19b)]();_0x3667b5[_0x10bcf0(0x187)]();if(_0x275e20)_0x275e20(_0x54fc18,_0x33ebe1,_0x103b39);},_0x3667b5[_0x4c757b(0x2c0)](_0x4c757b(0x1f9))[_0x4c757b(0x234)]=()=>{const _0xba7a1a=_0x14ee4f;_0x3667b5[_0xba7a1a(0x1e9)]();};}function addProject(){showNewProjectDialog((_0x2536ed,_0x2c1e77,_0x1481ec)=>{const _0x41e09f=a0_0xce2f,_0xa6faa4=a0_0x1925;if(!Number[_0xa6faa4(0x28b)](_0x2536ed)||_0x2536ed<0x1)_0x2536ed=0x10;if(!Number[_0xa6faa4(0x28b)](_0x2c1e77)||_0x2c1e77<0x1)_0x2c1e77=0x10;projects[_0xa6faa4(0x278)](createProject(_0x2536ed,_0x2c1e77,_0x1481ec)),activeProject=projects[_0x41e09f(0xf5)]-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();});}function removeProjectAt(_0x5ee66c){const _0x4d09bf=a0_0x38aafa;if(projects[_0x4d09bf(0x1c4)]<=0x1)return;projects[_0x4d09bf(0x2b7)](_0x5ee66c,0x1);if(activeProject>=projects[_0x4d09bf(0x1c4)])activeProject=projects[_0x4d09bf(0x1c4)]-0x1;updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentProject(){return projects[activeProject];}function updateFrameUI(){const _0x463414=a0_0x56c5,_0x3d66ca=a0_0x5049d9,_0x2c14ff=a0_0x38aafa,_0x4dd3e8=document[_0x463414(0x182)](_0x2c14ff(0x1c6)),_0x2f90bd=getCurrentProject();_0x4dd3e8[_0x463414(0x175)]='';for(let _0xac4fa9=0x0;_0xac4fa9<_0x2f90bd[_0x3d66ca(0x17f)][_0x463414(0xd7)];_0xac4fa9++){const _0x42928c=document[_0x2c14ff(0x1d6)](_0x2c14ff(0x2c9));_0x42928c[_0x2c14ff(0x252)]=_0x2c14ff(0x254)+(_0xac4fa9===_0x2f90bd[_0x2c14ff(0x2a5)]?_0x2c14ff(0x1e4):''),_0x42928c[_0x2c14ff(0x234)]=()=>{const _0x39935a=_0x2c14ff;_0x2f90bd[_0x39935a(0x2a5)]=_0xac4fa9,updateFrameUI(),updateLayerUI(),redrawAll();};const _0x2b05b0=document[_0x3d66ca(0x1f6)](_0x2c14ff(0x19d));_0x2b05b0[_0x2c14ff(0x252)]=_0x2c14ff(0x1da),_0x2b05b0[_0x2c14ff(0x1b8)]=0x20,_0x2b05b0[_0x2c14ff(0x27c)]=0x20;let _0x283cb1=_0x2b05b0[_0x2c14ff(0x2c6)]('2d');_0x283cb1[_0x2c14ff(0x22d)](0x0,0x0,0x20,0x20);for(let _0x14eb38=0x0;_0x14eb38<_0x2f90bd[_0x3d66ca(0x17f)][_0xac4fa9][_0x2c14ff(0x262)][_0x463414(0xd7)];_0x14eb38++){_0x283cb1[_0x2c14ff(0x1ff)](_0x2f90bd[_0x2c14ff(0x2b3)][_0xac4fa9][_0x2c14ff(0x262)][_0x14eb38],0x0,0x0,_0x2b05b0[_0x2c14ff(0x1b8)],_0x2b05b0[_0x2c14ff(0x27c)]);}_0x42928c[_0x3d66ca(0x1c2)](_0x2b05b0);const _0x1051eb=document[_0x3d66ca(0x1f6)](_0x2c14ff(0x28e));_0x1051eb[_0x2c14ff(0x221)]='F'+(_0xac4fa9+0x1),_0x42928c[_0x2c14ff(0x237)](_0x1051eb);const _0x38ba53=document[_0x2c14ff(0x1d6)](_0x463414(0x1e1));_0x38ba53[_0x2c14ff(0x221)]='削除',_0x38ba53[_0x2c14ff(0x252)]=_0x2c14ff(0x286),_0x38ba53[_0x2c14ff(0x256)]=_0x2f90bd[_0x2c14ff(0x2b3)][_0x2c14ff(0x1c4)]===0x1,_0x38ba53[_0x2c14ff(0x234)]=_0x1dd696=>{const _0xd84b24=_0x2c14ff;_0x1dd696[_0xd84b24(0x214)](),removeFrameAt(_0xac4fa9);},_0x42928c[_0x2c14ff(0x237)](_0x38ba53),_0x4dd3e8[_0x2c14ff(0x237)](_0x42928c);}document[_0x2c14ff(0x275)](_0x2c14ff(0x240))[_0x3d66ca(0x154)]='('+_0x2f90bd[_0x2c14ff(0x2b3)][_0x2c14ff(0x1c4)]+_0x2c14ff(0x2c4);}function addFrame(){const _0x45f74c=a0_0x56c5,_0x231224=a0_0x38aafa;let _0x5d33c3=getCurrentProject(),_0x47b836=_0x5d33c3[_0x231224(0x2b3)][_0x5d33c3[_0x231224(0x2a5)]],_0x54528f=_0x47b836[_0x231224(0x262)][_0x231224(0x294)](_0x3d7ad3=>{const _0x16fa9c=a0_0xce2f,_0x27e6c0=_0x231224;let _0xe6d747=document[_0x27e6c0(0x1d6)](_0x16fa9c(0x20f));return _0xe6d747[_0x27e6c0(0x1b8)]=_0x3d7ad3[_0x27e6c0(0x1b8)],_0xe6d747[_0x27e6c0(0x27c)]=_0x3d7ad3[_0x27e6c0(0x27c)],_0xe6d747[_0x27e6c0(0x2c6)]('2d')[_0x27e6c0(0x1ff)](_0x3d7ad3,0x0,0x0),_0xe6d747;}),_0x46bd35=_0x54528f[_0x231224(0x294)](()=>[]),_0x1af96=_0x54528f[_0x231224(0x294)](()=>[]),_0x3ee9ee={'layers':_0x54528f,'activeLayer':0x0,'layerHistories':_0x46bd35,'layerRedoStacks':_0x1af96};_0x5d33c3[_0x231224(0x2b3)][_0x231224(0x2b7)](_0x5d33c3[_0x231224(0x2a5)]+0x1,0x0,_0x3ee9ee),_0x5d33c3[_0x45f74c(0x1ca)]++,updateFrameUI(),updateLayerUI(),redrawAll();}function removeFrameAt(_0x4f39b4){const _0x389dc3=a0_0x56c5,_0x488d43=a0_0x5049d9,_0x5f060c=a0_0x38aafa;let _0x22ff73=getCurrentProject();if(_0x22ff73[_0x389dc3(0x145)][_0x5f060c(0x1c4)]<=0x1)return;_0x22ff73[_0x488d43(0x17f)][_0x488d43(0xed)](_0x4f39b4,0x1);if(_0x22ff73[_0x5f060c(0x2a5)]>=_0x22ff73[_0x389dc3(0x145)][_0x5f060c(0x1c4)])_0x22ff73[_0x488d43(0x12c)]=_0x22ff73[_0x5f060c(0x2b3)][_0x5f060c(0x1c4)]-0x1;updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentFrame(){const _0x2141cf=a0_0x38aafa;return getCurrentProject()[_0x2141cf(0x2b3)][getCurrentProject()[_0x2141cf(0x2a5)]];}function updateLayerUI(){const _0x217a62=a0_0x56c5,_0x2027e8=a0_0x5049d9,_0x4f6b19=a0_0x38aafa;let {layers:_0x214d95,activeLayer:_0x430453}=getCurrentFrame();document[_0x4f6b19(0x275)](_0x2027e8(0x118))[_0x4f6b19(0x221)]='('+_0x214d95[_0x2027e8(0xf5)]+'枚)';const _0x26cf4d=document[_0x4f6b19(0x275)](_0x4f6b19(0x23b));_0x26cf4d[_0x2027e8(0x1ea)]='';for(let _0x350254=_0x214d95[_0x4f6b19(0x1c4)]-0x1;_0x350254>=0x0;_0x350254--){const _0x39af96=document[_0x4f6b19(0x1d6)](_0x2027e8(0x1f1));_0x39af96[_0x2027e8(0x15c)]=_0x4f6b19(0x2d7)+(_0x350254===_0x430453?_0x4f6b19(0x1e4):''),_0x39af96[_0x2027e8(0x19d)]=_0x371b50=>{const _0x48e575=a0_0x56c5,_0x39b1fb=_0x4f6b19;if(_0x371b50[_0x39b1fb(0x2e5)][_0x39b1fb(0x22b)][_0x48e575(0xbc)](_0x39b1fb(0x20e)))return;getCurrentFrame()[_0x39b1fb(0x1b5)]=_0x350254,updateLayerUI(),redrawAll();};const _0x23f022=document[_0x217a62(0xdd)](_0x4f6b19(0x19d));_0x23f022[_0x4f6b19(0x252)]=_0x4f6b19(0x1f2),_0x23f022[_0x4f6b19(0x1b8)]=0x20,_0x23f022[_0x4f6b19(0x27c)]=0x20;let _0x42e127=_0x23f022[_0x4f6b19(0x2c6)]('2d');_0x42e127[_0x2027e8(0x172)](0x0,0x0,0x20,0x20),_0x42e127[_0x4f6b19(0x1ff)](_0x214d95[_0x350254],0x0,0x0,_0x23f022[_0x4f6b19(0x1b8)],_0x23f022[_0x4f6b19(0x27c)]),_0x39af96[_0x4f6b19(0x237)](_0x23f022);const _0x4ff04f=document[_0x2027e8(0x1f6)](_0x4f6b19(0x28e));_0x4ff04f[_0x4f6b19(0x221)]=_0x4f6b19(0x2d6)+(_0x350254+0x1),_0x39af96[_0x4f6b19(0x237)](_0x4ff04f);const _0x1fdb6c=document[_0x4f6b19(0x1d6)](_0x4f6b19(0x2a4));_0x1fdb6c[_0x4f6b19(0x221)]='↑',_0x1fdb6c[_0x4f6b19(0x252)]=_0x4f6b19(0x20e),_0x1fdb6c[_0x2027e8(0x124)]=_0x2027e8(0x101),_0x1fdb6c[_0x4f6b19(0x256)]=_0x350254===_0x214d95[_0x4f6b19(0x1c4)]-0x1,_0x1fdb6c[_0x4f6b19(0x234)]=_0x723567=>{const _0x163970=a0_0x35c9,_0x2ab63f=_0x4f6b19;_0x723567[_0x163970(0x156)](),_0x350254<_0x214d95[_0x2ab63f(0x1c4)]-0x1&&swapLayer(_0x350254,_0x350254+0x1);},_0x39af96[_0x4f6b19(0x237)](_0x1fdb6c);const _0x3c87a7=document[_0x2027e8(0x1f6)](_0x2027e8(0x1bf));_0x3c87a7[_0x2027e8(0x154)]='↓',_0x3c87a7[_0x2027e8(0x15c)]=_0x4f6b19(0x20e),_0x3c87a7[_0x217a62(0xed)]=_0x2027e8(0x186),_0x3c87a7[_0x4f6b19(0x256)]=_0x350254===0x0,_0x3c87a7[_0x2027e8(0x19d)]=_0x37f144=>{const _0xc37a67=_0x4f6b19;_0x37f144[_0xc37a67(0x214)](),_0x350254>0x0&&swapLayer(_0x350254,_0x350254-0x1);},_0x39af96[_0x4f6b19(0x237)](_0x3c87a7);const _0x586780=document[_0x4f6b19(0x1d6)](_0x4f6b19(0x2a4));_0x586780[_0x4f6b19(0x221)]='削除',_0x586780[_0x4f6b19(0x252)]=_0x4f6b19(0x20e),_0x586780[_0x4f6b19(0x198)]=_0x2027e8(0xdf),_0x586780[_0x4f6b19(0x256)]=_0x214d95[_0x4f6b19(0x1c4)]===0x1,_0x586780[_0x4f6b19(0x234)]=_0x2ff7b0=>{const _0x1b78d=_0x4f6b19;_0x2ff7b0[_0x1b78d(0x214)](),removeLayerAt(_0x350254);},_0x39af96[_0x4f6b19(0x237)](_0x586780),_0x26cf4d[_0x4f6b19(0x237)](_0x39af96);}}function swapLayer(_0x50a349,_0x2fcb54){const _0x46595b=a0_0x5049d9,_0x9576d7=a0_0x38aafa;let _0x32b021=getCurrentFrame();[_0x32b021[_0x9576d7(0x262)][_0x50a349],_0x32b021[_0x9576d7(0x262)][_0x2fcb54]]=[_0x32b021[_0x9576d7(0x262)][_0x2fcb54],_0x32b021[_0x9576d7(0x262)][_0x50a349]],[_0x32b021[_0x9576d7(0x29c)][_0x50a349],_0x32b021[_0x46595b(0x195)][_0x2fcb54]]=[_0x32b021[_0x9576d7(0x29c)][_0x2fcb54],_0x32b021[_0x46595b(0x195)][_0x50a349]],[_0x32b021[_0x9576d7(0x2d0)][_0x50a349],_0x32b021[_0x9576d7(0x2d0)][_0x2fcb54]]=[_0x32b021[_0x9576d7(0x2d0)][_0x2fcb54],_0x32b021[_0x9576d7(0x2d0)][_0x50a349]];if(_0x32b021[_0x9576d7(0x1b5)]===_0x50a349)_0x32b021[_0x9576d7(0x1b5)]=_0x2fcb54;else{if(_0x32b021[_0x46595b(0x215)]===_0x2fcb54)_0x32b021[_0x9576d7(0x1b5)]=_0x50a349;}updateLayerUI(),redrawAll();}function removeLayerAt(_0x3c8bca){const _0xce95c1=a0_0x5049d9,_0x3e2508=a0_0x38aafa;let _0x8b8528=getCurrentFrame();if(_0x8b8528[_0x3e2508(0x262)][_0x3e2508(0x1c4)]<=0x1)return;_0x8b8528[_0x3e2508(0x262)][_0x3e2508(0x2b7)](_0x3c8bca,0x1),_0x8b8528[_0x3e2508(0x29c)][_0x3e2508(0x2b7)](_0x3c8bca,0x1),_0x8b8528[_0xce95c1(0x179)][_0xce95c1(0xed)](_0x3c8bca,0x1);if(_0x8b8528[_0x3e2508(0x1b5)]>=_0x8b8528[_0x3e2508(0x262)][_0x3e2508(0x1c4)])_0x8b8528[_0xce95c1(0x215)]=_0x8b8528[_0x3e2508(0x262)][_0x3e2508(0x1c4)]-0x1;updateLayerUI(),redrawAll();}function addLayer(){const _0x58e3a0=a0_0x5049d9,_0x42fb80=a0_0x38aafa;let _0x427ee0=getCurrentProject(),_0x3ad23b=getCurrentFrame(),_0x4ed9c7=document[_0x42fb80(0x1d6)](_0x42fb80(0x19d));_0x4ed9c7[_0x58e3a0(0x190)]=_0x427ee0[_0x58e3a0(0x190)]*cellSize,_0x4ed9c7[_0x42fb80(0x27c)]=_0x427ee0[_0x58e3a0(0x13b)]*cellSize,_0x3ad23b[_0x42fb80(0x262)][_0x42fb80(0x278)](_0x4ed9c7),_0x3ad23b[_0x42fb80(0x29c)][_0x42fb80(0x278)]([]),_0x3ad23b[_0x42fb80(0x2d0)][_0x58e3a0(0x19e)]([]),_0x3ad23b[_0x58e3a0(0x215)]=_0x3ad23b[_0x42fb80(0x262)][_0x58e3a0(0xf5)]-0x1,saveHistory(),updateLayerUI(),redrawAll();}function removeLayer(){const _0x5718e0=a0_0x56c5,_0x3bdf4d=a0_0x5049d9,_0x3eebd0=a0_0x38aafa;let _0x2ed21a=getCurrentFrame();if(_0x2ed21a[_0x3eebd0(0x262)][_0x3eebd0(0x1c4)]<=0x1)return;_0x2ed21a[_0x3bdf4d(0x13d)][_0x3bdf4d(0xed)](_0x2ed21a[_0x3eebd0(0x1b5)],0x1),_0x2ed21a[_0x3eebd0(0x29c)][_0x3eebd0(0x2b7)](_0x2ed21a[_0x3eebd0(0x1b5)],0x1),_0x2ed21a[_0x3eebd0(0x2d0)][_0x5718e0(0x1e6)](_0x2ed21a[_0x3eebd0(0x1b5)],0x1),_0x2ed21a[_0x3eebd0(0x1b5)]=Math[_0x3bdf4d(0x107)](0x0,_0x2ed21a[_0x3eebd0(0x1b5)]-0x1),updateLayerUI(),redrawAll();}function selectLayer(_0x1d564c){const _0x59eff8=a0_0x38aafa;getCurrentFrame()[_0x59eff8(0x1b5)]=parseInt(_0x1d564c),updateLayerUI();}let PALETTE_COLORS=[a0_0x38aafa(0x1f3),a0_0x38aafa(0x1ba),a0_0x38aafa(0x244),a0_0x38aafa(0x19a),a0_0x38aafa(0x281),a0_0x5049d9(0x1da),a0_0x38aafa(0x265),a0_0x38aafa(0x2c2),a0_0x38aafa(0x266),a0_0x5049d9(0x194),a0_0x38aafa(0x29a),a0_0x38aafa(0x296),a0_0x38aafa(0x291),a0_0x38aafa(0x1b9),a0_0x38aafa(0x1ee),a0_0x38aafa(0x202),a0_0x38aafa(0x26c),a0_0x38aafa(0x269),a0_0x38aafa(0x219),a0_0x5049d9(0x147),a0_0x38aafa(0x25b)],currentAlpha=0x1,animationTimer=null,animationDelay=0x12c,animationIndex=0x0;function playAnimation(){const _0x54074f=a0_0x5049d9,_0x4a39ff=a0_0x38aafa;let _0xca7a6d=getCurrentProject();if(!_0xca7a6d||!_0xca7a6d[_0x54074f(0x17f)]||_0xca7a6d[_0x4a39ff(0x2b3)][_0x4a39ff(0x1c4)]<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0x225caa=_0xca7a6d[_0x4a39ff(0x2b3)];animationTimer=setInterval(()=>{const _0x329756=_0x54074f,_0x326ede=_0x4a39ff;ctx[_0x329756(0x172)](0x0,0x0,canvas[_0x326ede(0x1b8)],canvas[_0x326ede(0x27c)]);let _0x3a5b0b=_0x225caa[animationIndex];for(let _0xe2f168=0x0;_0xe2f168<_0x3a5b0b[_0x326ede(0x262)][_0x326ede(0x1c4)];_0xe2f168++){ctx[_0x326ede(0x1ff)](_0x3a5b0b[_0x329756(0x13d)][_0xe2f168],0x0,0x0);}drawGrid(_0xca7a6d[_0x326ede(0x1b8)],_0xca7a6d[_0x326ede(0x27c)]),animationIndex=(animationIndex+0x1)%_0x225caa[_0x326ede(0x1c4)];},animationDelay);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll());}function a0_0x111e(_0x529723,_0x57a82f){_0x529723=_0x529723-0x87;const _0xd1792=a0_0x3c67();let _0x266377=_0xd1792[_0x529723];return _0x266377;}function setAnimationDelay(_0x2b4de5){const _0x5e63d7=a0_0x38aafa;_0x2b4de5=Math[_0x5e63d7(0x2c3)](0xa,parseInt(_0x2b4de5,0xa)||0x12c),animationDelay=_0x2b4de5,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x30d1fc){const _0x465404=a0_0x56c5,_0x448176=a0_0x5049d9,_0x151037=a0_0x38aafa;currentTool=_0x30d1fc,document[_0x151037(0x29b)](_0x151037(0x191))[_0x465404(0x14c)](_0x10b616=>{const _0x5af506=_0x465404,_0x304894=_0x151037;_0x10b616[_0x5af506(0x100)][_0x304894(0x29f)](_0x304894(0x1a9),_0x10b616[_0x304894(0x2ba)][_0x304894(0x1be)]===_0x30d1fc);}),document[_0x151037(0x29b)](_0x448176(0x16f))[_0x151037(0x1bd)](_0x41bf4e=>{const _0x48fd74=_0x448176,_0x700a5=_0x151037;_0x41bf4e[_0x48fd74(0x176)][_0x700a5(0x29f)](_0x700a5(0x1a9),_0x41bf4e[_0x700a5(0x2ba)][_0x700a5(0x1be)]===_0x30d1fc);}),_0x30d1fc===_0x151037(0x232)?canvas[_0x448176(0x1bb)][_0x448176(0x151)]=_0x151037(0x231):canvas[_0x151037(0x1f8)][_0x151037(0x2bd)]=_0x448176(0x10c);}function setPenSize(_0x3a61eb){const _0x1dc9d6=a0_0x5049d9,_0x10af33=a0_0x38aafa;penSize=parseInt(_0x3a61eb)||0x1;let _0x26bce8=document[_0x1dc9d6(0x192)](_0x10af33(0x1c3));if(_0x26bce8)_0x26bce8[_0x10af33(0x24e)]=penSize;let _0x149a37=document[_0x10af33(0x275)](_0x10af33(0x250));if(_0x149a37)_0x149a37[_0x10af33(0x24e)]=penSize;}function setPenMode(_0x4629b4){const _0x25b2dc=a0_0x38aafa;penMode=_0x4629b4;let _0x3c3a06=document[_0x25b2dc(0x275)](_0x25b2dc(0x23a));if(_0x3c3a06)_0x3c3a06[_0x25b2dc(0x24e)]=penMode;let _0x3f2f58=document[_0x25b2dc(0x275)](_0x25b2dc(0x1a1));if(_0x3f2f58)_0x3f2f58[_0x25b2dc(0x24e)]=penMode;}function a0_0x5ad1(){const _0x4c344e=a0_0x3f33,_0x40ae25=a0_0x111e,_0x185041=a0_0x35c9,_0x8639e8=a0_0x56c5,_0x7ba6cd=a0_0x5049d9,_0x118fcd=[_0x7ba6cd(0x1db),_0x7ba6cd(0x16a),_0x8639e8(0x1e6),_0x7ba6cd(0x125),_0x7ba6cd(0x18c),_0x8639e8(0xc1),_0x7ba6cd(0x165),_0x7ba6cd(0x1f0),_0x7ba6cd(0x151),_0x7ba6cd(0x18a),_0x7ba6cd(0x1d9),_0x7ba6cd(0x126),_0x7ba6cd(0x1b8),_0x7ba6cd(0x19a),_0x7ba6cd(0x107),_0x7ba6cd(0x1a6),_0x7ba6cd(0x181),_0x7ba6cd(0x162),_0x7ba6cd(0x191),_0x185041(0x1b2),_0x7ba6cd(0x1f1),_0x7ba6cd(0x17e),_0x7ba6cd(0x178),_0x8639e8(0x1c0),_0x7ba6cd(0x17c),_0x7ba6cd(0x226),_0x185041(0x224),_0x7ba6cd(0x179),_0x7ba6cd(0x1c9),_0x7ba6cd(0x21a),_0x7ba6cd(0x1f7),_0x7ba6cd(0xe1),_0x7ba6cd(0x1e3),_0x185041(0x1bf),_0x7ba6cd(0x170),_0x7ba6cd(0x158),_0x8639e8(0x165),_0x7ba6cd(0x22e),_0x7ba6cd(0xe8),_0x7ba6cd(0x142),_0x7ba6cd(0x123),_0x7ba6cd(0x1c6),_0x185041(0x188),_0x7ba6cd(0x1cd),_0x7ba6cd(0x1c4),_0x8639e8(0xf9),_0x8639e8(0x1a1),_0x7ba6cd(0x1f2),_0x40ae25(0x1e9),_0x7ba6cd(0x1c1),_0x8639e8(0xe0),_0x7ba6cd(0x114),_0x7ba6cd(0x11b),_0x185041(0x11e),_0x7ba6cd(0x237),_0x7ba6cd(0x144),_0x8639e8(0xab),_0x7ba6cd(0x122),_0x7ba6cd(0x148),_0x8639e8(0x114),_0x8639e8(0x110),_0x8639e8(0x10e),_0x8639e8(0x1c5),_0x7ba6cd(0x1b2),_0x7ba6cd(0x1e8),_0x7ba6cd(0x238),_0x7ba6cd(0x180),_0x7ba6cd(0x231),_0x7ba6cd(0x11a),_0x7ba6cd(0x1fd),_0x8639e8(0x1af),_0x7ba6cd(0x110),_0x7ba6cd(0xfc),_0x7ba6cd(0x1aa),_0x7ba6cd(0x233),_0x7ba6cd(0xf0),_0x7ba6cd(0x22f),_0x7ba6cd(0x224),_0x7ba6cd(0xdb),_0x7ba6cd(0x1af),_0x7ba6cd(0x100),_0x7ba6cd(0x219),_0x7ba6cd(0x14c),_0x185041(0x117),_0x7ba6cd(0x20e),_0x7ba6cd(0xf8),_0x8639e8(0x142),_0x8639e8(0xed),_0x7ba6cd(0x15e),_0x8639e8(0x1cb),_0x8639e8(0x1a0),_0x7ba6cd(0x188),_0x7ba6cd(0x20f),_0x185041(0x15b),_0x7ba6cd(0x160),_0x7ba6cd(0x10e),_0x7ba6cd(0x206),_0x7ba6cd(0x14d),_0x8639e8(0xd2),_0x8639e8(0xde),_0x7ba6cd(0x1a9),_0x8639e8(0x162),_0x7ba6cd(0xfe),_0x7ba6cd(0x169),_0x7ba6cd(0x19f),_0x7ba6cd(0xdc),_0x7ba6cd(0x173),_0x185041(0x130),_0x8639e8(0x1f9),_0x40ae25(0x1d6),_0x8639e8(0x1c9),_0x185041(0x14f),_0x8639e8(0xb2),_0x8639e8(0xba),_0x7ba6cd(0x1ec),_0x7ba6cd(0x1be),_0x8639e8(0xc0),_0x7ba6cd(0x121),_0x7ba6cd(0x14a),_0x7ba6cd(0x190),_0x7ba6cd(0xf2),_0x7ba6cd(0x202),_0x7ba6cd(0x1d8),_0x7ba6cd(0x155),_0x7ba6cd(0x10a),_0x8639e8(0xf2),_0x8639e8(0xc8),_0x7ba6cd(0x196),_0x7ba6cd(0x236),_0x185041(0x1db),_0x7ba6cd(0xde),_0x7ba6cd(0xf5),_0x8639e8(0x1fc),_0x7ba6cd(0x140),_0x7ba6cd(0x22c),_0x7ba6cd(0x1a4),_0x7ba6cd(0x1d0),_0x8639e8(0x1c4),_0x185041(0x228),_0x7ba6cd(0x13a),_0x8639e8(0x12f),_0x7ba6cd(0x187),_0x7ba6cd(0x235),_0x7ba6cd(0x208),_0x7ba6cd(0x19c),_0x7ba6cd(0x174),_0x7ba6cd(0x1fb),_0x7ba6cd(0x108),_0x7ba6cd(0xe5),_0x7ba6cd(0x1f6),_0x8639e8(0x128),_0x7ba6cd(0x102),_0x7ba6cd(0x211),_0x7ba6cd(0x198),_0x7ba6cd(0x14f),_0x8639e8(0x113),_0x8639e8(0x1b0),_0x7ba6cd(0x189),_0x7ba6cd(0x1b5),_0x7ba6cd(0xec),_0x185041(0x162),_0x7ba6cd(0x22a),_0x7ba6cd(0x18e),_0x7ba6cd(0x223),_0x8639e8(0x19f),_0x7ba6cd(0x138),_0x7ba6cd(0x1bc),_0x7ba6cd(0x1c5),_0x7ba6cd(0x234),_0x7ba6cd(0x11e),_0x7ba6cd(0xdd),_0x8639e8(0x16a),_0x7ba6cd(0x1c8),_0x40ae25(0x189),_0x7ba6cd(0x1c0),_0x7ba6cd(0x117),_0x7ba6cd(0x1ca),_0x8639e8(0x1c7),_0x7ba6cd(0x1a5),_0x7ba6cd(0x15d),_0x7ba6cd(0x218),_0x7ba6cd(0x10d),_0x7ba6cd(0x185),_0x8639e8(0x178),_0x7ba6cd(0x229),_0x7ba6cd(0xe0),_0x8639e8(0x1bd),_0x7ba6cd(0x1b7),_0x7ba6cd(0x1ce),_0x7ba6cd(0x1df),_0x7ba6cd(0x230),_0x8639e8(0xd4),_0x7ba6cd(0x159),_0x8639e8(0x18a),_0x7ba6cd(0x175),_0x7ba6cd(0x1d6),_0x7ba6cd(0x20d),_0x7ba6cd(0x157),_0x7ba6cd(0x1fa),_0x7ba6cd(0x103),_0x8639e8(0x17f),_0x7ba6cd(0x1e7),_0x7ba6cd(0x200),_0x7ba6cd(0xfa),_0x8639e8(0xb3),_0x8639e8(0x11e),_0x7ba6cd(0x1d2),_0x7ba6cd(0x12a),_0x7ba6cd(0x141),_0x7ba6cd(0x1fe),_0x7ba6cd(0x1ef),_0x7ba6cd(0x15a),_0x7ba6cd(0x1de),_0x7ba6cd(0x10b),_0x7ba6cd(0x171),_0x7ba6cd(0x1d7),_0x7ba6cd(0x1e0),_0x7ba6cd(0x207),_0x7ba6cd(0x232),_0x7ba6cd(0x14b),_0x7ba6cd(0x1a3),_0x7ba6cd(0x17a),_0x7ba6cd(0x166),_0x7ba6cd(0x16c),_0x7ba6cd(0x154),_0x7ba6cd(0x18b),_0x7ba6cd(0x20b),_0x7ba6cd(0xea),_0x8639e8(0x169),_0x7ba6cd(0x1f8),_0x185041(0x163),_0x8639e8(0x17b),_0x7ba6cd(0x1ba),_0x8639e8(0x176),_0x7ba6cd(0x176),_0x7ba6cd(0x1f4),_0x7ba6cd(0x172),_0x7ba6cd(0x16b),_0x7ba6cd(0x1eb),_0x8639e8(0x11f),_0x7ba6cd(0x199),_0x185041(0x20b),_0x8639e8(0xd0),_0x7ba6cd(0x19d),_0x8639e8(0xc6),_0x7ba6cd(0x109),_0x7ba6cd(0x1c2),_0x7ba6cd(0x21f),_0x7ba6cd(0x1e1),_0x8639e8(0x190),_0x4c344e(0x1dd),_0x7ba6cd(0x177),_0x8639e8(0x147),_0x8639e8(0x1a3),_0x7ba6cd(0x1f5),_0x7ba6cd(0x112),_0x185041(0x133),_0x7ba6cd(0x1dd),_0x7ba6cd(0x1ae),_0x7ba6cd(0x17b),_0x7ba6cd(0x16e),_0x7ba6cd(0x1b6),_0x40ae25(0x156),_0x7ba6cd(0x1d4),_0x7ba6cd(0x132),_0x7ba6cd(0x116),_0x7ba6cd(0x145),_0x7ba6cd(0x19b),_0x7ba6cd(0x22d),_0x7ba6cd(0x12e),_0x7ba6cd(0x1a7),_0x7ba6cd(0x225),_0x8639e8(0x15c),_0x8639e8(0xc9),_0x7ba6cd(0xf7),_0x8639e8(0x195),_0x7ba6cd(0x134),_0x7ba6cd(0x1d1),_0x7ba6cd(0x20c),_0x8639e8(0x153),_0x7ba6cd(0x130),_0x7ba6cd(0x1d5),_0x7ba6cd(0x1e4),_0x7ba6cd(0x143),_0x7ba6cd(0x12b),_0x7ba6cd(0x1e2),_0x7ba6cd(0x1ea),_0x185041(0xe9),_0x8639e8(0x136),_0x7ba6cd(0x13d),_0x185041(0x1a5),_0x8639e8(0x173),_0x185041(0x152),_0x7ba6cd(0x13c),_0x7ba6cd(0x164),_0x185041(0x17e),_0x7ba6cd(0x15f),_0x7ba6cd(0x11d),_0x7ba6cd(0xe6),_0x8639e8(0x140),_0x7ba6cd(0x212),_0x7ba6cd(0x137),_0x7ba6cd(0x167),_0x7ba6cd(0x1dc),_0x7ba6cd(0x120),_0x185041(0x16f),_0x7ba6cd(0x228),_0x7ba6cd(0x1e6),_0x185041(0x116),_0x7ba6cd(0x14e),_0x7ba6cd(0x1ff),_0x7ba6cd(0x19e),_0x7ba6cd(0x163),_0x7ba6cd(0x21b),_0x7ba6cd(0x1cb),_0x8639e8(0x1ff),_0x7ba6cd(0x127),_0x7ba6cd(0x21c),_0x7ba6cd(0x13f),_0x7ba6cd(0x1b0),_0x7ba6cd(0x105),_0x185041(0x19c),_0x7ba6cd(0x161),_0x7ba6cd(0x139),_0x7ba6cd(0x119),_0x7ba6cd(0x1b1),_0x185041(0x169),_0x7ba6cd(0x20a),_0x185041(0x1be),_0x7ba6cd(0x1e5),_0x7ba6cd(0x115),_0x7ba6cd(0x1b4),_0x8639e8(0x1ba),_0x7ba6cd(0x111),_0x8639e8(0x163),_0x7ba6cd(0x1ad),_0x7ba6cd(0x10f),_0x7ba6cd(0x104),_0x7ba6cd(0x113),_0x7ba6cd(0x18f),_0x7ba6cd(0x182),_0x7ba6cd(0x222),_0x7ba6cd(0x11c),_0x7ba6cd(0x213),_0x7ba6cd(0x214),_0x40ae25(0x149),_0x7ba6cd(0xe9),_0x7ba6cd(0x195),_0x8639e8(0x129),_0x7ba6cd(0x1cc),_0x7ba6cd(0x184),_0x7ba6cd(0x1cf),_0x7ba6cd(0x1b3),_0x7ba6cd(0x152),_0x7ba6cd(0x220),_0x7ba6cd(0x1bf),_0x7ba6cd(0x12c),_0x7ba6cd(0x146),_0x8639e8(0x127),_0x185041(0xf1),_0x7ba6cd(0x131),_0x7ba6cd(0x1bd),_0x7ba6cd(0x1f3),_0x7ba6cd(0x22b),_0x7ba6cd(0x221),_0x7ba6cd(0x135),_0x7ba6cd(0xe3),_0x7ba6cd(0x106),_0x185041(0x121),_0x7ba6cd(0x1ed),_0x7ba6cd(0x17f),_0x7ba6cd(0x1c7)];return a0_0x5ad1=function(){return _0x118fcd;},a0_0x5ad1();}function hexToRgba(_0x5d999c,_0x7811f1=0x1){const _0x381ecd=a0_0x5049d9,_0x4613d9=a0_0x38aafa;if(_0x5d999c===_0x4613d9(0x1f3)||_0x5d999c===_0x4613d9(0x25c))return[0x0,0x0,0x0,0x0];_0x5d999c=_0x5d999c[_0x4613d9(0x27d)]('#','');if(_0x5d999c[_0x4613d9(0x1c4)]===0x3)_0x5d999c=_0x5d999c[_0x4613d9(0x285)]('')[_0x381ecd(0x18f)](_0x50eb54=>_0x50eb54+_0x50eb54)[_0x381ecd(0xf9)]('');let _0x2365a4=parseInt(_0x5d999c,0x10);return[_0x2365a4>>0x10&0xff,_0x2365a4>>0x8&0xff,_0x2365a4&0xff,Math[_0x4613d9(0x26f)](0xff*_0x7811f1)];}function a0_0x3f33(_0x2877ba,_0x391012){_0x2877ba=_0x2877ba-0xb8;const _0xc40946=a0_0x5ba6();let _0xbca66e=_0xc40946[_0x2877ba];return _0xbca66e;}function fillAt(_0x4d4aed,_0x289797){const _0x24ee3b=a0_0x35c9,_0x1e6a63=a0_0x56c5,_0x3341aa=a0_0x5049d9,_0x25b190=a0_0x38aafa;let _0x558cd7=getCurrentProject(),_0x1cb51c=getCurrentFrame(),_0x51ab4b=_0x1cb51c[_0x25b190(0x262)][_0x1cb51c[_0x25b190(0x1b5)]][_0x25b190(0x2c6)]('2d'),_0x5f131d=_0x51ab4b[_0x25b190(0x287)](0x0,0x0,_0x558cd7[_0x25b190(0x1b8)]*cellSize,_0x558cd7[_0x25b190(0x27c)]*cellSize),_0x2bd25a=_0x4d4aed*cellSize,_0x46cb79=_0x289797*cellSize,_0x41d25f=getPixel(_0x5f131d,_0x2bd25a,_0x46cb79),_0x119abd=currentColor===_0x3341aa(0x1a5)||currentColor===_0x25b190(0x25c)||currentAlpha===0x0?[0x0,0x0,0x0,0x0]:hexToRgba(currentColor,currentAlpha);if(colorsMatch(_0x41d25f,_0x119abd))return;let _0x237b03=[[_0x4d4aed,_0x289797]],_0x462819=new Set();while(_0x237b03[_0x25b190(0x1c4)]){let [_0x4d3ee3,_0x378052]=_0x237b03[_0x24ee3b(0x15e)]();if(_0x4d3ee3<0x0||_0x378052<0x0||_0x4d3ee3>=_0x558cd7[_0x1e6a63(0x13a)]||_0x378052>=_0x558cd7[_0x25b190(0x27c)])continue;let _0x4c511b=_0x4d3ee3+','+_0x378052;if(_0x462819[_0x25b190(0x2bb)](_0x4c511b))continue;_0x462819[_0x25b190(0x1de)](_0x4c511b);let _0x3a2c60=_0x4d3ee3*cellSize,_0x150749=_0x378052*cellSize,_0x3cfd13=getPixel(_0x5f131d,_0x3a2c60,_0x150749);if(!colorsMatch(_0x3cfd13,_0x41d25f))continue;for(let _0x166b52=0x0;_0x166b52<cellSize;_0x166b52++){for(let _0xb61571=0x0;_0xb61571<cellSize;_0xb61571++){setPixel(_0x5f131d,_0x3a2c60+_0xb61571,_0x150749+_0x166b52,_0x119abd);}}_0x237b03[_0x25b190(0x278)]([_0x4d3ee3+0x1,_0x378052]),_0x237b03[_0x25b190(0x278)]([_0x4d3ee3-0x1,_0x378052]),_0x237b03[_0x25b190(0x278)]([_0x4d3ee3,_0x378052+0x1]),_0x237b03[_0x3341aa(0x19e)]([_0x4d3ee3,_0x378052-0x1]);}_0x51ab4b[_0x25b190(0x19f)](_0x5f131d,0x0,0x0),redrawAll();}function getPixel(_0x359f70,_0x100572,_0x361627){const _0x55bd0c=a0_0x56c5,_0x3df196=a0_0x5049d9,_0x2f4e31=a0_0x38aafa;let _0x446fb7=(_0x361627*_0x359f70[_0x55bd0c(0x13a)]+_0x100572)*0x4;return[_0x359f70[_0x55bd0c(0x136)][_0x446fb7],_0x359f70[_0x3df196(0x15b)][_0x446fb7+0x1],_0x359f70[_0x2f4e31(0x261)][_0x446fb7+0x2],_0x359f70[_0x2f4e31(0x261)][_0x446fb7+0x3]];}function setPixel(_0x2c5631,_0x39f948,_0x5930a7,_0x92d70d){const _0x3b1375=a0_0x56c5,_0x3e7a98=a0_0x38aafa;let _0x4453d7=(_0x5930a7*_0x2c5631[_0x3e7a98(0x1b8)]+_0x39f948)*0x4;_0x2c5631[_0x3e7a98(0x261)][_0x4453d7]=_0x92d70d[0x0],_0x2c5631[_0x3e7a98(0x261)][_0x4453d7+0x1]=_0x92d70d[0x1],_0x2c5631[_0x3b1375(0x136)][_0x4453d7+0x2]=_0x92d70d[0x2],_0x2c5631[_0x3e7a98(0x261)][_0x4453d7+0x3]=_0x92d70d[0x3];}function a0_0x2578(_0x52f2cf,_0x3bd0ba){_0x52f2cf=_0x52f2cf-0x103;const _0x4e7895=a0_0x2ab8();let _0x2f7f70=_0x4e7895[_0x52f2cf];return _0x2f7f70;}function colorsMatch(_0x1e12f5,_0x29b716){return _0x1e12f5[0x0]===_0x29b716[0x0]&&_0x1e12f5[0x1]===_0x29b716[0x1]&&_0x1e12f5[0x2]===_0x29b716[0x2]&&_0x1e12f5[0x3]===_0x29b716[0x3];}function handleMouseDown(_0x1f9ac5){const _0x1a746a=a0_0x5049d9,_0x2c5bf9=a0_0x38aafa;isDrawing=!![];const _0x28d294=getCanvasCoords(_0x1f9ac5),_0x1c1c9a=Math[_0x2c5bf9(0x1a7)](_0x28d294['x']/cellSize),_0x162fdf=Math[_0x1a746a(0xfe)](_0x28d294['y']/cellSize);currentTool===_0x2c5bf9(0x1a8)?(fillAt(_0x1c1c9a,_0x162fdf),saveHistory(),isDrawing=![],lastMouse=null):(drawDotXY(_0x1c1c9a,_0x162fdf),lastMouse={'x':_0x1c1c9a,'y':_0x162fdf});}function handleMouseMove(_0x16620c){const _0x4ed189=a0_0x5049d9,_0x478d90=a0_0x38aafa;if(!isDrawing)return;const _0x532ddc=getCanvasCoords(_0x16620c),_0x3f21e5=Math[_0x478d90(0x1a7)](_0x532ddc['x']/cellSize),_0x3d6349=Math[_0x478d90(0x1a7)](_0x532ddc['y']/cellSize);if(!lastMouse){drawDotXY(_0x3f21e5,_0x3d6349),lastMouse={'x':_0x3f21e5,'y':_0x3d6349};return;}const _0xcdc83c=_0x3f21e5-lastMouse['x'],_0x426b70=_0x3d6349-lastMouse['y'],_0x164655=Math[_0x478d90(0x2c3)](Math[_0x478d90(0x1a6)](_0xcdc83c),Math[_0x478d90(0x1a6)](_0x426b70));if(_0x164655<=0x1)drawDotXY(_0x3f21e5,_0x3d6349);else for(let _0x4d4b1a=0x1;_0x4d4b1a<=_0x164655;_0x4d4b1a++){const _0x38d9fc=Math[_0x4ed189(0x167)](lastMouse['x']+_0xcdc83c*_0x4d4b1a/_0x164655),_0x41ca21=Math[_0x478d90(0x26f)](lastMouse['y']+_0x426b70*_0x4d4b1a/_0x164655);drawDotXY(_0x38d9fc,_0x41ca21);}lastMouse={'x':_0x3f21e5,'y':_0x3d6349};}function handleMouseUp(_0x258b69){isDrawing&&saveHistory(),isDrawing=![],lastMouse=null;}let lastTouch=null,lastMouse=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;function getTouchPos(_0x3af9ff){const _0x4022e5=a0_0x5049d9,_0x24f4ad=a0_0x38aafa,_0xee7335=canvas[_0x24f4ad(0x280)]();let _0x3198b7=_0x3af9ff[_0x24f4ad(0x2d8)]&&_0x3af9ff[_0x24f4ad(0x2d8)][0x0]?_0x3af9ff[_0x24f4ad(0x2d8)][0x0]:_0x3af9ff[_0x4022e5(0x203)][0x0];const _0x40909e=canvas[_0x24f4ad(0x1b8)]/_0xee7335[_0x4022e5(0x190)],_0x296cd6=canvas[_0x24f4ad(0x27c)]/_0xee7335[_0x24f4ad(0x27c)],_0x5500ae=_0x3198b7[_0x24f4ad(0x193)],_0xd75361=_0x3198b7[_0x24f4ad(0x25d)],_0x39a6cd=(_0x5500ae-_0xee7335[_0x24f4ad(0x2a7)])*_0x40909e,_0x3d51df=(_0xd75361-_0xee7335[_0x24f4ad(0x196)])*_0x296cd6;return{'x':Math[_0x24f4ad(0x1a7)](_0x39a6cd/cellSize),'y':Math[_0x24f4ad(0x1a7)](_0x3d51df/cellSize)};}function handleTouchStart(_0x26bcd6){const _0x2d23fe=a0_0x56c5,_0x3d282c=a0_0x5049d9,_0x2a1b04=a0_0x38aafa;if(_0x26bcd6[_0x3d282c(0x158)][_0x2a1b04(0x1c4)]===0x2){_0x26bcd6[_0x2a1b04(0x1ce)](),isPinching=!![],isDrawing=![];const _0x5a24f8=_0x26bcd6[_0x2a1b04(0x2d8)][0x0],_0x4504ac=_0x26bcd6[_0x2a1b04(0x2d8)][0x1];pinchStartDistance=Math[_0x2a1b04(0x18d)](_0x4504ac[_0x2d23fe(0x119)]-_0x5a24f8[_0x2a1b04(0x193)],_0x4504ac[_0x2a1b04(0x25d)]-_0x5a24f8[_0x3d282c(0x12b)]),pinchStartMid={'clientX':(_0x5a24f8[_0x2a1b04(0x193)]+_0x4504ac[_0x2a1b04(0x193)])/0x2,'clientY':(_0x5a24f8[_0x2a1b04(0x25d)]+_0x4504ac[_0x2a1b04(0x25d)])/0x2},pinchStartScale=scale,pinchStartPosX=posX,pinchStartPosY=posY,pinchRect=canvas[_0x2a1b04(0x280)]();}else{if(_0x26bcd6[_0x2a1b04(0x2d8)][_0x2a1b04(0x1c4)]===0x1){_0x26bcd6[_0x3d282c(0x187)]();if(isPinching)return;isDrawing=!![];let _0x364b03=getTouchPos(_0x26bcd6);lastTouch=_0x364b03,currentTool===_0x2a1b04(0x1a8)?(fillAt(_0x364b03['x'],_0x364b03['y']),saveHistory(),isDrawing=![]):drawDotTouch(_0x364b03['x'],_0x364b03['y']);}}}function handleTouchMove(_0x2cbc84){const _0x1b08a8=a0_0x35c9,_0xf8a13f=a0_0x56c5,_0xe1e851=a0_0x5049d9,_0x21d8ec=a0_0x38aafa;if(isPinching||_0x2cbc84[_0x21d8ec(0x2d8)]&&_0x2cbc84[_0xe1e851(0x158)][_0x21d8ec(0x1c4)]===0x2){_0x2cbc84[_0x21d8ec(0x1ce)]();const _0x1facc1=_0x2cbc84[_0x21d8ec(0x2d8)][0x0],_0x3ab78c=_0x2cbc84[_0x21d8ec(0x2d8)][0x1],_0x435e1e=Math[_0xf8a13f(0xaf)](_0x3ab78c[_0x21d8ec(0x193)]-_0x1facc1[_0x21d8ec(0x193)],_0x3ab78c[_0xe1e851(0x12b)]-_0x1facc1[_0x21d8ec(0x25d)]),_0x4c148c={'clientX':(_0x1facc1[_0x21d8ec(0x193)]+_0x3ab78c[_0x21d8ec(0x193)])/0x2,'clientY':(_0x1facc1[_0xe1e851(0x12b)]+_0x3ab78c[_0x21d8ec(0x25d)])/0x2};if(!pinchStartDistance)pinchStartDistance=_0x435e1e||0x1;const _0x421192=_0x435e1e/pinchStartDistance||0x1;let _0x337f26=pinchStartScale*_0x421192;_0x337f26=Math[_0xe1e851(0x18d)](Math[_0x21d8ec(0x2c3)](_0x337f26,0.2),0x5);const _0x46dcd3=pinchRect||canvas[_0xe1e851(0x1b0)](),_0x4baf4f=(pinchStartMid[_0x21d8ec(0x193)]-_0x46dcd3[_0x21d8ec(0x2a7)]-pinchStartPosX)/pinchStartScale,_0x2287ca=(pinchStartMid[_0xe1e851(0x12b)]-_0x46dcd3[_0x21d8ec(0x196)]-pinchStartPosY)/pinchStartScale;posX=_0x4c148c[_0x21d8ec(0x193)]-_0x46dcd3[_0x21d8ec(0x2a7)]-_0x4baf4f*_0x337f26,posY=_0x4c148c[_0x1b08a8(0x19d)]-_0x46dcd3[_0x21d8ec(0x196)]-_0x2287ca*_0x337f26,scale=_0x337f26,updateTransform();return;}if(!isDrawing)return;if(_0x2cbc84[_0x1b08a8(0xc9)]&&_0x2cbc84[_0x21d8ec(0x2d8)][_0xe1e851(0xf5)]>0x1)return;_0x2cbc84[_0xf8a13f(0xfd)]();let _0x251a62=getTouchPos(_0x2cbc84);if(lastTouch){let _0xe332af=Math[_0x21d8ec(0x1a6)]((_0x251a62['x']-lastTouch['x'])*cellSize),_0x5f3fd4=Math[_0x21d8ec(0x1a6)]((_0x251a62['y']-lastTouch['y'])*cellSize);if(_0xe332af>=PAN_CANCEL_DISTANCE||_0x5f3fd4>=PAN_CANCEL_DISTANCE){if(currentTool!==_0x21d8ec(0x182)){isDrawing=![];return;}}}if(lastTouch){let _0x4a7549=_0x251a62['x']-lastTouch['x'],_0x337039=_0x251a62['y']-lastTouch['y'],_0x48d07d=Math[_0xe1e851(0x107)](Math[_0xe1e851(0x11f)](_0x4a7549),Math[_0x21d8ec(0x1a6)](_0x337039));for(let _0x5df93b=0x1;_0x5df93b<=_0x48d07d;_0x5df93b++){let _0x17d51c=Math[_0x21d8ec(0x26f)](lastTouch['x']+_0x4a7549*_0x5df93b/_0x48d07d),_0x2960cf=Math[_0x21d8ec(0x26f)](lastTouch['y']+_0x337039*_0x5df93b/_0x48d07d);drawDotTouch(_0x17d51c,_0x2960cf);}}else drawDotTouch(_0x251a62['x'],_0x251a62['y']);lastTouch=_0x251a62;}function handleTouchEnd(_0x3f609e){const _0x2f58bc=a0_0x111e,_0x44ac37=a0_0x5049d9,_0x9318a1=a0_0x38aafa;isPinching&&_0x3f609e[_0x9318a1(0x2d8)]&&_0x3f609e[_0x44ac37(0x158)][_0x9318a1(0x1c4)]<0x2&&(isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchRect=null),isDrawing&&(!_0x3f609e[_0x44ac37(0x158)]||_0x3f609e[_0x9318a1(0x2d8)][_0x2f58bc(0x1df)]===0x0)&&saveHistory();if(_0x3f609e[_0x44ac37(0x158)]&&_0x3f609e[_0x9318a1(0x2d8)][_0x9318a1(0x1c4)]===0x1){let _0x3e1310=_0x3f609e[_0x9318a1(0x2d8)][0x0];lastTouch=getTouchPos({'touches':[_0x3e1310]}),isDrawing=!![];}else isDrawing=![],lastTouch=null;}function drawDotXY(_0x421461,_0x30b4e1){const _0x44adeb=a0_0x35c9,_0x991c4c=a0_0x56c5,_0x1c2344=a0_0x5049d9,_0x1c0b49=a0_0x38aafa;let _0x4a4503=getCurrentProject(),_0x4e7f87=getCurrentFrame();if(!_0x4e7f87||!_0x4a4503)return;if(typeof _0x421461!==_0x1c0b49(0x1a2)||typeof _0x30b4e1!==_0x1c0b49(0x1a2)||_0x421461<0x0||_0x30b4e1<0x0||!Number[_0x44adeb(0xe7)](_0x4a4503[_0x1c2344(0x190)])||!Number[_0x1c2344(0x115)](_0x4a4503[_0x1c0b49(0x27c)])||_0x421461>=_0x4a4503[_0x1c2344(0x190)]||_0x30b4e1>=_0x4a4503[_0x1c0b49(0x27c)]||!Array[_0x1c0b49(0x19c)](_0x4e7f87[_0x1c2344(0x13d)])||typeof _0x4e7f87[_0x1c0b49(0x1b5)]!==_0x1c0b49(0x1a2)||!_0x4e7f87[_0x1c0b49(0x262)][_0x4e7f87[_0x1c2344(0x215)]])return;let _0x4047b0=_0x4e7f87[_0x1c0b49(0x262)][_0x4e7f87[_0x1c2344(0x215)]][_0x1c0b49(0x2c6)]('2d');if(!_0x4047b0)return;if(currentTool===_0x991c4c(0xd1)||currentColor===_0x1c0b49(0x1f3)||currentColor===_0x1c0b49(0x25c)||currentAlpha===0x0)drawPenShape(_0x4047b0,_0x421461,_0x30b4e1,_0x1c0b49(0x25c),!![]);else{let _0x5cad5a=hexToRgba(currentColor,currentAlpha);_0x4047b0[_0x1c0b49(0x1fe)](),_0x4047b0[_0x1c0b49(0x2a0)]=_0x5cad5a[0x3]/0xff,drawPenShape(_0x4047b0,_0x421461,_0x30b4e1,_0x1c0b49(0x210)+_0x5cad5a[0x0]+','+_0x5cad5a[0x1]+','+_0x5cad5a[0x2]+','+_0x5cad5a[0x3]/0xff+')',![]),_0x4047b0[_0x1c0b49(0x2df)]();}redrawAll();}function drawPenShape(_0x3910b8,_0x484d10,_0x42f119,_0x42d07c,_0x42e26d){const _0x52b7fa=a0_0x56c5,_0x344bbc=a0_0x5049d9,_0x10deb4=a0_0x38aafa,_0x4a4f97=_0x484d10*cellSize,_0x30cec7=_0x42f119*cellSize,_0x148591=penSize*cellSize;_0x42e26d?(_0x3910b8[_0x10deb4(0x1fe)](),_0x3910b8[_0x10deb4(0x20d)]=_0x10deb4(0x2d5),penMode===_0x10deb4(0x2ea)?(_0x3910b8[_0x10deb4(0x2eb)](),_0x3910b8[_0x10deb4(0x24a)](_0x4a4f97+cellSize/0x2,_0x30cec7+cellSize/0x2,_0x148591/0x2,0x0,Math['PI']*0x2),_0x3910b8[_0x10deb4(0x1a8)]()):_0x3910b8[_0x10deb4(0x22d)](_0x4a4f97-Math[_0x10deb4(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x30cec7-Math[_0x10deb4(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x148591,_0x148591),_0x3910b8[_0x10deb4(0x2df)]()):(_0x3910b8[_0x10deb4(0x1fe)](),_0x3910b8[_0x10deb4(0x2aa)]=_0x42d07c,penMode===_0x10deb4(0x2ea)?(_0x3910b8[_0x344bbc(0x237)](),_0x3910b8[_0x10deb4(0x24a)](_0x4a4f97+cellSize/0x2,_0x30cec7+cellSize/0x2,_0x148591/0x2,0x0,Math['PI']*0x2),_0x3910b8[_0x52b7fa(0x10d)]()):_0x3910b8[_0x10deb4(0x216)](_0x4a4f97-Math[_0x344bbc(0xfe)]((penSize-0x1)/0x2)*cellSize,_0x30cec7-Math[_0x10deb4(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x148591,_0x148591),_0x3910b8[_0x10deb4(0x2df)]());}function a0_0x22a5(){const _0x388103=a0_0x2578,_0x436b08=a0_0x3f33,_0x1980e3=a0_0x111e,_0x575555=a0_0x35c9,_0x4d50b3=[_0x575555(0x184),_0x1980e3(0xed),_0x1980e3(0x12a),_0x575555(0x1bd),_0x575555(0x1e1),_0x1980e3(0x144),_0x436b08(0x1b5),_0x575555(0x13b),_0x1980e3(0x14f),_0x575555(0x14d),_0x575555(0x20d),_0x575555(0x213),_0x575555(0x1c8),_0x575555(0x112),_0x1980e3(0x15c),_0x575555(0x102),_0x1980e3(0x8e),_0x575555(0x103),_0x575555(0x11f),_0x575555(0x189),_0x1980e3(0x131),_0x575555(0x134),_0x575555(0x19e),_0x1980e3(0x191),_0x575555(0x12c),_0x575555(0x16c),_0x436b08(0x14e),_0x575555(0xfa),_0x1980e3(0x10a),_0x575555(0x1df),_0x575555(0x16b),_0x575555(0xc8),_0x575555(0x20e),_0x575555(0xd0),_0x1980e3(0xa9),_0x575555(0x1ca),_0x575555(0x1b7),_0x575555(0x1ab),_0x575555(0x14a),_0x575555(0x18f),_0x575555(0x1e8),_0x575555(0xea),_0x1980e3(0x10d),_0x575555(0x144),_0x1980e3(0x88),_0x575555(0x1c5),_0x575555(0x20a),_0x575555(0x171),_0x436b08(0x207),_0x575555(0x199),_0x575555(0xf0),_0x575555(0xca),_0x575555(0x179),_0x575555(0x113),_0x575555(0x215),_0x1980e3(0x11f),_0x575555(0x124),_0x1980e3(0xef),_0x575555(0x1ef),_0x575555(0x19a),_0x436b08(0x1f3),_0x575555(0x187),_0x575555(0x203),_0x388103(0x1af),_0x575555(0x178),_0x388103(0x10e),_0x575555(0x1a8),_0x1980e3(0xd8),_0x575555(0x180),_0x575555(0x151),_0x1980e3(0x182),_0x436b08(0x20f),_0x575555(0x16a),_0x575555(0x108),_0x1980e3(0x1e8),_0x575555(0x183),_0x575555(0x1ee),_0x575555(0x211),_0x575555(0x1b0),_0x575555(0x116),_0x575555(0x17d),_0x575555(0x1d3),_0x1980e3(0x1af),_0x575555(0x216),_0x575555(0x1bb),_0x575555(0x14b),_0x575555(0xe3),_0x575555(0x21b),_0x575555(0x15c),_0x1980e3(0x16d),_0x436b08(0x1ba),_0x575555(0x157),_0x1980e3(0x111),_0x575555(0x21d),_0x1980e3(0x121),_0x575555(0x17a),_0x575555(0x143),_0x575555(0x1f3),_0x575555(0x119),_0x575555(0xde),_0x575555(0xff),_0x575555(0x141),_0x575555(0xec),_0x575555(0xe0),_0x436b08(0x166),_0x575555(0x21f),_0x575555(0xef),_0x1980e3(0x1b1),_0x575555(0xcf),_0x436b08(0x1f8),_0x575555(0x132),_0x575555(0xf7),_0x1980e3(0xa4),_0x575555(0xf8),_0x575555(0x202),_0x575555(0x19d),_0x575555(0x104),_0x575555(0x18d),_0x575555(0x175),_0x575555(0xe2),_0x575555(0xf3),_0x575555(0xeb),_0x575555(0x1e6),_0x436b08(0x177),_0x1980e3(0xf3),_0x1980e3(0x15a),_0x1980e3(0x11b),_0x575555(0x13a),_0x1980e3(0x1ba),_0x575555(0xf5),_0x436b08(0x181),_0x575555(0x109),_0x575555(0x1b5),_0x575555(0x115),_0x575555(0x170),_0x575555(0x201),_0x575555(0x1fc),_0x575555(0x21c),_0x575555(0x1fb),_0x1980e3(0x15b),_0x575555(0x16d),_0x575555(0x1f1),_0x1980e3(0x13e),_0x575555(0x17c),_0x575555(0x138),_0x575555(0x1c9),_0x388103(0x26b),_0x1980e3(0x15f),_0x575555(0x168),_0x575555(0x181),_0x575555(0x10e),_0x575555(0x1d2),_0x575555(0xcc),_0x575555(0xf2),_0x575555(0x15f),_0x388103(0x26e),_0x1980e3(0xb4),_0x1980e3(0x162),_0x1980e3(0x17d),_0x436b08(0x1f7),_0x1980e3(0x1ee),_0x575555(0x210),_0x575555(0x194),_0x575555(0x218),_0x575555(0xfe),_0x575555(0x1e9),_0x436b08(0x11c),_0x1980e3(0x16f),_0x1980e3(0x163),_0x575555(0x1c1),_0x575555(0x12a),_0x575555(0x1ce),_0x436b08(0x115),_0x575555(0x1ba),_0x575555(0x145),_0x575555(0x18a),_0x575555(0x11a),_0x436b08(0x12e),_0x1980e3(0x100),_0x575555(0x12e),_0x575555(0xda),_0x575555(0x11b),_0x575555(0x10d),_0x575555(0x226),_0x1980e3(0xf9),_0x575555(0x16e),_0x575555(0x205),_0x1980e3(0x14b),_0x436b08(0x116),_0x436b08(0x199),_0x575555(0xfb),_0x575555(0x1a4),_0x575555(0x172),_0x575555(0x12f),_0x575555(0x1dc),_0x575555(0x156),_0x575555(0xd7),_0x575555(0x10c),_0x575555(0x1d8),_0x575555(0x196),_0x575555(0x14e),_0x575555(0x158),_0x575555(0x219),_0x575555(0x190),_0x1980e3(0xbb),_0x575555(0x177),_0x575555(0x111),_0x388103(0x10d),_0x575555(0x148),_0x575555(0x197),_0x575555(0x200),_0x575555(0x1d7),_0x575555(0x1a3),_0x1980e3(0x147),_0x575555(0x1af),_0x575555(0xcb),_0x1980e3(0x138),_0x575555(0x1d9),_0x575555(0x1f0),_0x575555(0x154),_0x575555(0x1ea),_0x575555(0x137),_0x575555(0x1f5),_0x575555(0x212),_0x575555(0x1ed),_0x575555(0x15e),_0x1980e3(0x139),_0x1980e3(0x150),_0x575555(0x223),_0x575555(0x1b9),_0x575555(0xfc),_0x1980e3(0x1f5),_0x575555(0x1e3),_0x575555(0x1ff),_0x575555(0x185),_0x575555(0x1f9),_0x1980e3(0xfc),_0x575555(0xf4),_0x575555(0x1a1),_0x575555(0x1b8),_0x1980e3(0x106),_0x1980e3(0xc9),_0x1980e3(0x137),_0x1980e3(0x17f),_0x575555(0xfd),_0x575555(0x120),_0x1980e3(0x89),_0x575555(0x20f),_0x575555(0x21e),_0x575555(0x1ec),_0x1980e3(0x177),_0x575555(0x1bc),_0x575555(0x1c4),_0x1980e3(0x102),_0x575555(0x165),_0x575555(0x135),_0x1980e3(0xec),_0x575555(0x227),_0x575555(0x1b4),_0x575555(0x206),_0x575555(0x1c2),_0x575555(0xdb),_0x1980e3(0x1e4),_0x436b08(0x17f),_0x1980e3(0x1ca),_0x575555(0x1c6),_0x575555(0x17b),_0x575555(0x176),_0x1980e3(0x1a8),_0x575555(0x13f),_0x575555(0x15d),_0x575555(0x161),_0x1980e3(0xb8),_0x575555(0x208),_0x1980e3(0x157),_0x575555(0x1c3),_0x575555(0x17f),_0x575555(0x1ac),_0x1980e3(0x105),_0x575555(0x217),_0x575555(0x221),_0x575555(0x136),_0x1980e3(0x194),_0x575555(0x19b),_0x575555(0x1f6),_0x1980e3(0xb2),_0x575555(0x1fe),_0x575555(0xdd),_0x575555(0x159),_0x575555(0xdf),_0x575555(0x1cd),_0x575555(0x150),_0x575555(0x1a6),_0x575555(0x18e),_0x575555(0x166),_0x1980e3(0xc0),_0x575555(0x1eb),_0x575555(0x1d1),_0x575555(0x160),_0x575555(0x191),_0x575555(0x195),_0x575555(0x110),_0x575555(0x13d),_0x575555(0x164),_0x575555(0x1d0),_0x575555(0x142),_0x575555(0xdc),_0x575555(0x147),_0x1980e3(0xad),_0x575555(0x146),_0x575555(0x1c7),_0x575555(0x1e2),_0x575555(0x220),_0x575555(0x125),_0x436b08(0xd7),_0x575555(0x1d6),_0x575555(0x1f2),_0x575555(0x20c),_0x1980e3(0x10e),_0x575555(0x192),_0x1980e3(0xbe),_0x575555(0x1f8),_0x575555(0xe1),_0x1980e3(0x183),_0x1980e3(0x174),_0x1980e3(0xb3),_0x575555(0x209),_0x1980e3(0x10b),_0x575555(0x18c),_0x1980e3(0x8f),_0x1980e3(0x190),_0x575555(0x1b1),_0x1980e3(0x1c8),_0x575555(0x214),_0x575555(0x20b),_0x575555(0xe8),_0x575555(0x222),_0x575555(0x1ad),_0x575555(0x123),_0x1980e3(0xa3),_0x1980e3(0x1d8),_0x575555(0x1cc),_0x575555(0x107)];return a0_0x22a5=function(){return _0x4d50b3;},a0_0x22a5();}function a0_0x243d(){const _0x50aa75=a0_0x2578,_0x37de64=a0_0x3f33,_0x2cd712=a0_0x111e,_0x3e77fe=a0_0x35c9,_0x342c54=a0_0x56c5,_0x5189b6=[_0x342c54(0xc2),_0x342c54(0x1e8),_0x3e77fe(0xd6),_0x2cd712(0xe7),_0x342c54(0x177),_0x342c54(0x1a2),_0x342c54(0x171),_0x342c54(0x1d2),_0x342c54(0x1be),_0x3e77fe(0x1dd),_0x342c54(0x166),_0x342c54(0x1b8),_0x3e77fe(0x106),_0x342c54(0x1f0),_0x342c54(0xb9),_0x342c54(0xff),_0x3e77fe(0x1cf),_0x342c54(0x144),_0x342c54(0x105),_0x342c54(0x1c1),_0x342c54(0xcd),_0x342c54(0x1fb),_0x342c54(0x106),_0x2cd712(0x171),_0x342c54(0x1ae),_0x342c54(0x1a5),_0x342c54(0x19a),_0x342c54(0x1ad),_0x342c54(0xaa),_0x342c54(0xaf),_0x342c54(0x104),_0x342c54(0x1f2),_0x342c54(0x1db),_0x342c54(0x1d7),_0x342c54(0xb1),_0x342c54(0x116),_0x342c54(0x1e4),_0x37de64(0x19c),_0x342c54(0xf1),_0x342c54(0x181),_0x3e77fe(0xce),_0x3e77fe(0xd3),_0x342c54(0x188),_0x342c54(0x191),_0x342c54(0x1f4),_0x342c54(0x1ed),_0x3e77fe(0x140),_0x342c54(0xf8),_0x342c54(0x168),_0x342c54(0x142),_0x342c54(0x1e9),_0x3e77fe(0x1a0),_0x342c54(0xf2),_0x342c54(0x157),_0x342c54(0x102),_0x342c54(0x13d),_0x342c54(0x13e),_0x342c54(0x1aa),_0x342c54(0x1e6),_0x342c54(0xc4),_0x342c54(0x18c),_0x342c54(0xad),_0x3e77fe(0x193),_0x342c54(0xbb),_0x342c54(0xae),_0x342c54(0x190),_0x2cd712(0x1df),_0x3e77fe(0x129),_0x342c54(0x194),_0x342c54(0xe8),_0x342c54(0x1d6),_0x342c54(0x115),_0x3e77fe(0x13c),_0x342c54(0x150),_0x342c54(0xac),_0x342c54(0x1bf),_0x3e77fe(0xd8),_0x342c54(0x16b),_0x2cd712(0x1d4),_0x342c54(0x18f),_0x342c54(0xdc),_0x342c54(0x18b),_0x342c54(0x1f7),_0x342c54(0x15b),_0x342c54(0xe3),_0x342c54(0x1d5),_0x342c54(0x1fd),_0x342c54(0x14c),_0x342c54(0x18e),_0x3e77fe(0x10f),_0x342c54(0x1b1),_0x342c54(0x14f),_0x3e77fe(0x101),_0x342c54(0x14a),_0x342c54(0x103),_0x342c54(0x131),_0x3e77fe(0x198),_0x342c54(0x158),_0x342c54(0x134),_0x3e77fe(0x1d5),_0x342c54(0x1cc),_0x342c54(0xdb),_0x3e77fe(0xd4),_0x342c54(0x14d),_0x342c54(0x1b4),_0x342c54(0xe1),_0x3e77fe(0x225),_0x3e77fe(0x15e),_0x342c54(0x162),_0x342c54(0xeb),_0x342c54(0x1c2),_0x342c54(0x16c),_0x342c54(0x196),_0x342c54(0xed),_0x342c54(0x1fa),_0x3e77fe(0x1de),_0x342c54(0xf5),_0x342c54(0x187),_0x3e77fe(0x11d),_0x342c54(0x10f),_0x342c54(0x1a6),_0x3e77fe(0x1d2),_0x342c54(0xb2),_0x342c54(0x149),_0x342c54(0x1d8),_0x342c54(0x15a),_0x3e77fe(0x10a),_0x3e77fe(0x12b),_0x342c54(0xf6),_0x342c54(0x199),_0x342c54(0x1e5),_0x3e77fe(0x1e2),_0x3e77fe(0xed),_0x342c54(0x200),_0x342c54(0x197),_0x3e77fe(0xe6),_0x342c54(0x1ff),_0x342c54(0xfe),_0x342c54(0x1c8),_0x342c54(0x16a),_0x342c54(0x154),_0x342c54(0xe4),_0x342c54(0x126),_0x3e77fe(0x167),_0x342c54(0x180),_0x342c54(0x1bb),_0x3e77fe(0xf9),_0x342c54(0x1d0),_0x342c54(0xd6),_0x3e77fe(0x204),_0x3e77fe(0x158),_0x342c54(0x170),_0x2cd712(0x1a7),_0x342c54(0x119),_0x342c54(0x152),_0x342c54(0x18d),_0x342c54(0x123),_0x342c54(0xf9),_0x342c54(0x1b9),_0x342c54(0xfa),_0x3e77fe(0x130),_0x342c54(0x1ab),_0x342c54(0x135),_0x3e77fe(0x13e),_0x342c54(0xc5),_0x342c54(0x13b),_0x342c54(0xfc),_0x342c54(0x1f6),_0x342c54(0x136),_0x3e77fe(0xf4),_0x342c54(0x117),_0x342c54(0x17a),_0x342c54(0xf3),_0x342c54(0xea),_0x342c54(0x155),_0x3e77fe(0x1fa),_0x3e77fe(0x17b),_0x342c54(0x1fe),_0x2cd712(0x16b),_0x3e77fe(0x1e0),_0x342c54(0x122),_0x342c54(0x11a),_0x3e77fe(0x142),_0x342c54(0x16d),_0x342c54(0x160),_0x342c54(0x1da),_0x342c54(0x1e0),_0x3e77fe(0x1e5),_0x342c54(0x139),_0x342c54(0x146),_0x3e77fe(0x182),_0x2cd712(0x116),_0x342c54(0x19d),_0x3e77fe(0x149),_0x3e77fe(0xcd),_0x342c54(0x100),_0x3e77fe(0x131),_0x342c54(0x16f),_0x2cd712(0xde),_0x342c54(0x17d),_0x342c54(0x138),_0x342c54(0xef),_0x342c54(0x13f),_0x342c54(0x198),_0x342c54(0x145),_0x342c54(0xcf),_0x3e77fe(0xd9),_0x3e77fe(0x1f7),_0x342c54(0x1e2),_0x342c54(0x1c3),_0x342c54(0x118),_0x342c54(0x1dc),_0x342c54(0xfd),_0x3e77fe(0x114),_0x342c54(0x1eb),_0x342c54(0xda),_0x342c54(0x1e3),_0x3e77fe(0x155),_0x342c54(0xba),_0x342c54(0x167),_0x342c54(0x120),_0x342c54(0x13a),_0x3e77fe(0x11c),_0x342c54(0x182),_0x3e77fe(0x220),_0x342c54(0x1de),_0x342c54(0x11c),_0x342c54(0xbe),_0x342c54(0x1ee),_0x342c54(0x13c),_0x342c54(0xc3),_0x3e77fe(0x1e4),_0x342c54(0x12b),_0x342c54(0x159),_0x342c54(0xbf),_0x342c54(0x1d9),_0x342c54(0x121),_0x342c54(0x15f),_0x342c54(0xb5),_0x342c54(0xb7),_0x3e77fe(0x144),_0x342c54(0x164),_0x342c54(0xce),_0x2cd712(0xfa),_0x342c54(0x1b6),_0x342c54(0x1a7),_0x2cd712(0xdd),_0x342c54(0xd3),_0x342c54(0x132),_0x3e77fe(0x1e7),_0x342c54(0x1f5),_0x3e77fe(0x10b),_0x342c54(0x174),_0x342c54(0xf7),_0x342c54(0xc7),_0x342c54(0x156),_0x3e77fe(0xf6),_0x342c54(0x11d),_0x342c54(0xd5),_0x342c54(0xe5),_0x342c54(0x1b3),_0x342c54(0xb6),_0x342c54(0x17e),_0x342c54(0x1bc),_0x3e77fe(0x151),_0x342c54(0x17c),_0x342c54(0x186),_0x342c54(0x14e),_0x3e77fe(0x145),_0x2cd712(0x117),_0x3e77fe(0xee),_0x342c54(0xb4),_0x342c54(0xab),_0x342c54(0x1ac),_0x342c54(0x1dd),_0x342c54(0x183),_0x342c54(0x16e),_0x342c54(0x10b),_0x342c54(0x161),_0x342c54(0x1b2),_0x342c54(0x1df),_0x3e77fe(0x207),_0x342c54(0xd1),_0x342c54(0xe9),_0x50aa75(0x221),_0x3e77fe(0x126),_0x342c54(0x19c),_0x342c54(0x111),_0x2cd712(0x1e9),_0x3e77fe(0x139),_0x342c54(0x184),_0x342c54(0x141),_0x3e77fe(0x128),_0x3e77fe(0x1a7),_0x342c54(0x189),_0x342c54(0x1a9),_0x342c54(0x1ec),_0x3e77fe(0x105),_0x342c54(0xb0),_0x342c54(0xf0),_0x342c54(0x143),_0x342c54(0xcb),_0x342c54(0x1ea),_0x342c54(0xb8),_0x342c54(0xca),_0x342c54(0x1b5),_0x3e77fe(0x1cb),_0x342c54(0x1cd),_0x342c54(0x124),_0x342c54(0x1d1),_0x342c54(0x1af),_0x342c54(0x175),_0x342c54(0x185),_0x3e77fe(0xd2),_0x342c54(0x1f1),_0x342c54(0xd8),_0x3e77fe(0x100),_0x342c54(0x1a8),_0x342c54(0x1c6),_0x3e77fe(0x18b),_0x342c54(0x1d3),_0x3e77fe(0x1a2),_0x342c54(0xbc),_0x342c54(0xdd),_0x342c54(0x1f3),_0x3e77fe(0xe4),_0x342c54(0x128),_0x3e77fe(0x127),_0x3e77fe(0x1b3),_0x3e77fe(0x1f4),_0x342c54(0x1b7),_0x342c54(0x107),_0x342c54(0x125),_0x342c54(0xfb),_0x2cd712(0xe0),_0x342c54(0x12d),_0x3e77fe(0x1fd),_0x342c54(0x19b),_0x342c54(0x163),_0x3e77fe(0x1aa),_0x342c54(0x1a4),_0x342c54(0x10c),_0x2cd712(0x14d),_0x342c54(0x130),_0x342c54(0x1f8),_0x342c54(0xec),_0x342c54(0x10a),_0x342c54(0x148),_0x342c54(0x112),_0x342c54(0x101),_0x342c54(0xdf)];return a0_0x243d=function(){return _0x5189b6;},a0_0x243d();}function drawDotTouch(_0x29d056,_0x507c34){const _0x292103=a0_0x111e,_0x1019fb=a0_0x35c9,_0x4c7594=a0_0x56c5,_0x5259f1=a0_0x5049d9,_0x1ff4d5=a0_0x38aafa;let _0x4adba0=getCurrentProject(),_0x3ddd21=getCurrentFrame();if(_0x29d056<0x0||_0x507c34<0x0||_0x29d056>=_0x4adba0[_0x1ff4d5(0x1b8)]||_0x507c34>=_0x4adba0[_0x1ff4d5(0x27c)])return;let _0x25a47c=_0x3ddd21[_0x1ff4d5(0x262)][_0x3ddd21[_0x1ff4d5(0x1b5)]][_0x4c7594(0xee)]('2d');if(currentTool===_0x1019fb(0x120)||currentColor===_0x1019fb(0x15a)||currentColor===_0x1ff4d5(0x25c)||currentAlpha===0x0)drawPenShape(_0x25a47c,_0x29d056,_0x507c34,_0x1ff4d5(0x25c),!![]);else{let _0x34ba0b=hexToRgba(currentColor,currentAlpha);_0x25a47c[_0x1ff4d5(0x1fe)](),_0x25a47c[_0x1ff4d5(0x2a0)]=_0x34ba0b[0x3]/0xff,drawPenShape(_0x25a47c,_0x29d056,_0x507c34,_0x5259f1(0x12a)+_0x34ba0b[0x0]+','+_0x34ba0b[0x1]+','+_0x34ba0b[0x2]+','+_0x34ba0b[0x3]/0xff+')',![]),_0x25a47c[_0x292103(0x1de)]();}redrawAll();}function applyTheme(_0x4e8101){const _0x32bcb9=a0_0x5049d9,_0x247eaa=a0_0x38aafa;document[_0x247eaa(0x199)][_0x247eaa(0x2b4)](_0x247eaa(0x206),_0x4e8101);const _0x20df9a=document[_0x247eaa(0x275)](_0x247eaa(0x189));_0x20df9a&&(_0x20df9a[_0x32bcb9(0x154)]=_0x4e8101===_0x32bcb9(0x122)?'☀️':'🌙',_0x20df9a[_0x247eaa(0x2b4)](_0x247eaa(0x2a9),_0x4e8101===_0x32bcb9(0x122)),_0x20df9a[_0x32bcb9(0x124)]=_0x4e8101===_0x247eaa(0x2ee)?_0x32bcb9(0x1ee):_0x247eaa(0x1d0)),localStorage[_0x247eaa(0x1fc)](_0x247eaa(0x1a4),_0x4e8101);}function toggleTheme(){const _0x51b426=a0_0x5049d9,_0x53697d=a0_0x38aafa;applyTheme(document[_0x51b426(0x15e)][_0x51b426(0xe2)](_0x53697d(0x206))===_0x53697d(0x2ee)?_0x53697d(0x21b):_0x53697d(0x2ee));}(function initTheme(){const _0x237b04=a0_0x56c5,_0x58c292=a0_0x5049d9,_0x43c8ae=a0_0x38aafa,_0x44e3db=localStorage[_0x43c8ae(0x1d5)](_0x43c8ae(0x1a4))||(window[_0x58c292(0xe3)]&&window[_0x43c8ae(0x2af)](_0x43c8ae(0x208))[_0x237b04(0xd9)]?_0x58c292(0x122):_0x43c8ae(0x21b));applyTheme(_0x44e3db),document[_0x43c8ae(0x21d)](_0x43c8ae(0x293),()=>{const _0x1b7d37=_0x237b04,_0x5b3a3b=_0x43c8ae,_0xfcc350=document[_0x5b3a3b(0x275)](_0x5b3a3b(0x189));_0xfcc350&&(_0xfcc350[_0x5b3a3b(0x21d)](_0x1b7d37(0xab),toggleTheme),_0xfcc350[_0x5b3a3b(0x21d)](_0x5b3a3b(0x1cc),_0x47892a=>{const _0x3003b7=_0x5b3a3b;(_0x47892a[_0x3003b7(0x2c5)]===_0x3003b7(0x276)||_0x47892a[_0x3003b7(0x2c5)]==='\x20')&&(_0x47892a[_0x3003b7(0x1ce)](),toggleTheme());}));});}(),window[a0_0x521960(0x14d)]=()=>{const _0x4e5c02=a0_0x521960,_0x536718=a0_0x5049d9,_0x3758a2=a0_0x38aafa;projects=[createProject()],activeProject=0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),initCanvas(),setTool(_0x536718(0x238)),loadPaletteFromDB()[_0x3758a2(0x17f)](()=>createPalette()),document[_0x4e5c02(0x182)](_0x4e5c02(0x191))[_0x3758a2(0x24e)]=penSize,document[_0x3758a2(0x275)](_0x536718(0xf4))[_0x3758a2(0x24e)]=penMode;const _0x344834=document[_0x3758a2(0x275)](_0x3758a2(0x229)),_0x1278a3=document[_0x3758a2(0x275)](_0x3758a2(0x205));_0x344834&&_0x1278a3&&(_0x344834[_0x536718(0x12e)]=animationDelay,_0x1278a3[_0x3758a2(0x24e)]=animationDelay,_0x344834[_0x3758a2(0x28a)]=_0x41346d=>{const _0x41ec9b=_0x536718,_0x4bd9fa=_0x3758a2;_0x1278a3[_0x41ec9b(0x12e)]=_0x41346d[_0x4bd9fa(0x2e5)][_0x4bd9fa(0x24e)],setAnimationDelay(_0x41346d[_0x4bd9fa(0x2e5)][_0x4bd9fa(0x24e)]);},_0x1278a3[_0x3758a2(0x222)]=_0x587c36=>{const _0xe0e7c4=_0x4e5c02,_0x4b8a8c=_0x536718,_0x28785b=_0x3758a2;let _0x407a5e=Math[_0x28785b(0x2c3)](0xa,Math[_0x4b8a8c(0x18d)](0x1388,parseInt(_0x587c36[_0x28785b(0x2e5)][_0xe0e7c4(0x149)])||animationDelay));_0x344834[_0x28785b(0x24e)]=_0x407a5e,_0x1278a3[_0x4b8a8c(0x12e)]=_0x407a5e,setAnimationDelay(_0x407a5e);}),canvas[_0x3758a2(0x239)]=handleMouseMove,canvas[_0x3758a2(0x238)]=handleMouseUp,canvas[_0x3758a2(0x1b7)]=handleMouseUp,canvas[_0x3758a2(0x21a)]=handleTouchStart,canvas[_0x3758a2(0x267)]=handleTouchMove,canvas[_0x3758a2(0x212)]=handleTouchEnd,canvas[_0x3758a2(0x2ac)]=handleTouchEnd,canvas[_0x3758a2(0x21d)](_0x536718(0x1d8),handleTouchStart,{'passive':![]}),canvas[_0x3758a2(0x21d)](_0x3758a2(0x28f),handleTouchMove,{'passive':![]}),canvas[_0x536718(0x1a3)](_0x3758a2(0x1e1),handleTouchEnd,{'passive':![]}),canvas[_0x3758a2(0x21d)](_0x3758a2(0x1b6),handleTouchEnd,{'passive':![]}),idbGet(_0x3758a2(0x263))&&loadProjectFromIDB();});function drawGrid(_0x51e788,_0x5762ae){const _0x23aa20=a0_0x521960,_0x3fe6dd=a0_0x5049d9,_0x9f7b1c=a0_0x38aafa;ctx[_0x9f7b1c(0x1fe)](),ctx[_0x9f7b1c(0x2b5)]=_0x9f7b1c(0x26b);for(let _0x23f495=0x0;_0x23f495<=_0x51e788;_0x23f495++){ctx[_0x9f7b1c(0x2eb)](),ctx[_0x9f7b1c(0x29e)](_0x23f495*cellSize,0x0),ctx[_0x23aa20(0xae)](_0x23f495*cellSize,_0x5762ae*cellSize),ctx[_0x3fe6dd(0x201)]();}for(let _0x2898ff=0x0;_0x2898ff<=_0x5762ae;_0x2898ff++){ctx[_0x23aa20(0x108)](),ctx[_0x9f7b1c(0x29e)](0x0,_0x2898ff*cellSize),ctx[_0x3fe6dd(0xf3)](_0x51e788*cellSize,_0x2898ff*cellSize),ctx[_0x9f7b1c(0x2d9)]();}ctx[_0x9f7b1c(0x2df)]();}function redrawAll(){const _0xd75a51=a0_0x521960,_0x53d98d=a0_0x5049d9,_0xf62b43=a0_0x38aafa;let _0xa63597=getCurrentProject(),_0x354f80=getCurrentFrame();canvas[_0xf62b43(0x1b8)]=_0xa63597[_0xf62b43(0x1b8)]*cellSize,canvas[_0xf62b43(0x27c)]=_0xa63597[_0xf62b43(0x27c)]*cellSize,ctx[_0x53d98d(0x172)](0x0,0x0,canvas[_0xf62b43(0x1b8)],canvas[_0xd75a51(0x1ff)]);for(let _0x292f4f=0x0;_0x292f4f<_0x354f80[_0xf62b43(0x262)][_0x53d98d(0xf5)];_0x292f4f++){ctx[_0x53d98d(0x230)](_0x354f80[_0xf62b43(0x262)][_0x292f4f],0x0,0x0);}drawGrid(_0xa63597[_0x53d98d(0x190)],_0xa63597[_0xf62b43(0x27c)]),wrapper&&(wrapper[_0xf62b43(0x1f8)][_0x53d98d(0x190)]=_0xf62b43(0x2d3),wrapper[_0xf62b43(0x1f8)][_0xf62b43(0x27c)]=_0xf62b43(0x1ae));}function saveHistory(){const _0x55b344=a0_0x521960,_0x49eced=a0_0x5049d9,_0x3cce9b=a0_0x38aafa;let _0x10dc92=getCurrentFrame(),_0x5f464b=_0x10dc92[_0x3cce9b(0x29c)][_0x10dc92[_0x3cce9b(0x1b5)]];_0x5f464b[_0x49eced(0x19e)](_0x10dc92[_0x3cce9b(0x262)][_0x10dc92[_0x3cce9b(0x1b5)]][_0x55b344(0xd5)]());if(_0x5f464b[_0x3cce9b(0x1c4)]>0x32)_0x5f464b[_0x3cce9b(0x1d7)]();_0x10dc92[_0x3cce9b(0x2d0)][_0x10dc92[_0x49eced(0x215)]]=[];}function undo(){const _0x11278d=a0_0x521960,_0x583d53=a0_0x5049d9,_0x1acbe3=a0_0x38aafa;let _0x310d94=getCurrentFrame(),_0x256e9e=_0x310d94[_0x1acbe3(0x29c)][_0x310d94[_0x583d53(0x215)]],_0x11e84c=_0x310d94[_0x1acbe3(0x2d0)][_0x310d94[_0x1acbe3(0x1b5)]];if(!_0x256e9e||_0x256e9e[_0x1acbe3(0x1c4)]<0x2)return;_0x11e84c[_0x583d53(0x19e)](_0x256e9e[_0x11278d(0xbd)]());let _0x499799=new Image();_0x499799[_0x1acbe3(0x185)]=()=>{const _0xba2f71=_0x583d53,_0x54b206=_0x1acbe3;let _0x326a0c=_0x310d94[_0x54b206(0x262)][_0x310d94[_0x54b206(0x1b5)]][_0x54b206(0x2c6)]('2d');_0x326a0c[_0x54b206(0x22d)](0x0,0x0,_0x310d94[_0x54b206(0x262)][_0x310d94[_0xba2f71(0x215)]][_0x54b206(0x1b8)],_0x310d94[_0x54b206(0x262)][_0x310d94[_0x54b206(0x1b5)]][_0x54b206(0x27c)]),_0x326a0c[_0xba2f71(0x230)](_0x499799,0x0,0x0),redrawAll();},_0x499799[_0x583d53(0x1ec)]=_0x256e9e[_0x256e9e[_0x11278d(0xd7)]-0x1];}function redo(){const _0x1e89ed=a0_0x5049d9,_0x243b3e=a0_0x38aafa;let _0x5aa240=getCurrentFrame(),_0x1c4360=_0x5aa240[_0x1e89ed(0x195)][_0x5aa240[_0x1e89ed(0x215)]],_0x21c070=_0x5aa240[_0x1e89ed(0x179)][_0x5aa240[_0x1e89ed(0x215)]];if(!_0x21c070||_0x21c070[_0x1e89ed(0xf5)]===0x0)return;let _0xae70f3=_0x21c070[_0x243b3e(0x1ea)]();_0x1c4360[_0x1e89ed(0x19e)](_0xae70f3);let _0x899799=new Image();_0x899799[_0x243b3e(0x185)]=()=>{const _0x3bf18f=a0_0x56c5,_0x120852=_0x1e89ed,_0x135941=_0x243b3e;let _0x549fcb=_0x5aa240[_0x120852(0x13d)][_0x5aa240[_0x135941(0x1b5)]][_0x135941(0x2c6)]('2d');_0x549fcb[_0x135941(0x22d)](0x0,0x0,_0x5aa240[_0x135941(0x262)][_0x5aa240[_0x135941(0x1b5)]][_0x3bf18f(0x13a)],_0x5aa240[_0x120852(0x13d)][_0x5aa240[_0x120852(0x215)]][_0x135941(0x27c)]),_0x549fcb[_0x135941(0x1ff)](_0x899799,0x0,0x0),redrawAll();},_0x899799[_0x243b3e(0x1b3)]=_0xae70f3;}function exportImage(_0x311b77){const _0x5bfbd9=a0_0x521960,_0xe70cf3=a0_0x5049d9,_0x19518b=a0_0x38aafa;let _0x3f089b=getCurrentProject(),_0x299ef3=_0x3f089b[_0x19518b(0x2b3)],_0x47f3bd=_0x311b77===_0x19518b(0x248)||_0x311b77===_0x19518b(0x242)?_0x19518b(0x18a):_0x19518b(0x203)+_0x311b77,_0x2a1c97=_0x299ef3[_0x19518b(0x1c4)]>0x1,_0x4fd989=(_0x3f089b[_0x19518b(0x2e6)]||_0x19518b(0x200))[_0x19518b(0x27d)](/[\\/:*?"<>|]/g,'_');if(!_0x2a1c97){let _0x1c1456=document[_0x19518b(0x1d6)](_0x19518b(0x19d));_0x1c1456[_0xe70cf3(0x190)]=_0x3f089b[_0x19518b(0x1b8)]*cellSize,_0x1c1456[_0x5bfbd9(0x1ff)]=_0x3f089b[_0x19518b(0x27c)]*cellSize;let _0x55873f=_0x1c1456[_0xe70cf3(0x162)]('2d'),_0x23ae22=getCurrentFrame();for(let _0x40a7e7=0x0;_0x40a7e7<_0x23ae22[_0x19518b(0x262)][_0x19518b(0x1c4)];_0x40a7e7++){_0x55873f[_0xe70cf3(0x230)](_0x23ae22[_0x19518b(0x262)][_0x40a7e7],0x0,0x0);}let _0x5422f3=document[_0x19518b(0x1d6)]('a');_0x5422f3[_0x19518b(0x215)]=_0x4fd989+'.'+_0x311b77,_0x311b77===_0x19518b(0x248)||_0x311b77===_0xe70cf3(0x1dd)?_0x5422f3[_0xe70cf3(0x1a4)]=_0x1c1456[_0x19518b(0x1df)](_0x47f3bd,0.92):_0x5422f3[_0x19518b(0x1c8)]=_0x1c1456[_0x19518b(0x1df)](_0x47f3bd),_0x5422f3[_0xe70cf3(0x1c3)]();}else{if(_0x311b77===_0x19518b(0x1bf)&&typeof window[_0x19518b(0x2da)]!==_0x19518b(0x225))exportWebpAnimation(_0x299ef3,_0x3f089b[_0x19518b(0x1b8)]*cellSize,_0x3f089b[_0x19518b(0x27c)]*cellSize,_0x4fd989);else for(let _0x1f3015=0x0;_0x1f3015<_0x299ef3[_0x19518b(0x1c4)];_0x1f3015++){let _0x1772af=document[_0x19518b(0x1d6)](_0x19518b(0x19d));_0x1772af[_0x19518b(0x1b8)]=_0x3f089b[_0x19518b(0x1b8)]*cellSize,_0x1772af[_0x19518b(0x27c)]=_0x3f089b[_0x19518b(0x27c)]*cellSize;let _0x2993c0=_0x1772af[_0xe70cf3(0x162)]('2d'),_0x1b42af=_0x299ef3[_0x1f3015];for(let _0x53e5f6=0x0;_0x53e5f6<_0x1b42af[_0x19518b(0x262)][_0x19518b(0x1c4)];_0x53e5f6++){_0x2993c0[_0x19518b(0x1ff)](_0x1b42af[_0xe70cf3(0x13d)][_0x53e5f6],0x0,0x0);}let _0xe24ea0=document[_0x19518b(0x1d6)]('a');_0xe24ea0[_0x19518b(0x215)]=_0x4fd989+'-f'+(_0x1f3015+0x1)+'.'+_0x311b77,_0x311b77===_0x19518b(0x248)||_0x311b77===_0x19518b(0x242)?_0xe24ea0[_0xe70cf3(0x1a4)]=_0x1772af[_0x19518b(0x1df)](_0x47f3bd,0.92):_0xe24ea0[_0x19518b(0x1c8)]=_0x1772af[_0xe70cf3(0x1b5)](_0x47f3bd),setTimeout(()=>_0xe24ea0[_0x19518b(0x2ed)](),_0x1f3015*0x64);}}}async function exportWebpAnimation(_0x1e8dfe,_0x448d21,_0x4c28c1,_0x2df89b=a0_0x38aafa(0x21f)){const _0x514e70=a0_0x521960,_0x4508b5=a0_0x5049d9,_0xa67393=a0_0x38aafa;if(!window[_0xa67393(0x2da)]||!window[_0xa67393(0x194)]){alert(_0xa67393(0x27b));return;}const _0x2c4934=[],_0x4a73d8=new VideoEncoder({'output':_0x336a97=>_0x2c4934[_0xa67393(0x278)](_0x336a97),'error':_0x16a1f3=>console[_0x4508b5(0x1e8)](_0x16a1f3)});_0x4a73d8[_0xa67393(0x2a8)]({'codec':_0xa67393(0x2d2),'width':_0x448d21,'height':_0x4c28c1,'framerate':0x5});for(let _0x3c211f=0x0;_0x3c211f<_0x1e8dfe[_0x4508b5(0xf5)];_0x3c211f++){let _0xb2a354=document[_0xa67393(0x1d6)](_0xa67393(0x19d));_0xb2a354[_0xa67393(0x1b8)]=_0x448d21,_0xb2a354[_0xa67393(0x27c)]=_0x4c28c1;let _0x52c058=_0xb2a354[_0xa67393(0x2c6)]('2d'),_0x1f4d7b=_0x1e8dfe[_0x3c211f];for(let _0x2ec872=0x0;_0x2ec872<_0x1f4d7b[_0xa67393(0x262)][_0x4508b5(0xf5)];_0x2ec872++){_0x52c058[_0xa67393(0x1ff)](_0x1f4d7b[_0xa67393(0x262)][_0x2ec872],0x0,0x0);}let _0x567431=await createImageBitmap(_0xb2a354);_0x4a73d8[_0xa67393(0x1e2)](_0x567431,{'keyFrame':!![],'duration':0xc8}),_0x567431[_0xa67393(0x2e3)]();}await _0x4a73d8[_0xa67393(0x209)](),_0x4a73d8[_0xa67393(0x2e3)]();const _0x15c238=new Blob(_0x2c4934[_0xa67393(0x294)](_0x23f047=>_0x23f047[_0xa67393(0x2c8)]?_0x23f047:_0x23f047[_0xa67393(0x261)]),{'type':_0x514e70(0x193)}),_0x12da0c=document[_0xa67393(0x1d6)]('a');_0x12da0c[_0xa67393(0x215)]=_0x2df89b+_0xa67393(0x257),_0x12da0c[_0xa67393(0x1c8)]=URL[_0xa67393(0x201)](_0x15c238),_0x12da0c[_0xa67393(0x2ed)]();}function exportGif(){const _0x14546b=a0_0x38aafa;let _0x456cdf=getCurrentProject(),_0x2d52ef=_0x456cdf[_0x14546b(0x2b3)],_0x141e91=_0x456cdf[_0x14546b(0x1b8)]*cellSize,_0xd6e10b=_0x456cdf[_0x14546b(0x27c)]*cellSize;const _0x1129b1=_0x2d52ef[_0x14546b(0x294)](_0x2a88a9=>{const _0x529230=a0_0x3f33,_0x19c90d=a0_0xce2f,_0x2e9a04=_0x14546b;let _0x31d5b2=document[_0x19c90d(0x1f6)](_0x529230(0x183));_0x31d5b2[_0x2e9a04(0x1b8)]=_0x141e91,_0x31d5b2[_0x2e9a04(0x27c)]=_0xd6e10b;let _0xe447bb=_0x31d5b2[_0x19c90d(0x162)]('2d');for(let _0x26c308=0x0;_0x26c308<_0x2a88a9[_0x2e9a04(0x262)][_0x19c90d(0xf5)];_0x26c308++){_0xe447bb[_0x2e9a04(0x1ff)](_0x2a88a9[_0x2e9a04(0x262)][_0x26c308],0x0,0x0);}return _0x31d5b2[_0x2e9a04(0x1df)](_0x2e9a04(0x1fa));});Promise[_0x14546b(0x25a)](_0x1129b1[_0x14546b(0x294)](_0xf2fe04=>{return new Promise(_0x52e570=>{const _0x531734=a0_0x1925,_0x45397c=new Image();_0x45397c[_0x531734(0x1b3)]=_0xf2fe04,_0x45397c[_0x531734(0x185)]=()=>_0x52e570(_0x45397c);});}))[_0x14546b(0x17f)](_0x3830d8=>{const _0x184b1a=a0_0xce2f,_0x294475=_0x14546b,_0x225470=_0x3830d8[_0x294475(0x268)](_0x5de629=>_0x5de629[_0x294475(0x1b8)]>0x0&&_0x5de629[_0x294475(0x27c)]>0x0);if(_0x225470[_0x184b1a(0xf5)]===0x0){alert(_0x294475(0x1fb));return;}const _0x4238c9=(_0x456cdf[_0x294475(0x2e6)]||_0x294475(0x21f))[_0x294475(0x27d)](/[\\/:*?"<>|]/g,'_');convertToGIF(_0x225470,animationDelay,_0x4238c9+_0x294475(0x2d1));});}function exportApng(){const _0x46aef4=a0_0x35c9,_0x18f44b=a0_0x5049d9,_0x36e150=a0_0x38aafa;let _0x597e89=getCurrentProject(),_0x572844=_0x597e89[_0x36e150(0x2b3)],_0x407811=_0x597e89[_0x36e150(0x1b8)]*cellSize,_0x5ec643=_0x597e89[_0x46aef4(0x118)]*cellSize;const _0x3fae9=_0x572844[_0x36e150(0x294)](_0x1662d0=>{const _0x18997b=a0_0xce2f,_0x3b79bb=_0x36e150;let _0x7283fc=document[_0x3b79bb(0x1d6)](_0x3b79bb(0x19d));_0x7283fc[_0x18997b(0x190)]=_0x407811,_0x7283fc[_0x3b79bb(0x27c)]=_0x5ec643;let _0x178fae=_0x7283fc[_0x18997b(0x162)]('2d');for(let _0x11c090=0x0;_0x11c090<_0x1662d0[_0x3b79bb(0x262)][_0x3b79bb(0x1c4)];_0x11c090++){_0x178fae[_0x18997b(0x230)](_0x1662d0[_0x3b79bb(0x262)][_0x11c090],0x0,0x0);}let _0x2d3e19=new Image();return _0x2d3e19[_0x3b79bb(0x1b3)]=_0x7283fc[_0x18997b(0x1b5)](_0x3b79bb(0x1fa)),_0x2d3e19;}),_0x37dab9=(_0x597e89[_0x18f44b(0x1c1)]||_0x36e150(0x21f))[_0x36e150(0x27d)](/[\\/:*?"<>|]/g,'_');convertToAPNG(_0x3fae9,_0x407811,_0x5ec643,animationDelay,_0x37dab9+_0x36e150(0x274));}const dbName=a0_0x38aafa(0x292),storeName=a0_0x38aafa(0x22e);function openDB(){return new Promise((_0x190fde,_0x1dc855)=>{const _0x1d8e37=a0_0x56c5,_0x49b0e4=a0_0xce2f,_0x3b21e8=a0_0x1925,_0x45c481=indexedDB[_0x49b0e4(0x144)](dbName,0x1);_0x45c481[_0x3b21e8(0x273)]=()=>{const _0x58026a=a0_0x35c9,_0xedfe96=_0x49b0e4;_0x45c481[_0xedfe96(0x219)][_0x58026a(0x173)](storeName);},_0x45c481[_0x1d8e37(0xcc)]=()=>_0x190fde(_0x45c481[_0x49b0e4(0x219)]),_0x45c481[_0x3b21e8(0x1c5)]=()=>_0x1dc855(_0x45c481[_0x3b21e8(0x181)]);});}async function idbSet(_0x464bfe,_0x330e32){const _0x5b4967=await openDB();return new Promise((_0x511f87,_0x59d77c)=>{const _0x4d72fd=a0_0xce2f,_0x16d6c2=a0_0x1925,_0x510a8e=_0x5b4967[_0x16d6c2(0x27f)](storeName,_0x16d6c2(0x259));_0x510a8e[_0x16d6c2(0x226)](storeName)[_0x16d6c2(0x297)](_0x330e32,_0x464bfe),_0x510a8e[_0x16d6c2(0x2a3)]=()=>_0x511f87(),_0x510a8e[_0x4d72fd(0x149)]=()=>_0x59d77c(_0x510a8e[_0x4d72fd(0x1e8)]);});}async function idbGet(_0x2061c0){const _0x284c62=await openDB();return new Promise((_0x8509af,_0x3f505f)=>{const _0x38d267=a0_0xce2f,_0x22aab7=a0_0x1925,_0xbeabbd=_0x284c62[_0x22aab7(0x27f)](storeName,_0x22aab7(0x223)),_0x17631c=_0xbeabbd[_0x22aab7(0x226)](storeName)[_0x22aab7(0x2b8)](_0x2061c0);_0x17631c[_0x22aab7(0x260)]=()=>_0x8509af(_0x17631c[_0x38d267(0x219)]),_0x17631c[_0x22aab7(0x1c5)]=()=>_0x3f505f(_0x17631c[_0x22aab7(0x181)]);});}async function idbDelete(_0x3ac43e){const _0x6bf4b4=await openDB();return new Promise((_0x4b9744,_0x4df672)=>{const _0x61b210=a0_0x56c5,_0x3de43c=a0_0xce2f,_0x2f16ff=a0_0x1925,_0x521b04=_0x6bf4b4[_0x3de43c(0x13f)](storeName,_0x3de43c(0x130));_0x521b04[_0x2f16ff(0x226)](storeName)[_0x61b210(0x109)](_0x3ac43e),_0x521b04[_0x2f16ff(0x2a3)]=()=>_0x4b9744(),_0x521b04[_0x2f16ff(0x1c5)]=()=>_0x4df672(_0x521b04[_0x3de43c(0x1e8)]);});}async function idbClear(){const _0x4b4ed5=await openDB();return new Promise((_0x3f968a,_0x561b38)=>{const _0x1b7bf7=a0_0x56c5,_0x36161f=a0_0xce2f,_0x224e2d=a0_0x1925,_0x565c5e=_0x4b4ed5[_0x224e2d(0x27f)](storeName,_0x224e2d(0x259));_0x565c5e[_0x224e2d(0x226)](storeName)[_0x224e2d(0x1e0)](),_0x565c5e[_0x36161f(0x220)]=()=>_0x3f968a(),_0x565c5e[_0x224e2d(0x1c5)]=()=>_0x561b38(_0x565c5e[_0x1b7bf7(0x1d1)]);});}function saveProjectFile(){const _0x24d391=a0_0x521960,_0x1c6055=a0_0x5049d9,_0x97163f=a0_0x38aafa,_0x4e6863={'projects':projects[_0x97163f(0x294)](_0x5d7329=>({'width':_0x5d7329[_0x97163f(0x1b8)],'height':_0x5d7329[_0x97163f(0x27c)],'name':_0x5d7329[_0x97163f(0x2e6)]||'','activeFrame':_0x5d7329[_0x97163f(0x2a5)],'frames':_0x5d7329[_0x97163f(0x2b3)][_0x97163f(0x294)](_0x19b5fa=>({'activeLayer':_0x19b5fa[_0x97163f(0x1b5)],'layers':_0x19b5fa[_0x1c6055(0x13d)][_0x97163f(0x294)](_0x59522c=>_0x59522c[_0x97163f(0x1df)]())}))})),'activeProject':activeProject},_0x454b52=new Blob([JSON[_0x97163f(0x1e5)](_0x4e6863)],{'type':_0x97163f(0x299)}),_0x404056=document[_0x97163f(0x1d6)]('a');_0x404056[_0x24d391(0xf0)]=_0x1c6055(0x1d9),_0x404056[_0x97163f(0x1c8)]=URL[_0x97163f(0x201)](_0x454b52),_0x404056[_0x97163f(0x2ed)]();}function a0_0x1925(_0x562629,_0x5ae519){_0x562629=_0x562629-0x17d;const _0x77ae99=a0_0x5ad1();let _0x70b07=_0x77ae99[_0x562629];return _0x70b07;}function saveProjectFile(){const _0x5c5c97=a0_0x5049d9,_0x43cec2=a0_0x38aafa,_0x331359={'projects':projects[_0x43cec2(0x294)](_0x5cda35=>({'width':_0x5cda35[_0x5c5c97(0x190)],'height':_0x5cda35[_0x43cec2(0x27c)],'name':_0x5cda35[_0x43cec2(0x2e6)]||'','activeFrame':_0x5cda35[_0x43cec2(0x2a5)],'frames':_0x5cda35[_0x43cec2(0x2b3)][_0x43cec2(0x294)](_0x3b36ff=>({'activeLayer':_0x3b36ff[_0x43cec2(0x1b5)],'layers':_0x3b36ff[_0x43cec2(0x262)][_0x43cec2(0x294)](_0x14f301=>_0x14f301[_0x43cec2(0x1df)]())}))})),'activeProject':activeProject},_0x410aaf=new Blob([JSON[_0x43cec2(0x1e5)](_0x331359)],{'type':_0x43cec2(0x299)}),_0x3a945c=document[_0x43cec2(0x1d6)]('a');_0x3a945c[_0x43cec2(0x215)]=_0x43cec2(0x2bf),_0x3a945c[_0x43cec2(0x1c8)]=URL[_0x43cec2(0x201)](_0x410aaf),_0x3a945c[_0x43cec2(0x2ed)]();}async function saveProjectToIDB(){const _0x20a4ba=a0_0x5049d9,_0x362974=a0_0x38aafa,_0x41342c={'projects':projects[_0x20a4ba(0x18f)](_0x493da4=>({'width':_0x493da4[_0x362974(0x1b8)],'height':_0x493da4[_0x362974(0x27c)],'name':_0x493da4[_0x362974(0x2e6)]||'','activeFrame':_0x493da4[_0x362974(0x2a5)],'frames':_0x493da4[_0x362974(0x2b3)][_0x362974(0x294)](_0xaeefbc=>({'activeLayer':_0xaeefbc[_0x362974(0x1b5)],'layers':_0xaeefbc[_0x362974(0x262)][_0x20a4ba(0x18f)](_0x59d24a=>_0x59d24a[_0x362974(0x1df)]())}))})),'activeProject':activeProject};try{await idbSet(_0x20a4ba(0x11b),_0x41342c),console[_0x20a4ba(0x1a0)](_0x362974(0x21c));}catch(_0x366eb1){console[_0x362974(0x181)](_0x20a4ba(0x133),_0x366eb1);}}setInterval(()=>{saveProjectToIDB();},0x2710),window[a0_0x38aafa(0x21d)](a0_0x38aafa(0x22c),_0xb750d7=>{saveProjectToIDB();});function loadProjectFile(_0x42f52f){const _0x2221c8=a0_0x5049d9,_0x4a5195=a0_0x38aafa,_0x4179a4=_0x42f52f[_0x2221c8(0x1d3)][_0x4a5195(0x23c)][0x0];if(!_0x4179a4)return;if(_0x4179a4[_0x4a5195(0x17d)]&&_0x4179a4[_0x4a5195(0x17d)][_0x4a5195(0x1a3)](_0x2221c8(0xfd))){loadStandaloneFromFile(_0x4179a4)[_0x2221c8(0xf1)](_0x410077=>{const _0x397424=_0x4a5195;alert(_0x397424(0x283)+(_0x410077[_0x397424(0x2e6)]||'画像'));})[_0x4a5195(0x1c7)](_0x3683ab=>{const _0x20979d=_0x4a5195;console[_0x20979d(0x2c1)](_0x3683ab),alert(_0x20979d(0x2d4));});return;}const _0xf1aa45=new FileReader();_0xf1aa45[_0x4a5195(0x185)]=function(_0x2de097){const _0x15b69a=_0x4a5195;try{const _0x1bcc3b=JSON[_0x15b69a(0x288)](_0x2de097[_0x15b69a(0x2e5)][_0x15b69a(0x192)]);projects=_0x1bcc3b[_0x15b69a(0x24f)][_0x15b69a(0x294)]((_0xfceeb0,_0x2ee275)=>{const _0xf52a7f=a0_0xce2f,_0xa24ed5=_0x15b69a;let _0x3a3548=createProject(_0xfceeb0[_0xf52a7f(0x190)],_0xfceeb0[_0xa24ed5(0x27c)],_0xfceeb0[_0xa24ed5(0x2e6)]||'画像'+(_0x2ee275+0x1));return _0x3a3548[_0xa24ed5(0x2b3)]=_0xfceeb0[_0xf52a7f(0x17f)][_0xa24ed5(0x294)](_0x360676=>{const _0x3d161e=a0_0x56c5,_0x4082b8=_0xf52a7f,_0x2d053a=_0xa24ed5;let _0x4634fb={'layers':[],'activeLayer':_0x360676[_0x2d053a(0x1b5)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x415426=0x0;_0x415426<_0x360676[_0x4082b8(0x13d)][_0x4082b8(0xf5)];_0x415426++){let _0x37e54d=new Image();_0x37e54d[_0x2d053a(0x1b3)]=_0x360676[_0x2d053a(0x262)][_0x415426];let _0x3b8821=document[_0x2d053a(0x1d6)](_0x2d053a(0x19d));_0x3b8821[_0x2d053a(0x1b8)]=_0xfceeb0[_0x2d053a(0x1b8)]*cellSize,_0x3b8821[_0x3d161e(0x1ff)]=_0xfceeb0[_0x2d053a(0x27c)]*cellSize,_0x37e54d[_0x2d053a(0x185)]=()=>{const _0x4a6a3f=_0x3d161e,_0x4169d5=_0x2d053a;let _0x3d0473=_0x3b8821[_0x4169d5(0x2c6)]('2d');_0x3d0473[_0x4a6a3f(0x151)](0x0,0x0,_0x3b8821[_0x4169d5(0x1b8)],_0x3b8821[_0x4169d5(0x27c)]),_0x3d0473[_0x4169d5(0x1ff)](_0x37e54d,0x0,0x0);},_0x37e54d[_0x3d161e(0x14d)](),_0x4634fb[_0x2d053a(0x262)][_0x2d053a(0x278)](_0x3b8821),_0x4634fb[_0x4082b8(0x195)][_0x2d053a(0x278)]([]),_0x4634fb[_0x2d053a(0x2d0)][_0x2d053a(0x278)]([]);}return _0x4634fb;}),_0x3a3548[_0xa24ed5(0x2a5)]=_0xfceeb0[_0xf52a7f(0x12c)],_0x3a3548[_0xf52a7f(0x1c1)]=_0xfceeb0[_0xa24ed5(0x2e6)]||'画像'+(_0x2ee275+0x1),_0x3a3548;}),activeProject=_0x1bcc3b[_0x15b69a(0x23d)]||0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}catch(_0x153230){alert(_0x15b69a(0x211));}},_0xf1aa45[_0x2221c8(0x197)](_0x4179a4);}async function loadProjectFromIDB(){const _0x4c8b8a=a0_0x35c9,_0x3fb31b=a0_0x521960,_0x196676=a0_0x5049d9,_0x382d44=a0_0x38aafa;try{const _0x596a12=await idbGet(_0x382d44(0x2e9));if(!_0x596a12)return;projects=_0x596a12[_0x3fb31b(0x1b6)][_0x196676(0x18f)]((_0x14eed0,_0x3eb6ae)=>{const _0x500bea=a0_0x3f33,_0x215499=_0x3fb31b,_0x2dd4a2=_0x382d44;let _0x50c037=createProject(_0x14eed0[_0x2dd4a2(0x1b8)],_0x14eed0[_0x2dd4a2(0x27c)],_0x14eed0[_0x215499(0x179)]||'画像'+(_0x3eb6ae+0x1));return _0x50c037[_0x2dd4a2(0x2b3)]=_0x14eed0[_0x2dd4a2(0x2b3)][_0x2dd4a2(0x294)](_0x32e000=>{const _0x573862=a0_0x35c9,_0xcaebb8=a0_0xce2f,_0x30c558=_0x2dd4a2;let _0x7bd966={'layers':[],'activeLayer':_0x32e000[_0xcaebb8(0x215)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x4040bc=0x0;_0x4040bc<_0x32e000[_0x30c558(0x262)][_0x30c558(0x1c4)];_0x4040bc++){let _0x24217=new Image();_0x24217[_0x30c558(0x1b3)]=_0x32e000[_0x30c558(0x262)][_0x4040bc];let _0x5456c0=document[_0xcaebb8(0x1f6)](_0x30c558(0x19d));_0x5456c0[_0xcaebb8(0x190)]=_0x14eed0[_0x573862(0x13b)]*cellSize,_0x5456c0[_0x30c558(0x27c)]=_0x14eed0[_0x30c558(0x27c)]*cellSize,_0x24217[_0x30c558(0x185)]=()=>{const _0x5d9f69=_0xcaebb8,_0x421fc9=_0x30c558;let _0x2ab8c8=_0x5456c0[_0x5d9f69(0x162)]('2d');_0x2ab8c8[_0x421fc9(0x22d)](0x0,0x0,_0x5456c0[_0x421fc9(0x1b8)],_0x5456c0[_0x5d9f69(0x13b)]),_0x2ab8c8[_0x421fc9(0x1ff)](_0x24217,0x0,0x0);},_0x7bd966[_0x30c558(0x262)][_0x30c558(0x278)](_0x5456c0),_0x7bd966[_0x30c558(0x29c)][_0x30c558(0x278)]([]),_0x7bd966[_0x30c558(0x2d0)][_0x30c558(0x278)]([]);}return _0x7bd966;}),_0x50c037[_0x2dd4a2(0x2a5)]=_0x14eed0[_0x2dd4a2(0x2a5)],_0x50c037[_0x2dd4a2(0x2e6)]=_0x14eed0[_0x500bea(0x1a8)]||'画像'+(_0x3eb6ae+0x1),_0x50c037;}),activeProject=_0x596a12[_0x382d44(0x23d)]||0x0,await wait(0x64),updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll(),setTool(_0x382d44(0x182)),console[_0x4c8b8a(0x21a)](_0x382d44(0x282));}catch(_0x7ad7c3){alert(_0x382d44(0x2cd)),console[_0x196676(0x1e8)](_0x7ad7c3);}}function wait(_0x258c26){return new Promise(_0x538c15=>setTimeout(_0x538c15,_0x258c26));}function initCanvas(){const _0x47e93b=a0_0x521960,_0x3ddc8c=a0_0x5049d9,_0x17bb08=a0_0x38aafa,_0x1d1525=parseInt(0x10),_0x2cc2ae=parseInt(0x10);let _0x4274b7=getCurrentProject();_0x4274b7[_0x17bb08(0x1b8)]=_0x1d1525,_0x4274b7[_0x17bb08(0x27c)]=_0x2cc2ae,canvas[_0x17bb08(0x1b8)]=_0x1d1525*cellSize,canvas[_0x17bb08(0x27c)]=_0x2cc2ae*cellSize,_0x4274b7[_0x17bb08(0x262)]=[],_0x4274b7[_0x17bb08(0x29c)]=[],_0x4274b7[_0x17bb08(0x2d0)]=[];let _0x57d82e=document[_0x17bb08(0x1d6)](_0x17bb08(0x19d));_0x57d82e[_0x17bb08(0x1b8)]=_0x1d1525*cellSize,_0x57d82e[_0x17bb08(0x27c)]=_0x2cc2ae*cellSize,_0x4274b7[_0x17bb08(0x262)][_0x3ddc8c(0x19e)](_0x57d82e),_0x4274b7[_0x17bb08(0x29c)][_0x17bb08(0x278)]([]),_0x4274b7[_0x17bb08(0x2d0)][_0x3ddc8c(0x19e)]([]),_0x4274b7[_0x17bb08(0x1b5)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas[_0x17bb08(0x1f5)]=null,canvas[_0x3ddc8c(0x1e1)]=null,canvas[_0x17bb08(0x238)]=null,canvas[_0x17bb08(0x1b7)]=null,canvas[_0x17bb08(0x21a)]=null,canvas[_0x17bb08(0x267)]=null,canvas[_0x17bb08(0x212)]=null,canvas[_0x17bb08(0x2ac)]=null,canvas[_0x17bb08(0x2a6)](_0x3ddc8c(0x1d8),handleTouchStart),canvas[_0x17bb08(0x2a6)](_0x17bb08(0x28f),handleTouchMove),canvas[_0x17bb08(0x2a6)](_0x17bb08(0x1e1),handleTouchEnd),canvas[_0x17bb08(0x2a6)](_0x17bb08(0x1b6),handleTouchEnd),canvas[_0x17bb08(0x1f5)]=handleMouseDown,canvas[_0x17bb08(0x239)]=handleMouseMove,canvas[_0x17bb08(0x238)]=handleMouseUp,canvas[_0x17bb08(0x1b7)]=handleMouseUp,canvas[_0x17bb08(0x21a)]=handleTouchStart,canvas[_0x17bb08(0x267)]=handleTouchMove,canvas[_0x47e93b(0x107)]=handleTouchEnd,canvas[_0x17bb08(0x2ac)]=handleTouchEnd,canvas[_0x17bb08(0x21d)](_0x17bb08(0x1bb),handleTouchStart,{'passive':![]}),canvas[_0x17bb08(0x21d)](_0x3ddc8c(0x205),handleTouchMove,{'passive':![]}),canvas[_0x17bb08(0x21d)](_0x17bb08(0x1e1),handleTouchEnd,{'passive':![]}),canvas[_0x47e93b(0x15e)](_0x17bb08(0x1b6),handleTouchEnd,{'passive':![]});}function createPalette(){const _0x4b303e=a0_0x35c9,_0x165a7b=a0_0x521960,_0x1cf493=a0_0x5049d9,_0x186ffd=a0_0x38aafa,_0x5e6a11=document[_0x186ffd(0x275)](_0x186ffd(0x230));if(!_0x5e6a11)return;_0x5e6a11[_0x186ffd(0x25f)]='',PALETTE_COLORS[_0x186ffd(0x1bd)]((_0x3f9e00,_0x2e36ec)=>{const _0x23c266=a0_0x56c5,_0x256297=a0_0xce2f,_0x3c1c09=_0x186ffd,_0x3635e5=document[_0x3c1c09(0x1d6)](_0x3c1c09(0x2a4));_0x3635e5[_0x256297(0x15c)]=_0x256297(0x1fc),_0x3f9e00===_0x256297(0x1a5)||_0x3f9e00===_0x3c1c09(0x25c)?(_0x3635e5[_0x3c1c09(0x1f8)][_0x3c1c09(0x2dc)]=_0x23c266(0x137),_0x3635e5[_0x3c1c09(0x198)]='透明',_0x3635e5[_0x3c1c09(0x25f)]=_0x3c1c09(0x224)):(_0x3635e5[_0x3c1c09(0x1f8)][_0x3c1c09(0x2dc)]=_0x3f9e00,_0x3635e5[_0x256297(0x124)]=_0x3f9e00),_0x3635e5[_0x3c1c09(0x234)]=()=>{const _0x502880=_0x3c1c09;currentColor=_0x3f9e00,_0x3f9e00===_0x502880(0x1f3)||_0x3f9e00===_0x502880(0x25c)?document[_0x502880(0x275)](_0x502880(0x1a0))[_0x502880(0x24e)]=_0x502880(0x1ba):document[_0x502880(0x275)](_0x502880(0x1a0))[_0x502880(0x24e)]=_0x3f9e00,document[_0x502880(0x29b)](_0x502880(0x1e6))[_0x502880(0x1bd)](_0xf921a9=>_0xf921a9[_0x502880(0x22b)][_0x502880(0x187)](_0x502880(0x2dd))),_0x3635e5[_0x502880(0x22b)][_0x502880(0x1de)](_0x502880(0x2dd));};if(_0x2e36ec!==0x0){const _0x627104=document[_0x3c1c09(0x1d6)](_0x3c1c09(0x28e));_0x627104[_0x3c1c09(0x221)]='×',_0x627104[_0x3c1c09(0x252)]=_0x3c1c09(0x2c7),_0x627104[_0x3c1c09(0x198)]=_0x3c1c09(0x2e7),_0x627104[_0x3c1c09(0x234)]=_0x236c49=>{const _0x16c5a2=_0x3c1c09;_0x236c49[_0x16c5a2(0x214)](),PALETTE_COLORS[_0x16c5a2(0x1c4)]>0x2&&(PALETTE_COLORS[_0x16c5a2(0x2b7)](_0x2e36ec,0x1),createPalette());},_0x3635e5[_0x3c1c09(0x237)](_0x627104);}_0x5e6a11[_0x3c1c09(0x237)](_0x3635e5);});const _0x30fb1c=document[_0x186ffd(0x1d6)](_0x186ffd(0x2a4));_0x30fb1c[_0x165a7b(0xc9)]=_0x186ffd(0x20b),_0x30fb1c[_0x186ffd(0x198)]=_0x186ffd(0x2cc),_0x30fb1c[_0x186ffd(0x25f)]='+',_0x30fb1c[_0x186ffd(0x234)]=_0x3e0619=>{const _0x40c9a6=a0_0x3f33,_0x572045=_0x165a7b,_0x58eeaa=a0_0xce2f,_0x288b29=_0x186ffd;_0x3e0619[_0x58eeaa(0x15a)]();const _0x7da343=document[_0x288b29(0x1d6)](_0x288b29(0x295));_0x7da343[_0x288b29(0x17d)]=_0x288b29(0x1ca),_0x7da343[_0x40c9a6(0x1af)][_0x288b29(0x2f0)]=_0x288b29(0x1b1);let _0x40b0e9=![];_0x7da343[_0x288b29(0x28a)]=_0x5453aa=>{const _0x358d05=a0_0x35c9,_0xe2e941=a0_0x56c5,_0x4ec0b0=_0x58eeaa,_0x8312be=_0x288b29;if(!_0x40b0e9){PALETTE_COLORS[_0x358d05(0x1a9)](_0x5453aa[_0x8312be(0x2e5)][_0xe2e941(0x149)]);if(PALETTE_COLORS[_0x4ec0b0(0xf5)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x8312be(0x1f6)](0x0,0x18);savePaletteToDB(),createPalette(),_0x40b0e9=!![],_0x7da343[_0x8312be(0x187)]();}},_0x7da343[_0x288b29(0x21d)](_0x58eeaa(0x1c0),()=>{const _0x3d6996=_0x288b29;if(!_0x40b0e9)_0x7da343[_0x3d6996(0x187)]();}),_0x7da343[_0x288b29(0x21d)](_0x572045(0xab),_0x56e1b8=>_0x56e1b8[_0x58eeaa(0x15a)]()),document[_0x288b29(0x1e8)][_0x288b29(0x237)](_0x7da343),_0x7da343[_0x288b29(0x2be)](),_0x7da343[_0x288b29(0x2ed)]();},_0x5e6a11[_0x186ffd(0x1d3)](_0x30fb1c,_0x5e6a11[_0x1cf493(0x216)]);let _0x736a48=document[_0x1cf493(0x192)](_0x1cf493(0x1e2));!_0x736a48&&(_0x736a48=document[_0x1cf493(0x1f6)](_0x186ffd(0x2c9)),_0x736a48['id']=_0x186ffd(0x25e),_0x736a48[_0x186ffd(0x252)]=_0x4b303e(0x1ea),_0x5e6a11[_0x1cf493(0xfb)][_0x186ffd(0x237)](_0x736a48)),_0x736a48[_0x1cf493(0x1ea)]=_0x186ffd(0x253)+(currentTool===_0x186ffd(0x182)?_0x186ffd(0x1e4):'')+_0x186ffd(0x2ad)+(currentTool===_0x186ffd(0x2e0)?_0x186ffd(0x1e4):'')+_0x1cf493(0x168)+(currentTool===_0x186ffd(0x1a8)?_0x186ffd(0x1e4):'')+_0x186ffd(0x1d9)+(penSize==0x1?_0x1cf493(0x213):'')+_0x186ffd(0x1dd)+(penSize==0x2?_0x186ffd(0x298):'')+_0x186ffd(0x18e)+(penSize==0x3?_0x186ffd(0x298):'')+_0x1cf493(0x1a2)+(penSize==0x4?_0x186ffd(0x298):'')+_0x1cf493(0x1ac)+(penMode===_0x1cf493(0x150)?_0x186ffd(0x298):'')+_0x165a7b(0x1e7)+(penMode===_0x186ffd(0x2ea)?_0x1cf493(0x213):'')+_0x1cf493(0x1ab)+Math[_0x186ffd(0x26f)](currentAlpha*0x64)+_0x186ffd(0x233)+Math[_0x186ffd(0x26f)](currentAlpha*0x64)+_0x186ffd(0x1eb),_0x736a48[_0x1cf493(0x126)](_0x186ffd(0x246))[_0x186ffd(0x222)]=_0x4f0f2b=>setPenSize(_0x4f0f2b[_0x1cf493(0x1d3)][_0x186ffd(0x24e)]),_0x736a48[_0x186ffd(0x2c0)](_0x186ffd(0x2b2))[_0x186ffd(0x222)]=_0x3e3caa=>setPenMode(_0x3e3caa[_0x186ffd(0x2e5)][_0x186ffd(0x24e)]),_0x736a48[_0x186ffd(0x29b)](_0x165a7b(0x16b))[_0x186ffd(0x1bd)](_0x427de0=>{const _0x1140c2=_0x165a7b,_0x1b140c=_0x1cf493,_0x282fd2=_0x186ffd;_0x427de0[_0x282fd2(0x234)]=()=>setTool(_0x427de0[_0x1140c2(0xc1)][_0x1b140c(0xe7)]);}),_0x736a48[_0x186ffd(0x2c0)](_0x186ffd(0x241))[_0x186ffd(0x28a)]=_0x1bd845=>{const _0x43089d=_0x1cf493,_0x49072d=_0x186ffd;setAlpha(_0x1bd845[_0x49072d(0x2e5)][_0x43089d(0x12e)]),_0x736a48[_0x49072d(0x2c0)](_0x49072d(0x227))[_0x49072d(0x221)]=_0x1bd845[_0x49072d(0x2e5)][_0x49072d(0x24e)]+'%';let _0x5c623b=document[_0x43089d(0x192)](_0x49072d(0x1d8)),_0x3e3b8a=document[_0x49072d(0x275)](_0x49072d(0x213));if(_0x5c623b)_0x5c623b[_0x43089d(0x12e)]=_0x1bd845[_0x49072d(0x2e5)][_0x49072d(0x24e)];if(_0x3e3b8a)_0x3e3b8a[_0x49072d(0x221)]=_0x1bd845[_0x43089d(0x1d3)][_0x49072d(0x24e)]+'%';};}function setAlpha(_0x4f8562){const _0x42dbee=a0_0x5049d9,_0x291ec7=a0_0x38aafa;let _0x510847=Math[_0x291ec7(0x2c3)](0x0,Math[_0x291ec7(0x1b2)](0x64,parseInt(_0x4f8562,0xa)||0x0));currentAlpha=_0x510847/0x64;let _0x8a8fe2=document[_0x291ec7(0x275)](_0x291ec7(0x1d8)),_0x3d6b0f=document[_0x291ec7(0x275)](_0x42dbee(0x1ef));if(_0x8a8fe2)_0x8a8fe2[_0x42dbee(0x12e)]=_0x510847;if(_0x3d6b0f)_0x3d6b0f[_0x291ec7(0x221)]=_0x510847+'%';let _0x37623f=document[_0x291ec7(0x275)](_0x291ec7(0x247)),_0x289906=document[_0x291ec7(0x275)](_0x291ec7(0x245));if(_0x37623f)_0x37623f[_0x291ec7(0x24e)]=_0x510847;if(_0x289906)_0x289906[_0x291ec7(0x221)]=_0x510847+'%';}async function savePaletteToDB(){const _0xeaddc0=a0_0x5049d9,_0x1070d8=a0_0x38aafa;try{await idbSet(_0x1070d8(0x2e1),PALETTE_COLORS);}catch(_0x334d97){console[_0x1070d8(0x181)](_0xeaddc0(0x1a8),_0x334d97);}}async function loadPaletteFromDB(){const _0x280874=a0_0x38aafa;try{const _0x5ab6c7=await idbGet(_0x280874(0x2e1));Array[_0x280874(0x19c)](_0x5ab6c7)&&_0x5ab6c7[_0x280874(0x1c4)]&&(PALETTE_COLORS=_0x5ab6c7);}catch(_0x57fe5f){console[_0x280874(0x181)](_0x280874(0x195),_0x57fe5f);}}document[a0_0x5049d9(0x1a3)](a0_0x5049d9(0x113),()=>{const _0xf23818=a0_0x5049d9,_0x4be55b=a0_0x38aafa,_0x230599=document[_0xf23818(0x192)](_0x4be55b(0x1a0));_0x230599&&(_0x230599[_0x4be55b(0x28a)]=_0x740114=>{const _0x565b72=_0x4be55b;currentColor=_0x740114[_0x565b72(0x2e5)][_0x565b72(0x24e)],document[_0x565b72(0x29b)](_0x565b72(0x1e6))[_0x565b72(0x1bd)](_0x452bce=>_0x452bce[_0x565b72(0x22b)][_0x565b72(0x187)](_0x565b72(0x2dd)));});const _0x1b0883=document[_0x4be55b(0x275)](_0x4be55b(0x1d8)),_0x14c3f2=document[_0x4be55b(0x275)](_0x4be55b(0x213));_0x1b0883&&_0x14c3f2&&(_0x1b0883[_0xf23818(0x1e5)]=_0x52dc4c=>{const _0x2022ba=a0_0x56c5,_0x47a3e6=_0xf23818,_0x26da00=_0x4be55b;setAlpha(_0x52dc4c[_0x26da00(0x2e5)][_0x26da00(0x24e)]),_0x14c3f2[_0x26da00(0x221)]=_0x52dc4c[_0x26da00(0x2e5)][_0x47a3e6(0x12e)]+'%';let _0x2fb9c4=document[_0x47a3e6(0x192)](_0x26da00(0x247)),_0x4dfc2b=document[_0x47a3e6(0x192)](_0x26da00(0x245));if(_0x2fb9c4)_0x2fb9c4[_0x2022ba(0x149)]=_0x52dc4c[_0x26da00(0x2e5)][_0x26da00(0x24e)];if(_0x4dfc2b)_0x4dfc2b[_0x26da00(0x221)]=_0x52dc4c[_0x26da00(0x2e5)][_0x47a3e6(0x12e)]+'%';});});async function convertToGIF(_0x4fa7f6,_0x5b7511=0xc8,_0x356f2f=a0_0x38aafa(0x1d1)){const _0x5680f2=a0_0x111e,_0x409d02=a0_0x38aafa,_0x55b18a=new window[(_0x409d02(0x190))]({'workers':0x2,'quality':0xa,'workerScript':_0x5680f2(0x17a)});_0x4fa7f6[_0x409d02(0x1bd)](_0x3cd52f=>_0x55b18a[_0x409d02(0x2a2)](_0x3cd52f,{'delay':_0x5b7511})),_0x55b18a['on'](_0x409d02(0x235),_0x3adffd=>{const _0x546606=a0_0x56c5,_0x3c420f=a0_0xce2f,_0x475e66=_0x409d02,_0x1fbb1c=URL[_0x3c420f(0x159)](_0x3adffd),_0x23948d=document[_0x475e66(0x1d6)]('a');_0x23948d[_0x3c420f(0x1a4)]=_0x1fbb1c,_0x23948d[_0x546606(0xf0)]=_0x356f2f,document[_0x475e66(0x1e8)][_0x3c420f(0x1c2)](_0x23948d),_0x23948d[_0x475e66(0x2ed)](),setTimeout(()=>{const _0x5f2a32=_0x475e66;document[_0x5f2a32(0x1e8)][_0x5f2a32(0x1dc)](_0x23948d),URL[_0x5f2a32(0x255)](_0x1fbb1c);},0x3e8);}),_0x55b18a[_0x409d02(0x1c1)]();}function makeAPNGBlob(_0x4471f1,_0x40e13a,_0x35aca5,_0x59fd18=0xc8){const _0x4c5acd=a0_0x5049d9,_0x129a81=a0_0x38aafa,_0xb0dafb=[],_0x4590c3=[],_0x25ecb9=document[_0x129a81(0x1d6)](_0x129a81(0x19d));_0x25ecb9[_0x4c5acd(0x190)]=_0x40e13a,_0x25ecb9[_0x4c5acd(0x13b)]=_0x35aca5;const _0x37af3b=_0x25ecb9[_0x129a81(0x2c6)]('2d');_0x4471f1[_0x129a81(0x1bd)](_0x37f5e8=>{const _0x490e30=_0x4c5acd,_0x12a16c=_0x129a81;_0x37af3b[_0x12a16c(0x22d)](0x0,0x0,_0x40e13a,_0x35aca5),_0x37af3b[_0x490e30(0x230)](_0x37f5e8,0x0,0x0,_0x40e13a,_0x35aca5);const _0x130ebd=_0x37af3b[_0x12a16c(0x287)](0x0,0x0,_0x40e13a,_0x35aca5)[_0x12a16c(0x261)][_0x490e30(0x16d)];_0xb0dafb[_0x490e30(0x19e)](_0x130ebd),_0x4590c3[_0x490e30(0x19e)](_0x59fd18);});const _0x27a688=window[_0x129a81(0x21e)][_0x129a81(0x1e2)](_0xb0dafb,_0x40e13a,_0x35aca5,0x0,_0x4590c3);return new Blob([_0x27a688],{'type':_0x129a81(0x18f)});}function convertToAPNG(_0x244c9f,_0x77ed4d,_0x1e76c8,_0x238c03=0xc8,_0x4d1506=a0_0x38aafa(0x2ef)){const _0x43f49a=a0_0x35c9,_0x240d99=a0_0x5049d9,_0x44d6f3=a0_0x38aafa,_0x261dca=makeAPNGBlob(_0x244c9f,_0x77ed4d,_0x1e76c8,_0x238c03),_0x5eed47=URL[_0x240d99(0x159)](_0x261dca),_0xea94ed=document[_0x43f49a(0x227)]('a');_0xea94ed[_0x44d6f3(0x1c8)]=_0x5eed47,_0xea94ed[_0x44d6f3(0x215)]=_0x4d1506,document[_0x44d6f3(0x1e8)][_0x44d6f3(0x237)](_0xea94ed),_0xea94ed[_0x240d99(0x1c3)](),setTimeout(()=>{const _0x54af74=_0x44d6f3;document[_0x54af74(0x1e8)][_0x54af74(0x1dc)](_0xea94ed),URL[_0x54af74(0x255)](_0x5eed47);},0x3e8);}async function loadImages(_0x204b19){const _0x5b8b74=a0_0x521960,_0x4cd6ef=a0_0x38aafa,_0x5c28e5=await Promise[_0x5b8b74(0x184)](_0x204b19[_0x4cd6ef(0x294)](_0x25e491=>{return new Promise(_0x40b64c=>{const _0x204fd8=a0_0x1925,_0x5e1af7=new Image();_0x5e1af7[_0x204fd8(0x290)]=_0x204fd8(0x26a),_0x5e1af7[_0x204fd8(0x1b3)]=_0x25e491,_0x5e1af7[_0x204fd8(0x185)]=()=>_0x40b64c(_0x5e1af7);});}));return _0x5c28e5;}function exportSpriteSheetDialog(){const _0x12b074=a0_0x5049d9,_0x4a0924=a0_0x38aafa;let _0x15fc75=prompt(_0x12b074(0x1a1),'1');if(_0x15fc75===null)return;let _0x1f8607=Math[_0x4a0924(0x2c3)](0x1,parseInt(_0x15fc75,0xa)||0x1),_0x2164b9=prompt(_0x4a0924(0x264),'0');if(_0x2164b9===null)return;let _0x2338a3=Math[_0x4a0924(0x2c3)](0x0,parseInt(_0x2164b9,0xa)||0x0);exportSpriteSheet(_0x1f8607,_0x2338a3);}function exportSpriteSheet(_0x245a65=0x1,_0x660006=0x0){const _0x346622=a0_0x35c9,_0x48b76d=a0_0x521960,_0x2bedf9=a0_0x5049d9,_0x5540ff=a0_0x38aafa,_0x3799a8=getCurrentProject();if(!_0x3799a8){alert(_0x5540ff(0x272));return;}const _0x1d9f5d=_0x3799a8[_0x346622(0x11f)];if(!_0x1d9f5d||_0x1d9f5d[_0x5540ff(0x1c4)]===0x0){alert(_0x5540ff(0x2cf));return;}const _0x46cead=_0x3799a8[_0x5540ff(0x1b8)]*cellSize,_0xb65ff1=_0x3799a8[_0x5540ff(0x27c)]*cellSize,_0x499257=_0x46cead*_0x1d9f5d[_0x5540ff(0x1c4)]*_0x245a65+Math[_0x5540ff(0x2c3)](0x0,_0x1d9f5d[_0x5540ff(0x1c4)]-0x1)*_0x660006,_0x28c8a0=_0xb65ff1*_0x245a65,_0xa6874c=document[_0x48b76d(0xdd)](_0x5540ff(0x19d));_0xa6874c[_0x5540ff(0x1b8)]=_0x499257,_0xa6874c[_0x2bedf9(0x13b)]=_0x28c8a0;const _0xd72f3=_0xa6874c[_0x5540ff(0x2c6)]('2d');_0xd72f3[_0x5540ff(0x22d)](0x0,0x0,_0xa6874c[_0x5540ff(0x1b8)],_0xa6874c[_0x5540ff(0x27c)]);let _0x1a73f7=0x0;for(let _0x5d5b28=0x0;_0x5d5b28<_0x1d9f5d[_0x5540ff(0x1c4)];_0x5d5b28++){let _0x1fbf6e=document[_0x5540ff(0x1d6)](_0x48b76d(0x112));_0x1fbf6e[_0x2bedf9(0x190)]=_0x46cead,_0x1fbf6e[_0x5540ff(0x27c)]=_0xb65ff1;let _0x476b9a=_0x1fbf6e[_0x5540ff(0x2c6)]('2d');for(let _0x2563c7=0x0;_0x2563c7<_0x1d9f5d[_0x5d5b28][_0x2bedf9(0x13d)][_0x2bedf9(0xf5)];_0x2563c7++){_0x476b9a[_0x5540ff(0x1ff)](_0x1d9f5d[_0x5d5b28][_0x5540ff(0x262)][_0x2563c7],0x0,0x0);}_0x245a65===0x1&&_0x660006===0x0?(_0xd72f3[_0x2bedf9(0x230)](_0x1fbf6e,_0x1a73f7,0x0),_0x1a73f7+=_0x46cead):(_0xd72f3[_0x5540ff(0x1ff)](_0x1fbf6e,0x0,0x0,_0x46cead,_0xb65ff1,_0x1a73f7,0x0,_0x46cead*_0x245a65,_0xb65ff1*_0x245a65),_0x1a73f7+=_0x46cead*_0x245a65),_0x5d5b28<_0x1d9f5d[_0x2bedf9(0xf5)]-0x1&&_0x660006>0x0&&(_0x1a73f7+=_0x660006);}const _0x45272=(_0x3799a8[_0x5540ff(0x2e6)]||_0x5540ff(0x2ab))[_0x2bedf9(0x127)](/[\\/:*?"<>|]/g,'_'),_0x34ed60=document[_0x5540ff(0x1d6)]('a');_0x34ed60[_0x48b76d(0x164)]=_0xa6874c[_0x2bedf9(0x1b5)](_0x2bedf9(0xe0)),_0x34ed60[_0x5540ff(0x215)]=_0x45272+_0x5540ff(0x217),document[_0x5540ff(0x1e8)][_0x5540ff(0x237)](_0x34ed60),_0x34ed60[_0x5540ff(0x2ed)](),setTimeout(()=>{const _0x141ba5=_0x2bedf9;document[_0x141ba5(0x1c5)][_0x141ba5(0x136)](_0x34ed60);},0x3e8);}const NEZUMI_METADATA_SIG=a0_0x38aafa(0x258);function appendMetadataToBlob(_0x2fd7a8,_0x2a48d7){const _0x35c555=a0_0x38aafa,_0x4ecead=new TextEncoder(),_0x164703=_0x4ecead[_0x35c555(0x1e2)](NEZUMI_METADATA_SIG),_0x314902=_0x4ecead[_0x35c555(0x1e2)](JSON[_0x35c555(0x1e5)](_0x2a48d7));return new Blob([_0x2fd7a8,_0x164703,_0x314902],{'type':_0x2fd7a8[_0x35c555(0x17d)]||_0x35c555(0x2cb)});}function indexOfSubarray(_0x2adafd,_0x4b35fd){const _0x570515=a0_0x5049d9,_0x4dcd8d=a0_0x38aafa;for(let _0x3a1d9a=0x0;_0x3a1d9a<=_0x2adafd[_0x4dcd8d(0x1c4)]-_0x4b35fd[_0x570515(0xf5)];_0x3a1d9a++){let _0x531bbd=!![];for(let _0x5e74d2=0x0;_0x5e74d2<_0x4b35fd[_0x4dcd8d(0x1c4)];_0x5e74d2++){if(_0x2adafd[_0x3a1d9a+_0x5e74d2]!==_0x4b35fd[_0x5e74d2]){_0x531bbd=![];break;}}if(_0x531bbd)return _0x3a1d9a;}return-0x1;}function extractMetadataFromArrayBuffer(_0x49f72c){const _0x44e2ae=a0_0x5049d9,_0x39a9a9=a0_0x38aafa,_0x35b4e7=new TextEncoder()[_0x39a9a9(0x1e2)](NEZUMI_METADATA_SIG),_0x1c857d=new Uint8Array(_0x49f72c),_0x553723=indexOfSubarray(_0x1c857d,_0x35b4e7);if(_0x553723===-0x1)return null;const _0x434a8c=_0x1c857d[_0x39a9a9(0x236)](_0x553723+_0x35b4e7[_0x44e2ae(0xf5)]);try{const _0x1c32e5=new TextDecoder()[_0x39a9a9(0x27e)](_0x434a8c);return JSON[_0x39a9a9(0x288)](_0x1c32e5);}catch(_0x3d2379){return null;}}async function exportStandalone(){const _0x3d3d9b=a0_0x35c9,_0xb44d02=a0_0x521960,_0x436529=a0_0x5049d9,_0x5beea5=a0_0x38aafa;let _0x548269=getCurrentProject(),_0x1365ca=_0x548269[_0x436529(0x17f)],_0x6b9f72=_0x548269[_0x5beea5(0x1b8)]*cellSize,_0x42a291=_0x548269[_0x5beea5(0x27c)]*cellSize;const _0x530641=_0x1365ca[_0x5beea5(0x294)](_0x3290a4=>{const _0x470ef3=_0x436529,_0x407c17=_0x5beea5;let _0xbe09e2=document[_0x407c17(0x1d6)](_0x407c17(0x19d));_0xbe09e2[_0x407c17(0x1b8)]=_0x6b9f72,_0xbe09e2[_0x407c17(0x27c)]=_0x42a291;let _0x3ed5c2=_0xbe09e2[_0x407c17(0x2c6)]('2d');for(let _0x4c5a19=0x0;_0x4c5a19<_0x3290a4[_0x470ef3(0x13d)][_0x407c17(0x1c4)];_0x4c5a19++){_0x3ed5c2[_0x407c17(0x1ff)](_0x3290a4[_0x470ef3(0x13d)][_0x4c5a19],0x0,0x0);}let _0x2afe26=new Image();return _0x2afe26[_0x407c17(0x1b3)]=_0xbe09e2[_0x470ef3(0x1b5)](_0x407c17(0x1fa)),_0x2afe26;});await Promise[_0x5beea5(0x25a)](_0x530641[_0x5beea5(0x294)](_0x5af702=>new Promise(_0x438309=>{const _0x4ee4b6=_0x5beea5;_0x5af702[_0x4ee4b6(0x185)]=_0x438309;})))[_0x3d3d9b(0xe0)](()=>{});const _0x161f45=(_0x548269[_0x5beea5(0x2e6)]||_0x5beea5(0x21f))[_0x5beea5(0x27d)](/[\\/:*?"<>|]/g,'_'),_0x3f2235=makeAPNGBlob(_0x530641,_0x6b9f72,_0x42a291,animationDelay),_0x3bc4e8={'type':_0x5beea5(0x207),'version':0x1,'project':{'width':_0x548269[_0x5beea5(0x1b8)],'height':_0x548269[_0x5beea5(0x27c)],'name':_0x548269[_0x5beea5(0x2e6)]||'','activeFrame':_0x548269[_0x436529(0x12c)],'frames':_0x548269[_0x5beea5(0x2b3)][_0x5beea5(0x294)](_0x14c462=>({'activeLayer':_0x14c462[_0x5beea5(0x1b5)],'layers':_0x14c462[_0xb44d02(0x1c8)][_0x5beea5(0x294)](_0x25b9c9=>_0x25b9c9[_0x5beea5(0x1df)]())}))}},_0xd97cb9=appendMetadataToBlob(_0x3f2235,_0x3bc4e8),_0x2285e9=URL[_0x5beea5(0x201)](_0xd97cb9),_0x54a9d3=document[_0x436529(0x1f6)]('a');_0x54a9d3[_0x5beea5(0x1c8)]=_0x2285e9,_0x54a9d3[_0x5beea5(0x215)]=_0x161f45+_0x436529(0x1e6),document[_0x5beea5(0x1e8)][_0xb44d02(0xb4)](_0x54a9d3),_0x54a9d3[_0x5beea5(0x2ed)](),setTimeout(()=>{const _0x3995db=_0x5beea5;document[_0x3995db(0x1e8)][_0x3995db(0x1dc)](_0x54a9d3),URL[_0x3995db(0x255)](_0x2285e9);},0x3e8);}function loadStandaloneFromFile(_0x580956){return new Promise((_0x46fba7,_0x310382)=>{const _0x3d12f9=a0_0x3f33,_0x910238=a0_0x1925,_0x23e5f2=new FileReader();_0x23e5f2[_0x910238(0x185)]=_0x3fedd8=>{const _0x2a34a0=a0_0x35c9,_0x3dd2b2=a0_0xce2f,_0x534c60=_0x910238,_0x1834f4=_0x3fedd8[_0x534c60(0x2e5)][_0x534c60(0x192)],_0x3c4013=extractMetadataFromArrayBuffer(_0x1834f4);if(!_0x3c4013||!_0x3c4013[_0x2a34a0(0x186)]){_0x310382(new Error(_0x534c60(0x20f)));return;}const _0x1b51ab=_0x3c4013[_0x534c60(0x22f)];try{const _0x5a3a1d=createProject(_0x1b51ab[_0x534c60(0x1b8)],_0x1b51ab[_0x534c60(0x27c)],_0x1b51ab[_0x534c60(0x2e6)]||'画像');_0x5a3a1d[_0x534c60(0x2b3)]=_0x1b51ab[_0x534c60(0x2b3)][_0x3dd2b2(0x18f)](_0x8594b6=>{const _0x25030c=_0x2a34a0,_0x40d392=_0x3dd2b2,_0x895dd3=_0x534c60;let _0x19d881={'layers':[],'activeLayer':_0x8594b6[_0x40d392(0x215)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x5da572=0x0;_0x5da572<_0x8594b6[_0x895dd3(0x262)][_0x895dd3(0x1c4)];_0x5da572++){let _0x2d5851=new Image();_0x2d5851[_0x895dd3(0x1b3)]=_0x8594b6[_0x40d392(0x13d)][_0x5da572];let _0x27d09e=document[_0x40d392(0x1f6)](_0x895dd3(0x19d));_0x27d09e[_0x895dd3(0x1b8)]=_0x1b51ab[_0x25030c(0x13b)]*cellSize,_0x27d09e[_0x895dd3(0x27c)]=_0x1b51ab[_0x40d392(0x13b)]*cellSize,_0x2d5851[_0x40d392(0x11a)]=()=>{const _0x372969=_0x40d392,_0x47209a=_0x895dd3;let _0x54033c=_0x27d09e[_0x47209a(0x2c6)]('2d');_0x54033c[_0x47209a(0x22d)](0x0,0x0,_0x27d09e[_0x47209a(0x1b8)],_0x27d09e[_0x47209a(0x27c)]),_0x54033c[_0x372969(0x230)](_0x2d5851,0x0,0x0);},_0x19d881[_0x40d392(0x13d)][_0x895dd3(0x278)](_0x27d09e);}return _0x19d881;}),projects[_0x534c60(0x278)](_0x5a3a1d),activeProject=projects[_0x534c60(0x1c4)]-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll(),_0x46fba7(_0x5a3a1d);}catch(_0xb1729b){_0x310382(_0xb1729b);}},_0x23e5f2[_0x910238(0x1c5)]=_0x1831ff=>_0x310382(_0x1831ff),_0x23e5f2[_0x3d12f9(0x149)](_0x580956);});}function toggleSection(_0x420602){const _0x26e0e4=a0_0x111e,_0x2b0e4e=a0_0x521960,_0x2a0213=a0_0x5049d9,_0x5b4efa=a0_0x38aafa,_0x3952cd=document[_0x5b4efa(0x275)](_0x420602),_0x573f18=_0x3952cd[_0x5b4efa(0x2c0)](_0x5b4efa(0x218)),_0x50133f=_0x3952cd[_0x5b4efa(0x2c0)](_0x5b4efa(0x277));_0x573f18[_0x26e0e4(0x1d9)][_0x5b4efa(0x2f0)]===_0x2a0213(0x12d)?(_0x573f18[_0x5b4efa(0x1f8)][_0x5b4efa(0x2f0)]='',_0x50133f[_0x5b4efa(0x221)]='▼'):(_0x573f18[_0x5b4efa(0x1f8)][_0x2b0e4e(0x114)]=_0x5b4efa(0x1b1),_0x50133f[_0x5b4efa(0x221)]='▲');}document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x293),()=>{const _0x8820c7=a0_0x5049d9,_0x428d2d=a0_0x38aafa;document[_0x8820c7(0xe9)](_0x428d2d(0x204))[_0x428d2d(0x1bd)](_0xec186e=>_0xec186e[_0x428d2d(0x1f8)][_0x428d2d(0x2f0)]=''),document[_0x8820c7(0xe9)](_0x8820c7(0xf6))[_0x8820c7(0x10a)](_0x25efa3=>_0x25efa3[_0x428d2d(0x221)]='▼');}),window[a0_0x38aafa(0x21d)](a0_0x38aafa(0x251),updateMenuBtnDisplay),document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x293),updateMenuBtnDisplay);function a0_0x56c5(_0x1366c3,_0x11d9ef){_0x1366c3=_0x1366c3-0xaa;const _0xb4bfb4=a0_0x22a5();let _0x4e5586=_0xb4bfb4[_0x1366c3];return _0x4e5586;}function toggleSideMenu(_0x5ceb32){const _0x1fca0a=a0_0x35c9,_0x241d17=a0_0x521960,_0x17a306=a0_0x5049d9,_0x1d0629=a0_0x38aafa,_0x520ff4=document[_0x1fca0a(0x116)](_0x17a306(0x226)),_0x2cfd67=document[_0x1d0629(0x275)](_0x1d0629(0x183)),_0x425d19=document[_0x1d0629(0x275)](_0x1d0629(0x18b)),_0x5b5ca3=document[_0x1d0629(0x275)](_0x1d0629(0x1b4)),_0x4df589=_0x520ff4[_0x1d0629(0x22b)][_0x1d0629(0x23f)](_0x241d17(0x1bb));let _0x349d91=typeof _0x5ceb32===_0x1d0629(0x1af)?_0x5ceb32:!_0x4df589;_0x349d91?(_0x520ff4[_0x17a306(0x176)][_0x1d0629(0x1de)](_0x1d0629(0x2ec)),_0x2cfd67[_0x1d0629(0x22b)][_0x17a306(0x189)](_0x1d0629(0x2a1)),document[_0x17a306(0x1c5)][_0x241d17(0x178)][_0x241d17(0x14a)]=_0x1d0629(0x289),document[_0x1d0629(0x1e8)][_0x1d0629(0x1f8)][_0x1d0629(0x1ec)]=_0x1d0629(0x1b1),window[_0x1d0629(0x22a)]<=0x384&&(_0x5b5ca3[_0x241d17(0x178)][_0x1d0629(0x2f0)]=_0x1d0629(0x1d2),_0x425d19[_0x1fca0a(0x151)][_0x1d0629(0x2f0)]=_0x1d0629(0x1b1))):(_0x520ff4[_0x241d17(0x100)][_0x17a306(0x1e9)](_0x17a306(0x144)),_0x2cfd67[_0x1d0629(0x22b)][_0x241d17(0x1af)](_0x1d0629(0x2a1)),document[_0x1d0629(0x1e8)][_0x1d0629(0x1f8)][_0x17a306(0x110)]='',document[_0x1d0629(0x1e8)][_0x1d0629(0x1f8)][_0x1d0629(0x1ec)]='',window[_0x1d0629(0x22a)]<=0x384&&(_0x5b5ca3[_0x1d0629(0x1f8)][_0x17a306(0x193)]=_0x1d0629(0x1b1),_0x425d19[_0x17a306(0x1bb)][_0x1d0629(0x2f0)]=_0x241d17(0x15d)));}function updateMenuBtnDisplay(){const _0x5efbf9=a0_0x35c9,_0x3cdc1b=a0_0x521960,_0x5b90bd=a0_0x5049d9,_0x6e2003=a0_0x38aafa,_0x496079=document[_0x6e2003(0x275)](_0x5b90bd(0x226)),_0x516de6=document[_0x5efbf9(0x116)](_0x6e2003(0x183)),_0x2d86fb=document[_0x5b90bd(0x192)](_0x6e2003(0x18b)),_0x9cce8a=document[_0x6e2003(0x275)](_0x6e2003(0x1b4));window[_0x6e2003(0x22a)]>0x384?(_0x496079[_0x6e2003(0x22b)][_0x5b90bd(0x1e9)](_0x6e2003(0x2ec)),_0x516de6[_0x6e2003(0x22b)][_0x6e2003(0x187)](_0x6e2003(0x2a1)),_0x9cce8a[_0x5b90bd(0x1bb)][_0x6e2003(0x2f0)]=_0x5b90bd(0x12d),_0x2d86fb[_0x6e2003(0x1f8)][_0x6e2003(0x2f0)]=_0x6e2003(0x1b1),document[_0x6e2003(0x1e8)][_0x6e2003(0x1f8)][_0x6e2003(0x188)]='',document[_0x6e2003(0x1e8)][_0x6e2003(0x1f8)][_0x5b90bd(0x13e)]=''):_0x496079[_0x6e2003(0x22b)][_0x6e2003(0x23f)](_0x5b90bd(0x144))?(_0x9cce8a[_0x5b90bd(0x1bb)][_0x6e2003(0x2f0)]=_0x6e2003(0x1d2),_0x2d86fb[_0x6e2003(0x1f8)][_0x6e2003(0x2f0)]=_0x6e2003(0x1b1)):(_0x9cce8a[_0x6e2003(0x1f8)][_0x6e2003(0x2f0)]=_0x6e2003(0x1b1),_0x2d86fb[_0x6e2003(0x1f8)][_0x3cdc1b(0x114)]=_0x6e2003(0x1d2));}document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x2ed),function(_0x4c7f6a){const _0x2ecda2=a0_0x35c9,_0x388d96=a0_0x521960,_0x3ea4be=a0_0x5049d9,_0x5cd603=a0_0x38aafa;if(window[_0x5cd603(0x22a)]>0x384)return;const _0x3bef10=document[_0x5cd603(0x275)](_0x5cd603(0x2ce)),_0x5bc4da=document[_0x5cd603(0x275)](_0x2ecda2(0x174)),_0x391641=document[_0x5cd603(0x275)](_0x5cd603(0x18b)),_0x407ff0=document[_0x5cd603(0x275)](_0x3ea4be(0x1be));!_0x3bef10[_0x5cd603(0x23f)](_0x4c7f6a[_0x5cd603(0x2e5)])&&_0x4c7f6a[_0x5cd603(0x2e5)]!==_0x391641&&_0x4c7f6a[_0x5cd603(0x2e5)]!==_0x407ff0&&(_0x3bef10[_0x5cd603(0x22b)][_0x5cd603(0x187)](_0x5cd603(0x2ec)),_0x5bc4da[_0x5cd603(0x22b)][_0x5cd603(0x187)](_0x5cd603(0x2a1)),_0x407ff0[_0x5cd603(0x1f8)][_0x5cd603(0x2f0)]=_0x388d96(0xb2),_0x391641[_0x5cd603(0x1f8)][_0x5cd603(0x2f0)]=_0x5cd603(0x1d2),document[_0x5cd603(0x1e8)][_0x5cd603(0x1f8)][_0x5cd603(0x188)]='',document[_0x3ea4be(0x1c5)][_0x5cd603(0x1f8)][_0x5cd603(0x1ec)]='');}),(function(){const _0x409a98=a0_0x38aafa;try{(location[_0x409a98(0x1ad)][_0x409a98(0x18c)](/index\.html$/)||location[_0x409a98(0x1ad)]==='/'||location[_0x409a98(0x1ad)]===_0x409a98(0x2b1))&&(!localStorage[_0x409a98(0x1d5)](_0x409a98(0x249))&&(localStorage[_0x409a98(0x1fc)](_0x409a98(0x249),'1'),location[_0x409a98(0x1c8)]=_0x409a98(0x2ae)));}catch(_0x31cfb4){}}());function a0_0x35c9(_0x490004,_0xbfd8dc){_0x490004=_0x490004-0xc8;const _0x2f0752=a0_0x9b6b();let _0x463577=_0x2f0752[_0x490004];return _0x463577;}let scale=0x1,posX=0x0,posY=0x0,lastX=0x0,lastY=0x0,dragging=![],startX=0x0,startY=0x0,shiftPressed=![],pointerDownX=0x0,pointerDownY=0x0;const PAN_CANCEL_DISTANCE=0x8;document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x1cc),_0x578ae2=>{const _0x5118b2=a0_0x38aafa;if(_0x578ae2[_0x5118b2(0x2c5)]===_0x5118b2(0x24c))shiftPressed=!![];}),document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x1ab),_0x2d07fc=>{const _0x63f2bf=a0_0x38aafa;if(_0x2d07fc[_0x63f2bf(0x2c5)]===_0x63f2bf(0x24c))shiftPressed=![];}),canvas[a0_0x5049d9(0x1a3)](a0_0x38aafa(0x1cd),_0x9255d6=>{const _0x5510c3=a0_0x521960,_0x2af7cb=a0_0x5049d9,_0x6efb62=a0_0x38aafa;if(_0x9255d6[_0x6efb62(0x220)]===_0x6efb62(0x1a5))return;currentTool===_0x6efb62(0x232)||shiftPressed?(dragging=!![],isDrawing=![],startX=_0x9255d6[_0x6efb62(0x193)],startY=_0x9255d6[_0x6efb62(0x25d)],lastX=posX,lastY=posY,canvas[_0x6efb62(0x1f0)](_0x9255d6[_0x6efb62(0x270)]),canvas[_0x6efb62(0x1f8)][_0x6efb62(0x2bd)]=_0x6efb62(0x1c2)):(isDrawing=!![],pointerDownX=_0x9255d6[_0x6efb62(0x193)],pointerDownY=_0x9255d6[_0x2af7cb(0x12b)],handleMouseDown(_0x9255d6),canvas[_0x5510c3(0x1cc)](_0x9255d6[_0x6efb62(0x270)]));}),canvas[a0_0x38aafa(0x21d)](a0_0x38aafa(0x17e),_0x50eef7=>{const _0x2a7695=a0_0x521960,_0x385add=a0_0x38aafa;if(_0x50eef7[_0x385add(0x220)]===_0x385add(0x1a5))return;if(dragging)posX=lastX+(_0x50eef7[_0x385add(0x193)]-startX),posY=lastY+(_0x50eef7[_0x2a7695(0x1a6)]-startY),updateTransform();else{if(isDrawing){if(currentTool!==_0x385add(0x182)){const _0x540622=Math[_0x385add(0x1a6)](_0x50eef7[_0x385add(0x193)]-pointerDownX),_0x557194=Math[_0x385add(0x1a6)](_0x50eef7[_0x385add(0x25d)]-pointerDownY);if(_0x540622>=PAN_CANCEL_DISTANCE||_0x557194>=PAN_CANCEL_DISTANCE){isDrawing=![];try{handleMouseUp(_0x50eef7);}catch(_0x5cae68){}return;}}handleMouseMove(_0x50eef7);}}}),canvas[a0_0x38aafa(0x21d)](a0_0x38aafa(0x2de),_0xd4ead9=>{const _0x930a02=a0_0x521960,_0x2b136c=a0_0x5049d9,_0x5bac7f=a0_0x38aafa;if(_0xd4ead9[_0x5bac7f(0x220)]===_0x5bac7f(0x1a5))return;dragging=![],isDrawing&&handleMouseUp(_0xd4ead9),isDrawing=![];try{canvas[_0x2b136c(0x217)](_0xd4ead9[_0x5bac7f(0x270)]);}catch(_0x37c046){}if(currentTool===_0x930a02(0x12a))canvas[_0x5bac7f(0x1f8)][_0x5bac7f(0x2bd)]=_0x930a02(0xc3);else canvas[_0x5bac7f(0x1f8)][_0x2b136c(0x151)]=_0x2b136c(0x10c);}),wrapper[a0_0x38aafa(0x21d)](a0_0x521960(0x12c),_0x20a260=>{const _0x28d6f4=a0_0x5049d9,_0x5682ad=a0_0x38aafa;_0x20a260[_0x28d6f4(0x187)]();const _0x54db98=canvas[_0x28d6f4(0x1b0)](),_0x3d2b69=_0x20a260[_0x5682ad(0x193)],_0xb0930a=_0x20a260[_0x5682ad(0x25d)],_0x4cde37=(_0x3d2b69-_0x54db98[_0x5682ad(0x2a7)]-posX)/scale,_0x35ca06=(_0xb0930a-_0x54db98[_0x5682ad(0x196)]-posY)/scale,_0x66a34e=_0x20a260[_0x5682ad(0x1e7)]>0x0?0.9:1.1;let _0x41374a=scale*_0x66a34e;_0x41374a=Math[_0x5682ad(0x1b2)](Math[_0x5682ad(0x2c3)](_0x41374a,0.2),0x5),posX=_0x3d2b69-_0x54db98[_0x5682ad(0x2a7)]-_0x4cde37*_0x41374a,posY=_0xb0930a-_0x54db98[_0x5682ad(0x196)]-_0x35ca06*_0x41374a,scale=_0x41374a,updateTransform();const _0x50c4ba=document[_0x5682ad(0x275)](_0x28d6f4(0x155)),_0x1870d1=document[_0x5682ad(0x275)](_0x5682ad(0x2b6));if(_0x50c4ba)_0x50c4ba[_0x5682ad(0x24e)]=Math[_0x5682ad(0x26f)](scale*0x64);if(_0x1870d1)_0x1870d1[_0x5682ad(0x221)]=Math[_0x5682ad(0x26f)](scale*0x64)+'%';},{'passive':![]});function updateTransform(){const _0x4b13f2=a0_0x5049d9,_0x1b98c4=a0_0x38aafa;canvas[_0x1b98c4(0x1f8)][_0x4b13f2(0xee)]=_0x1b98c4(0x184)+posX+_0x1b98c4(0x1c0)+posY+_0x4b13f2(0xda)+scale+')';}function setZoomValue(_0x3131c9){const _0x376ae3=a0_0x5049d9,_0x2d0013=a0_0x38aafa,_0x309d8c=Math[_0x376ae3(0x107)](0x14,Math[_0x2d0013(0x1b2)](0x1f4,parseInt(_0x3131c9,0xa)||0x64)),_0x16a2e1=_0x309d8c/0x64;scale=_0x16a2e1,updateTransform();const _0x14f5fb=document[_0x2d0013(0x275)](_0x2d0013(0x1bc)),_0x3bc1d1=document[_0x2d0013(0x275)](_0x2d0013(0x2b6));if(_0x14f5fb)_0x14f5fb[_0x2d0013(0x24e)]=_0x309d8c;if(_0x3bc1d1)_0x3bc1d1[_0x2d0013(0x221)]=_0x309d8c+'%';}function zoomIn(){const _0x4fee46=a0_0x38aafa,_0x2daae8=document[_0x4fee46(0x275)](_0x4fee46(0x1bc));let _0x100cde=_0x2daae8?parseInt(_0x2daae8[_0x4fee46(0x24e)],0xa):Math[_0x4fee46(0x26f)](scale*0x64);_0x100cde=Math[_0x4fee46(0x1b2)](0x1f4,_0x100cde+0xa),setZoomValue(_0x100cde);}function zoomOut(){const _0x204c36=a0_0x521960,_0x2b8eb1=a0_0x38aafa,_0x1203b9=document[_0x2b8eb1(0x275)](_0x204c36(0x135));let _0x23ff24=_0x1203b9?parseInt(_0x1203b9[_0x2b8eb1(0x24e)],0xa):Math[_0x2b8eb1(0x26f)](scale*0x64);_0x23ff24=Math[_0x2b8eb1(0x2c3)](0x14,_0x23ff24-0xa),setZoomValue(_0x23ff24);}const zs=document[a0_0x38aafa(0x275)](a0_0x413a03(0x12d));if(zs)zs[a0_0x38aafa(0x28a)]=_0x40d125=>setZoomValue(_0x40d125[a0_0x5049d9(0x1d3)][a0_0x38aafa(0x24e)]);function a0_0x9b6b(){const _0x3af02c=a0_0x2578,_0x554402=a0_0x3f33,_0x25af04=a0_0x111e,_0x1d8c6e=[_0x554402(0x13f),_0x25af04(0x127),_0x25af04(0xea),_0x25af04(0x1d3),_0x3af02c(0x230),_0x25af04(0x114),_0x25af04(0xd7),_0x25af04(0x1a9),_0x25af04(0xba),_0x25af04(0xcc),_0x25af04(0x101),_0x25af04(0xa7),_0x25af04(0x169),_0x25af04(0x1db),_0x25af04(0xbc),_0x554402(0x173),_0x25af04(0x188),_0x554402(0x1de),_0x25af04(0xbd),_0x25af04(0xdc),_0x554402(0x1b2),_0x25af04(0x19b),_0x25af04(0xe3),_0x25af04(0x159),_0x25af04(0x164),_0x25af04(0x1df),_0x25af04(0xb1),_0x25af04(0x97),_0x25af04(0xb0),_0x25af04(0x1c8),_0x25af04(0x18f),_0x3af02c(0x1c8),_0x25af04(0x13b),_0x25af04(0x175),_0x25af04(0x123),_0x554402(0x114),_0x25af04(0x8d),_0x25af04(0x12c),_0x25af04(0xd4),_0x25af04(0x1f4),_0x25af04(0x166),_0x25af04(0x1ed),_0x25af04(0x99),_0x25af04(0x13a),_0x25af04(0x181),_0x554402(0x100),_0x25af04(0x1a5),_0x25af04(0x180),_0x25af04(0x19c),_0x25af04(0x1bb),_0x25af04(0x1bd),_0x3af02c(0x1e5),_0x25af04(0x19f),_0x554402(0x200),_0x554402(0x1d1),_0x25af04(0xda),_0x25af04(0x1b4),_0x25af04(0x133),_0x25af04(0x1bf),_0x25af04(0x193),_0x554402(0x153),_0x25af04(0x1c3),_0x25af04(0x17c),_0x25af04(0x115),_0x25af04(0x1d0),_0x25af04(0x167),_0x25af04(0x1e6),_0x25af04(0xcd),_0x25af04(0x16a),_0x25af04(0x9b),_0x25af04(0x16e),_0x25af04(0x141),_0x25af04(0xc4),_0x25af04(0x122),_0x25af04(0x186),_0x554402(0x15f),_0x25af04(0xab),_0x25af04(0x19d),_0x25af04(0xe2),_0x25af04(0xce),_0x25af04(0x1eb),_0x3af02c(0x187),_0x25af04(0x93),_0x3af02c(0x280),_0x25af04(0xa1),_0x25af04(0xac),_0x25af04(0x153),_0x3af02c(0x186),_0x3af02c(0x1f9),_0x25af04(0x129),_0x3af02c(0x215),_0x25af04(0x158),_0x25af04(0xee),_0x25af04(0x13c),_0x25af04(0x1da),_0x25af04(0x11a),_0x25af04(0x1aa),_0x554402(0xe7),_0x554402(0x1cd),_0x25af04(0x118),_0x554402(0xc3),_0x25af04(0x1c6),_0x554402(0x211),_0x25af04(0x128),_0x25af04(0x8c),_0x25af04(0x176),_0x25af04(0x1bc),_0x554402(0xbf),_0x25af04(0x168),_0x3af02c(0x269),_0x25af04(0x161),_0x25af04(0x110),_0x25af04(0xdf),_0x25af04(0x1cd),_0x25af04(0xe8),_0x554402(0x102),_0x25af04(0xa6),_0x554402(0x1ea),_0x25af04(0x155),_0x25af04(0x88),_0x25af04(0x1e1),_0x25af04(0x195),_0x554402(0x179),_0x25af04(0x18b),_0x25af04(0x1c4),_0x554402(0x134),_0x25af04(0x18a),_0x25af04(0xaa),_0x25af04(0xe7),_0x25af04(0x11d),_0x25af04(0x1cf),_0x25af04(0x1ce),_0x25af04(0x108),_0x554402(0xdc),_0x25af04(0x8a),_0x25af04(0x14f),_0x25af04(0x12e),_0x25af04(0x8b),_0x25af04(0x1ae),_0x25af04(0x96),_0x25af04(0x1c0),_0x25af04(0xff),_0x554402(0xd6),_0x25af04(0xd9),_0x25af04(0x9e),_0x25af04(0x187),_0x25af04(0x1a1),_0x25af04(0x15f),_0x25af04(0x1b8),_0x3af02c(0x1e9),_0x25af04(0xaf),_0x25af04(0xe1),_0x25af04(0xc3),_0x554402(0x148),_0x25af04(0x143),_0x25af04(0xf7),_0x25af04(0x126),_0x3af02c(0x208),_0x25af04(0x1e5),_0x25af04(0x1e3),_0x25af04(0x1e7),_0x25af04(0x10c),_0x25af04(0x199),_0x25af04(0x146),_0x25af04(0x12f),_0x25af04(0xed),_0x25af04(0x10f),_0x25af04(0x106),_0x25af04(0x1c9),_0x554402(0xc1),_0x25af04(0x1ea),_0x25af04(0x113),_0x25af04(0x182),_0x25af04(0x109),_0x554402(0x18b),_0x25af04(0x1c7),_0x25af04(0x151),_0x25af04(0xd2),_0x3af02c(0x1d7),_0x25af04(0x14a),_0x25af04(0xf0),_0x25af04(0x160),_0x3af02c(0x18e),_0x25af04(0x1f6),_0x25af04(0x1f0),_0x25af04(0xf6),_0x25af04(0x1b2),_0x25af04(0xcb),_0x25af04(0x1a6),_0x25af04(0x170),_0x25af04(0x1d1),_0x25af04(0xe9),_0x25af04(0x9d),_0x25af04(0xae),_0x25af04(0x13d),_0x25af04(0x1a3),_0x25af04(0x87),_0x25af04(0xd0),_0x25af04(0x197),_0x25af04(0xc7),_0x25af04(0x1cb),_0x25af04(0x1a0),_0x25af04(0x95),_0x25af04(0x1c5),_0x25af04(0xfe),_0x25af04(0xd3),_0x25af04(0xd6),_0x25af04(0xa0),_0x25af04(0x9c),_0x25af04(0x14c),_0x25af04(0x11c),_0x25af04(0xf5),_0x25af04(0x1ac),_0x25af04(0xc8),_0x25af04(0xbb),_0x25af04(0x107),_0x554402(0x161),_0x554402(0x212),_0x25af04(0x136),_0x554402(0x12a),_0x25af04(0x145),_0x25af04(0x1c2),_0x554402(0xea),_0x554402(0x1bb),_0x554402(0x1ed),_0x25af04(0xf2),_0x554402(0x192),_0x25af04(0x119),_0x554402(0x141),_0x25af04(0xcf),_0x25af04(0x140),_0x25af04(0x16c),_0x554402(0x121),_0x25af04(0x15d),_0x25af04(0x192),_0x554402(0x130),_0x554402(0xec),_0x25af04(0x120),_0x25af04(0x1a2),_0x554402(0x1e7),_0x25af04(0x11e),_0x25af04(0xa2),_0x25af04(0x17b),_0x25af04(0x92),_0x3af02c(0x239),_0x25af04(0xb6),_0x25af04(0x13f),_0x554402(0x10e),_0x25af04(0x1b5),_0x25af04(0x1b9),_0x25af04(0xe5),_0x25af04(0x12b),_0x25af04(0x1ad),_0x3af02c(0x1dd),_0x25af04(0xe6),_0x554402(0x15d),_0x25af04(0x1e2),_0x25af04(0x132),_0x25af04(0x1dd),_0x25af04(0x124),_0x25af04(0xfd),_0x554402(0x1e6),_0x25af04(0xa8),_0x25af04(0x10d),_0x25af04(0x1cc),_0x25af04(0x179),_0x25af04(0xd1),_0x25af04(0xeb),_0x25af04(0x17e),_0x25af04(0x1b3),_0x25af04(0x98),_0x554402(0x1af),_0x25af04(0x165),_0x25af04(0x178),_0x25af04(0xc1),_0x25af04(0x18d),_0x25af04(0x112),_0x25af04(0x196),_0x25af04(0xb7),_0x25af04(0x1d5),_0x25af04(0x137),_0x25af04(0x104),_0x25af04(0xd5),_0x25af04(0x18c),_0x25af04(0x1a4),_0x25af04(0xb5),_0x554402(0xd0),_0x25af04(0xe4),_0x25af04(0x154),_0x25af04(0xdb),_0x25af04(0x9a),_0x25af04(0x14e),_0x25af04(0xf8),_0x25af04(0x18e),_0x25af04(0xc5),_0x25af04(0x1ec),_0x554402(0x193),_0x25af04(0x116),_0x25af04(0x12d),_0x554402(0x172),_0x25af04(0xc2),_0x554402(0x169),_0x25af04(0x130),_0x25af04(0x142),_0x25af04(0x91),_0x25af04(0x1f2),_0x25af04(0x17f),_0x25af04(0xca),_0x25af04(0xbf),_0x25af04(0x9f),_0x25af04(0xa5),_0x3af02c(0x18f),'14lKJKdV',_0x25af04(0x15e),_0x25af04(0x1b6),_0x25af04(0x1dc),_0x554402(0x160),_0x3af02c(0x19e),_0x3af02c(0x173),_0x554402(0x10d),_0x25af04(0xfb),_0x554402(0xca),_0x25af04(0x90),_0x3af02c(0x1d9),_0x25af04(0x1af),_0x3af02c(0x180),_0x25af04(0x1de),_0x25af04(0x152),_0x25af04(0x1b7),_0x25af04(0x1be),_0x25af04(0x125),_0x25af04(0x19a),_0x25af04(0x1ef),_0x25af04(0x1d2),_0x25af04(0x135),_0x25af04(0x185),_0x25af04(0x134),_0x554402(0x1fb),_0x25af04(0x1f3),_0x25af04(0x1b0),_0x3af02c(0x167),_0x25af04(0x19e),_0x554402(0x1d2),_0x3af02c(0x14f),_0x25af04(0x1ab),_0x25af04(0x173),_0x3af02c(0x20b),_0x25af04(0x1c1),_0x25af04(0x1d7),_0x25af04(0xc6),_0x25af04(0xb9),_0x25af04(0x1e0),_0x25af04(0x184)];return a0_0x9b6b=function(){return _0x1d8c6e;},a0_0x9b6b();}function a0_0xce2f(_0x502e16,_0x32cb74){_0x502e16=_0x502e16-0xda;const _0x86bfbc=a0_0x243d();let _0x1563fe=_0x86bfbc[_0x502e16];return _0x1563fe;}const zv=document[a0_0x38aafa(0x275)](a0_0x5049d9(0x16a));if(zv)zv[a0_0x5049d9(0x154)]=Math[a0_0x521960(0x122)](scale*0x64)+'%';function getCanvasCoords(_0x385af8){const _0x46f263=a0_0x413a03,_0x422cd5=a0_0x5049d9,_0x1267ed=a0_0x38aafa,_0x45d26c=canvas[_0x46f263(0x19b)](),_0x47adc2=canvas[_0x422cd5(0x190)]/_0x45d26c[_0x1267ed(0x1b8)],_0x725c01=canvas[_0x1267ed(0x27c)]/_0x45d26c[_0x1267ed(0x27c)],_0x52b4d2=(_0x385af8[_0x1267ed(0x193)]-_0x45d26c[_0x1267ed(0x2a7)])*_0x47adc2,_0x2abc58=(_0x385af8[_0x1267ed(0x25d)]-_0x45d26c[_0x1267ed(0x196)])*_0x725c01;return{'x':_0x52b4d2,'y':_0x2abc58};}function handleDrawStart(_0x3fa32d){const _0x9770b=a0_0x38aafa,_0x505a2f=getCanvasCoords(_0x3fa32d);ctx[_0x9770b(0x2eb)](),ctx[_0x9770b(0x29e)](_0x505a2f['x'],_0x505a2f['y']);}function handleDrawMove(_0x17ea20){const _0x23cc08=a0_0x5049d9,_0x395b08=a0_0x38aafa,_0x360179=getCanvasCoords(_0x17ea20);ctx[_0x23cc08(0xf3)](_0x360179['x'],_0x360179['y']),ctx[_0x395b08(0x2d9)]();}function handleDrawEnd(_0x40ea6f){const _0x241897=a0_0x38aafa;ctx[_0x241897(0x2db)]();}function a0_0x3c67(){const _0x9a291e=a0_0x2578,_0x273f98=a0_0x3f33,_0x3201c8=[_0x273f98(0x1a0),_0x273f98(0x13e),_0x273f98(0x131),_0x9a291e(0x1f0),_0x9a291e(0x11f),_0x273f98(0x194),_0x273f98(0x11e),_0x273f98(0x168),'(prefers-color-scheme:\x20dark)',_0x273f98(0x1f6),_0x273f98(0x16d),_0x9a291e(0x21e),_0x273f98(0x1bf),_0x273f98(0x174),_0x9a291e(0x1a4),_0x273f98(0x117),_0x273f98(0x155),_0x273f98(0x1a3),_0x9a291e(0x1ed),_0x273f98(0x185),_0x273f98(0x124),_0x273f98(0xdd),'コマ)',_0x273f98(0x13c),_0x9a291e(0x12d),_0x273f98(0x213),_0x9a291e(0x220),_0x273f98(0x110),_0x273f98(0xc5),_0x273f98(0x1c1),_0x273f98(0x1fc),_0x273f98(0x152),_0x273f98(0x1c5),_0x273f98(0x176),_0x273f98(0x122),_0x273f98(0x12f),_0x273f98(0xc2),_0x273f98(0x10c),'colorPicker',_0x273f98(0xbc),_0x273f98(0xf3),_0x273f98(0x1d4),_0x9a291e(0x207),_0x273f98(0x17d),_0x9a291e(0x27d),_0x273f98(0x1b8),_0x273f98(0x15e),_0x273f98(0xeb),_0x273f98(0xc8),_0x273f98(0x18d),_0x273f98(0x1b4),_0x273f98(0x1aa),_0x9a291e(0x13c),_0x273f98(0x14d),_0x273f98(0x1e4),_0x273f98(0xce),_0x273f98(0x1bd),_0x273f98(0xfc),_0x273f98(0x206),_0x273f98(0x1a2),_0x273f98(0x1d3),_0x273f98(0x209),_0x273f98(0x132),_0x273f98(0x1a9),_0x273f98(0x142),_0x273f98(0xe3),_0x273f98(0x1f2),_0x9a291e(0x171),_0x273f98(0x217),_0x273f98(0x1be),_0x273f98(0x130),_0x273f98(0xf7),_0x273f98(0xdf),_0x273f98(0x158),_0x9a291e(0x20f),_0x273f98(0x188),_0x273f98(0x151),'activeProject',_0x273f98(0x16a),_0x273f98(0x17e),'7364640yMKFng',_0x273f98(0xc9),_0x273f98(0x1da),_0x9a291e(0x1ca),_0x273f98(0x1d6),_0x273f98(0x14b),_0x273f98(0x129),_0x273f98(0x1e5),_0x273f98(0x101),_0x273f98(0x1f5),_0x273f98(0x11a),_0x273f98(0x143),_0x273f98(0xba),_0x273f98(0x20b),_0x273f98(0x18a),_0x273f98(0xd3),_0x273f98(0xfd),'circle',_0x273f98(0x137),_0x273f98(0x19b),_0x273f98(0x17b),_0x273f98(0x191),_0x273f98(0x1b6),_0x273f98(0x1bc),_0x273f98(0x15b),_0x9a291e(0x151),_0x9a291e(0x1a9),_0x273f98(0x1f1),_0x273f98(0xd4),_0x273f98(0xd1),_0x9a291e(0x279),_0x273f98(0xb8),_0x273f98(0x216),_0x273f98(0x18c),_0x273f98(0xcf),'getContext',_0x273f98(0xbd),_0x273f98(0x1c4),_0x273f98(0x1ad),_0x273f98(0x1cb),_0x273f98(0xcd),_0x273f98(0x1b1),_0x273f98(0xe0),_0x273f98(0x103),_0x273f98(0x12b),_0x273f98(0xcc),_0x273f98(0x1ae),_0x273f98(0xe9),_0x273f98(0x189),_0x9a291e(0x1aa),_0x273f98(0xc4),_0x9a291e(0x261),_0x9a291e(0x11d),_0x9a291e(0x17d),_0x273f98(0xbe),_0x273f98(0x14f),_0x273f98(0x1e2),_0x273f98(0x205),_0x273f98(0x14a),_0x273f98(0x1df),_0x273f98(0x15c),_0x273f98(0x123),_0x273f98(0x112),_0x273f98(0x190),_0x9a291e(0x14d),_0x273f98(0x12c),_0x273f98(0x139),_0x9a291e(0x250),_0x273f98(0x120),_0x273f98(0x147),_0x273f98(0xe1),_0x273f98(0x1a1),_0x273f98(0xc0),_0x273f98(0x154),_0x9a291e(0x273),_0x273f98(0x196),_0x273f98(0x1b7),_0x9a291e(0x25e),_0x9a291e(0x21d),_0x273f98(0x214),_0x273f98(0x20a),_0x273f98(0xf2),_0x9a291e(0x1a5),_0x273f98(0xde),_0x273f98(0xda),_0x273f98(0x1b0),_0x9a291e(0x227),_0x273f98(0x17c),_0x9a291e(0x10a),_0x273f98(0x1c0),_0x273f98(0x204),_0x273f98(0xff),_0x9a291e(0x1a6),_0x273f98(0x13a),_0x273f98(0x18f),_0x273f98(0xe2),_0x9a291e(0x24a),_0x273f98(0xbb),_0x273f98(0xf4),_0x273f98(0x138),_0x273f98(0x12d),'objectStore',_0x273f98(0xd9),_0x273f98(0x19f),_0x273f98(0x113),_0x273f98(0x1fe),_0x273f98(0x1dc),_0x273f98(0x202),_0x273f98(0xe6),_0x273f98(0x1d7),_0x9a291e(0x15a),_0x9a291e(0x181),'pop',_0x273f98(0x165),_0x9a291e(0x1c5),_0x9a291e(0x190),_0x273f98(0x20d),'palette-penMode',_0x273f98(0x1e8),_0x273f98(0x170),_0x273f98(0x175),_0x273f98(0x106),_0x273f98(0x167),_0x273f98(0x140),_0x9a291e(0x263),_0x273f98(0xfe),_0x273f98(0x109),_0x9a291e(0x10c),_0x273f98(0xc7),_0x9a291e(0x21b),_0x9a291e(0x156),_0x273f98(0x16c),_0x273f98(0x150),_0x273f98(0x1ca),_0x273f98(0xfb),'2471826kAkssG',_0x273f98(0x186),_0x273f98(0x125),_0x9a291e(0x19f),_0x273f98(0x17a),_0x273f98(0xef),_0x273f98(0xe4),_0x273f98(0x11f),_0x273f98(0x1c9),_0x273f98(0x187),_0x273f98(0x1b3),_0x9a291e(0x168),_0x9a291e(0x25f),'shift',_0x273f98(0x1e1),'frameList',_0x9a291e(0x203),_0x273f98(0x16b),_0x9a291e(0x21f),_0x273f98(0x1ab),'anonymous',_0x9a291e(0x27a),_0x273f98(0x1d5),_0x273f98(0x14c),_0x273f98(0x162),_0x273f98(0x20c),_0x273f98(0x18e),_0x9a291e(0x127),_0x9a291e(0x25d),_0x9a291e(0x247),_0x273f98(0x1af),'21479103enQVXi',_0x9a291e(0x245),_0x273f98(0x133),_0x9a291e(0x24b),_0x273f98(0xed),_0x273f98(0x145),_0x273f98(0x1e9),_0x273f98(0x108),'fill',_0x273f98(0x11d),_0x273f98(0x19e),_0x273f98(0x1e0),_0x273f98(0xf5),_0x273f98(0x111),_0x273f98(0x13b),_0x9a291e(0x246),_0x273f98(0x157),_0x273f98(0x1c7),_0x273f98(0x1c3),_0x9a291e(0x265),_0x273f98(0x13d),_0x273f98(0x1a6),_0x273f98(0x1ee),_0x273f98(0xcb),_0x273f98(0xdb),_0x9a291e(0x243),_0x273f98(0x118),_0x273f98(0x208),_0x273f98(0xf6),_0x273f98(0x218),_0x9a291e(0x259),_0x273f98(0xf1),_0x9a291e(0x111),_0x273f98(0x19a),_0x9a291e(0x20d),'canvas',_0x273f98(0xf8),_0x9a291e(0x1b8),_0x273f98(0x195),_0x273f98(0x1b9),_0x273f98(0x135),_0x9a291e(0x1e7),_0x9a291e(0x104),_0x9a291e(0x244),_0x273f98(0x16e),_0x273f98(0xe5),_0x273f98(0x1ec),_0x273f98(0x105),'projectCount',_0x273f98(0x171),'#008080',_0x273f98(0x1cc),_0x273f98(0x1fd),_0x273f98(0x182),_0x9a291e(0x162),_0x273f98(0x1ac),_0x273f98(0x164),_0x273f98(0x126),_0x273f98(0x21a),_0x273f98(0x128),_0x9a291e(0x19d),_0x9a291e(0x13d),_0x273f98(0xe8),_0x273f98(0x10a),_0x273f98(0x15a),_0x9a291e(0x144),_0x273f98(0x198),_0x273f98(0xc6),_0x273f98(0x1c6),_0x273f98(0x144),_0x273f98(0x127),_0x9a291e(0x148),_0x273f98(0x1ff),_0x273f98(0x1c2),_0x273f98(0xee),_0x273f98(0x1ce),_0x273f98(0x201),_0x273f98(0x1a7),_0x273f98(0x119),_0x273f98(0xd8),_0x9a291e(0x14e),_0x273f98(0x1f0),_0x273f98(0x1c8),_0x273f98(0xf0),'layerHistories',_0x273f98(0x136),_0x273f98(0x163),_0x273f98(0x178),_0x273f98(0x197),_0x273f98(0x1e3),_0x273f98(0x203),_0x273f98(0x215),_0x273f98(0x146),_0x273f98(0x1d9),_0x273f98(0x180),_0x9a291e(0x158),_0x273f98(0x19d),_0x273f98(0x1eb),_0x9a291e(0x216),_0x9a291e(0x169),_0x273f98(0x1f4),_0x273f98(0x1a5),_0x273f98(0x210),_0x273f98(0x11c),_0x273f98(0x11b),_0x9a291e(0x262),'color',_0x273f98(0x104),_0x273f98(0xb9),_0x273f98(0x1db),_0x273f98(0x1fa),_0x273f98(0x1d8),_0x273f98(0x159),_0x273f98(0x20e),_0x273f98(0xd2),'touch','layerRedoStacks',_0x273f98(0x1f9),_0x273f98(0x18b),_0x273f98(0x219),_0x273f98(0x16f),_0x273f98(0x156)];return a0_0x3c67=function(){return _0x3201c8;},a0_0x3c67();}