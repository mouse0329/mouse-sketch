(function(_0x4285c9,_0x4bd102){const _0x2e51cd=_0x3d39,_0x5a19a4=_0x4285c9();while(!![]){try{const _0x595486=parseInt(_0x2e51cd(0x1b6))/0x1+-parseInt(_0x2e51cd(0x1ac))/0x2+parseInt(_0x2e51cd(0x1a0))/0x3+parseInt(_0x2e51cd(0x1cd))/0x4+-parseInt(_0x2e51cd(0x1b4))/0x5+-parseInt(_0x2e51cd(0x18e))/0x6*(parseInt(_0x2e51cd(0x186))/0x7)+parseInt(_0x2e51cd(0x19b))/0x8*(parseInt(_0x2e51cd(0x1b0))/0x9);if(_0x595486===_0x4bd102)break;else _0x5a19a4['push'](_0x5a19a4['shift']());}catch(_0x210ade){_0x5a19a4['push'](_0x5a19a4['shift']());}}}(_0x35e6,0x2d87d));const _0x5d2ff9=(function(){let _0x5c9edb=!![];return function(_0x61e5c,_0x50a4e1){const _0x2c5fdb=_0x5c9edb?function(){const _0x13ce3e=_0x3d39;if(_0x50a4e1){const _0xd0ced=_0x50a4e1[_0x13ce3e(0x1cf)](_0x61e5c,arguments);return _0x50a4e1=null,_0xd0ced;}}:function(){};return _0x5c9edb=![],_0x2c5fdb;};}()),_0x25b197=_0x5d2ff9(this,function(){const _0x4cf102=_0x3d39;return _0x25b197[_0x4cf102(0x18d)]()[_0x4cf102(0x1ba)](_0x4cf102(0x1a3))[_0x4cf102(0x18d)]()[_0x4cf102(0x19a)](_0x25b197)['search']('(((.+)+)+)+$');});_0x25b197();function _0x35e6(){const _0x53017d=['30037VpFjhK','from','palette-color','toLowerCase','div','splice','firstChild','toString','324OMWKuU','unshift','#00000000','onclick','createElement','relative','overflow','selected','style','<span\x20style=\x22position:relative;z-index:1;font-size:13px;color:#888;\x22>透明</span>','8px','height','constructor','246632VRaofH','button','querySelectorAll','map','insertBefore','574899eopQmy','data','palette-add-btn','(((.+)+)+)+$','#000000','display','min','getElementById','position','test','textContent','absolute','245460egByhe','\x20透明度','entries','forEach','117gnSkSQ','split','title','appendChild','1562460rMIPhj','stopPropagation','219861JMrJNh','floor','className','inset','search','padStart','join','round','transparent','innerHTML','get','classList','rgba(','background','none','getContext','width','replace','length','この色をパレットから削除','palette-del-btn','slice','borderRadius','164632dTwjoi','count','apply'];_0x35e6=function(){return _0x53017d;};return _0x35e6();}function hexToRgbaCss(_0x7f4bc3,_0x6aec69){const _0x2f2693=_0x3d39;let _0x106761,_0x3c4ec1,_0x3c959b,_0x2a2d8e=_0x6aec69;if(_0x7f4bc3[_0x2f2693(0x1c8)]===0x9)_0x106761=parseInt(_0x7f4bc3['slice'](0x1,0x3),0x10),_0x3c4ec1=parseInt(_0x7f4bc3[_0x2f2693(0x1cb)](0x3,0x5),0x10),_0x3c959b=parseInt(_0x7f4bc3['slice'](0x5,0x7),0x10),_0x2a2d8e=parseInt(_0x7f4bc3[_0x2f2693(0x1cb)](0x7,0x9),0x10)/0xff;else{if(_0x7f4bc3['length']===0x7)_0x106761=parseInt(_0x7f4bc3[_0x2f2693(0x1cb)](0x1,0x3),0x10),_0x3c4ec1=parseInt(_0x7f4bc3[_0x2f2693(0x1cb)](0x3,0x5),0x10),_0x3c959b=parseInt(_0x7f4bc3[_0x2f2693(0x1cb)](0x5,0x7),0x10);else{if(_0x7f4bc3[_0x2f2693(0x1c8)]===0x4)_0x106761=parseInt(_0x7f4bc3[0x1]+_0x7f4bc3[0x1],0x10),_0x3c4ec1=parseInt(_0x7f4bc3[0x2]+_0x7f4bc3[0x2],0x10),_0x3c959b=parseInt(_0x7f4bc3[0x3]+_0x7f4bc3[0x3],0x10);else return _0x7f4bc3;}}return _0x2f2693(0x1c2)+_0x106761+','+_0x3c4ec1+','+_0x3c959b+','+_0x2a2d8e+')';}function hexToRgba(_0x27c974,_0x5ba6ff=0x1){const _0x98a15d=_0x3d39;if(_0x27c974===_0x98a15d(0x1be)||_0x27c974==='#00000000')return[0x0,0x0,0x0,0x0];_0x27c974=_0x27c974[_0x98a15d(0x1c7)]('#','');if(_0x27c974[_0x98a15d(0x1c8)]===0x3)_0x27c974=_0x27c974['split']('')['map'](_0x29e459=>_0x29e459+_0x29e459)[_0x98a15d(0x1bc)]('');if(_0x27c974['length']===0x8){const _0xbf8327=parseInt(_0x27c974[_0x98a15d(0x1cb)](0x0,0x2),0x10),_0x44aa31=parseInt(_0x27c974[_0x98a15d(0x1cb)](0x2,0x4),0x10),_0x29a428=parseInt(_0x27c974[_0x98a15d(0x1cb)](0x4,0x6),0x10),_0x27fad6=parseInt(_0x27c974[_0x98a15d(0x1cb)](0x6,0x8),0x10);return[_0xbf8327,_0x44aa31,_0x29a428,_0x27fad6];}let _0x4f9ec4=parseInt(_0x27c974,0x10);return[_0x4f9ec4>>0x10&0xff,_0x4f9ec4>>0x8&0xff,_0x4f9ec4&0xff,Math[_0x98a15d(0x1bd)](0xff*_0x5ba6ff)];}function colorsMatch(_0x80b242,_0x4d5ca3){return _0x80b242[0x0]===_0x4d5ca3[0x0]&&_0x80b242[0x1]===_0x4d5ca3[0x1]&&_0x80b242[0x2]===_0x4d5ca3[0x2]&&_0x80b242[0x3]===_0x4d5ca3[0x3];}function createPalette(){const _0x2cabd8=_0x3d39,_0x35b7c1=document[_0x2cabd8(0x1a7)]('color-palette');if(!_0x35b7c1)return;_0x35b7c1[_0x2cabd8(0x1bf)]='',PALETTE_COLORS[_0x2cabd8(0x1af)]((_0x32be1f,_0x5ace94)=>{const _0x1023c4=_0x2cabd8,_0x5776cc=document['createElement'](_0x1023c4(0x19c));_0x5776cc['className']=_0x1023c4(0x188),_0x5776cc[_0x1023c4(0x196)][_0x1023c4(0x1a8)]=_0x1023c4(0x193),_0x5776cc[_0x1023c4(0x196)][_0x1023c4(0x194)]='hidden',_0x5776cc['innerHTML']='';let _0x60fcaf=document[_0x1023c4(0x192)](_0x1023c4(0x18a));_0x60fcaf[_0x1023c4(0x196)][_0x1023c4(0x1a8)]=_0x1023c4(0x1ab),_0x60fcaf[_0x1023c4(0x196)]['inset']='0',_0x60fcaf[_0x1023c4(0x196)][_0x1023c4(0x1cc)]=_0x1023c4(0x198),_0x60fcaf[_0x1023c4(0x196)][_0x1023c4(0x1c3)]='repeating-conic-gradient(#bbb\x200%\x2025%,\x20#444\x200%\x2050%)\x2050%\x20/\x2016px\x2016px';let _0x42c612=document[_0x1023c4(0x192)]('div');_0x42c612[_0x1023c4(0x196)][_0x1023c4(0x1a8)]=_0x1023c4(0x1ab),_0x42c612[_0x1023c4(0x196)][_0x1023c4(0x1b9)]='0',_0x42c612[_0x1023c4(0x196)][_0x1023c4(0x1cc)]=_0x1023c4(0x198);if(_0x32be1f===_0x1023c4(0x1be)||_0x32be1f==='#00000000')_0x42c612['style'][_0x1023c4(0x1c3)]=_0x1023c4(0x1c4),_0x5776cc['title']='透明',_0x5776cc['innerHTML']=_0x1023c4(0x197);else{if(/^#([0-9a-f]{8})$/i[_0x1023c4(0x1a9)](_0x32be1f)){_0x42c612[_0x1023c4(0x196)]['background']=hexToRgbaCss(_0x32be1f,0x1);const [_0x219d5a,_0x18e79d,_0x1fcb6d,_0x1164b8]=hexToRgba(_0x32be1f),_0x3ae156=_0x1164b8/0xff;_0x5776cc[_0x1023c4(0x1b2)]=rgbaToHex(_0x219d5a,_0x18e79d,_0x1fcb6d)+'\x20'+Math[_0x1023c4(0x1bd)](_0x3ae156*0x64)+'%';}else _0x32be1f[_0x1023c4(0x189)]()===currentColor[_0x1023c4(0x189)]()&&currentAlpha<0x1?(_0x42c612[_0x1023c4(0x196)]['background']=hexToRgbaCss(_0x32be1f,currentAlpha),_0x5776cc[_0x1023c4(0x1b2)]=_0x32be1f+_0x1023c4(0x1ad)+Math[_0x1023c4(0x1bd)](currentAlpha*0x64)+'%'):(_0x42c612[_0x1023c4(0x196)][_0x1023c4(0x1c3)]=_0x32be1f,_0x5776cc['title']=_0x32be1f);}_0x5776cc[_0x1023c4(0x1b3)](_0x60fcaf),_0x5776cc[_0x1023c4(0x1b3)](_0x42c612),_0x5776cc[_0x1023c4(0x191)]=()=>{const _0x42f515=_0x1023c4;if(_0x32be1f===_0x42f515(0x1be)||_0x32be1f===_0x42f515(0x190))currentColor=_0x42f515(0x1be),currentAlpha=0x0;else{if(/^#([0-9a-f]{8})$/i['test'](_0x32be1f)){const [_0x52cd81,_0x2e4dc9,_0x3f96a1,_0x59ac56]=hexToRgba(_0x32be1f);currentAlpha=_0x59ac56/0xff,currentColor=rgbaToHex(_0x52cd81,_0x2e4dc9,_0x3f96a1);}else currentColor=_0x32be1f,currentAlpha=0x1;}updateCurrentColorSwatch(),document[_0x42f515(0x19d)]('.palette-color')[_0x42f515(0x1af)](_0x298049=>_0x298049['classList']['remove'](_0x42f515(0x195))),_0x5776cc[_0x42f515(0x1c1)]['add'](_0x42f515(0x195));};if(_0x5ace94!==0x0){const _0x371014=document[_0x1023c4(0x192)]('span');_0x371014[_0x1023c4(0x1aa)]='×',_0x371014[_0x1023c4(0x1b8)]=_0x1023c4(0x1ca),_0x371014[_0x1023c4(0x1b2)]=_0x1023c4(0x1c9),_0x371014[_0x1023c4(0x191)]=_0x5d4a4a=>{const _0x574ba3=_0x1023c4;_0x5d4a4a['stopPropagation'](),PALETTE_COLORS[_0x574ba3(0x1c8)]>0x2&&(PALETTE_COLORS['splice'](_0x5ace94,0x1),createPalette());},_0x5776cc[_0x1023c4(0x1b3)](_0x371014);}_0x35b7c1[_0x1023c4(0x1b3)](_0x5776cc);});const _0x2d2466=document[_0x2cabd8(0x192)]('button');_0x2d2466['className']=_0x2cabd8(0x1a2),_0x2d2466[_0x2cabd8(0x1b2)]='パレットに色を追加',_0x2d2466['innerHTML']='+',_0x2d2466[_0x2cabd8(0x191)]=_0x4423d6=>{const _0x25d3a2=_0x2cabd8;_0x4423d6[_0x25d3a2(0x1b5)](),showColorPickerDialog({'color':currentColor===_0x25d3a2(0x1be)?_0x25d3a2(0x1a4):currentColor,'alpha':currentAlpha,'okLabel':'追加','onChange':()=>{},'onOk':({hex:_0x53ec6d,rgba:_0x56e0df,a:_0x417431})=>{const _0x26cf3b=_0x25d3a2;if(_0x417431===0x0){if(PALETTE_COLORS[0x0]===_0x26cf3b(0x1be))PALETTE_COLORS[_0x26cf3b(0x18b)](0x1,0x0,_0x26cf3b(0x1be));else PALETTE_COLORS[_0x26cf3b(0x18f)](_0x26cf3b(0x1be));}else{const _0x16fe82=Math[_0x26cf3b(0x1bd)](_0x417431*0xff),_0x576ff3=_0x16fe82[_0x26cf3b(0x18d)](0x10)[_0x26cf3b(0x1bb)](0x2,'0');PALETTE_COLORS[_0x26cf3b(0x18f)](''+_0x53ec6d+_0x576ff3);}if(PALETTE_COLORS[_0x26cf3b(0x1c8)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x26cf3b(0x1cb)](0x0,0x18);savePaletteToDB(),createPalette();}});},_0x35b7c1[_0x2cabd8(0x19f)](_0x2d2466,_0x35b7c1[_0x2cabd8(0x18c)]);const _0xfb6850=document[_0x2cabd8(0x1a7)]('scanColorsPanel');if(_0xfb6850)_0xfb6850[_0x2cabd8(0x196)][_0x2cabd8(0x1a5)]='';}function scanImageColors(){const _0x25fd44=_0x3d39,_0x480e7c=getCurrentProject(),_0x59c4ad=getCurrentFrame();if(!_0x480e7c||!_0x59c4ad)return[];const _0x154e2c=new Map(),_0x48404a=_0x480e7c[_0x25fd44(0x1c6)],_0x40ee56=_0x480e7c[_0x25fd44(0x199)],_0x28fdce=canvas[_0x25fd44(0x1c5)]('2d',{'willReadFrequently':!![]});for(let _0x9aba89=0x0;_0x9aba89<_0x40ee56;_0x9aba89++){for(let _0x5768bf=0x0;_0x5768bf<_0x48404a;_0x5768bf++){const _0x13c59b=Math[_0x25fd44(0x1a6)](Math[_0x25fd44(0x1b7)](_0x5768bf*cellSize+cellSize/0x2),canvas['width']-0x1),_0x610c47=Math['min'](Math[_0x25fd44(0x1b7)](_0x9aba89*cellSize+cellSize/0x2),canvas[_0x25fd44(0x199)]-0x1),_0x310944=_0x28fdce['getImageData'](_0x13c59b,_0x610c47,0x1,0x1)[_0x25fd44(0x1a1)],_0x1f40bc=_0x310944[0x0]+','+_0x310944[0x1]+','+_0x310944[0x2]+','+_0x310944[0x3];_0x154e2c['set'](_0x1f40bc,(_0x154e2c[_0x25fd44(0x1c0)](_0x1f40bc)||0x0)+0x1);}}const _0x24d3b4=Array[_0x25fd44(0x187)](_0x154e2c[_0x25fd44(0x1ae)]())[_0x25fd44(0x19e)](([_0x2da6de,_0x117566])=>{const _0x4991bf=_0x25fd44,[_0x5414d5,_0x1f3534,_0x15753c,_0xc9bd8]=_0x2da6de[_0x4991bf(0x1b1)](',')[_0x4991bf(0x19e)](_0x731b01=>parseInt(_0x731b01,0xa));return{'r':_0x5414d5,'g':_0x1f3534,'b':_0x15753c,'a':_0xc9bd8,'count':_0x117566};})['sort']((_0x4001ed,_0x4f412e)=>_0x4f412e[_0x25fd44(0x1ce)]-_0x4001ed[_0x25fd44(0x1ce)]);return _0x24d3b4;}function _0x3d39(_0x3b23c8,_0x3b2183){_0x3b23c8=_0x3b23c8-0x186;const _0x20b3e8=_0x35e6();let _0x25b197=_0x20b3e8[_0x3b23c8];return _0x25b197;}function rgbaToHex(_0x2d108a,_0x2b2665,_0x1a6300){const _0x4240f6=_0x3d39;return'#'+[_0x2d108a,_0x2b2665,_0x1a6300][_0x4240f6(0x19e)](_0x1c17f2=>_0x1c17f2[_0x4240f6(0x18d)](0x10)[_0x4240f6(0x1bb)](0x2,'0'))[_0x4240f6(0x1bc)]('');}