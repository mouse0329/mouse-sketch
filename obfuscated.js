(function(_0x136459,_0x70082e){const _0x19af06=a0_0x3f33,_0x27d9bf=_0x136459();while(!![]){try{const _0x46172c=parseInt(_0x19af06(0x10f))/0x1*(parseInt(_0x19af06(0x10b))/0x2)+-parseInt(_0x19af06(0xf9))/0x3+-parseInt(_0x19af06(0x1ef))/0x4*(parseInt(_0x19af06(0x107))/0x5)+parseInt(_0x19af06(0x1cf))/0x6*(parseInt(_0x19af06(0x1d0))/0x7)+-parseInt(_0x19af06(0x1a4))/0x8+-parseInt(_0x19af06(0xd5))/0x9*(parseInt(_0x19af06(0x184))/0xa)+parseInt(_0x19af06(0xfa))/0xb;if(_0x46172c===_0x70082e)break;else _0x27d9bf['push'](_0x27d9bf['shift']());}catch(_0x31a7c8){_0x27d9bf['push'](_0x27d9bf['shift']());}}}(a0_0x5ba6,0x4715a),function(_0x333760,_0x2d9759){const _0x73a13d=a0_0x3f33,_0x1b90c7=a0_0x111e,_0x44a042=_0x333760();while(!![]){try{const _0x9cc5c6=parseInt(_0x1b90c7(0x148))/0x1+-parseInt(_0x1b90c7(0x1f1))/0x2+-parseInt(_0x1b90c7(0xf1))/0x3*(-parseInt(_0x1b90c7(0xf4))/0x4)+-parseInt(_0x1b90c7(0x94))/0x5+parseInt(_0x1b90c7(0x103))/0x6+parseInt(_0x1b90c7(0x172))/0x7+-parseInt(_0x1b90c7(0x198))/0x8;if(_0x9cc5c6===_0x2d9759)break;else _0x44a042[_0x73a13d(0x11c)](_0x44a042['shift']());}catch(_0x25b789){_0x44a042[_0x73a13d(0x11c)](_0x44a042['shift']());}}}(a0_0x3c67,0x21478));const a0_0x413a03=a0_0x35c9;(function(_0x56a7c8,_0x5d7cc5){const _0x5e0496=a0_0x111e,_0x3cbba2=(function(){let _0x5b5f34=!![];return function(_0x129064,_0x1a6030){const _0x745a32=_0x5b5f34?function(){const _0xf38475=a0_0x111e;if(_0x1a6030){const _0x1e5d1b=_0x1a6030[_0xf38475(0x9b)](_0x129064,arguments);return _0x1a6030=null,_0x1e5d1b;}}:function(){};return _0x5b5f34=![],_0x745a32;};}()),_0x5eecc3=_0x3cbba2(this,function(){const _0x2caad1=a0_0x3f33,_0x53959f=a0_0x111e;return _0x5eecc3[_0x2caad1(0xe0)]()[_0x53959f(0x1a2)](_0x2caad1(0x1cc))[_0x53959f(0x15e)]()[_0x53959f(0xac)](_0x5eecc3)[_0x2caad1(0x116)](_0x53959f(0x9d));});_0x5eecc3();const _0x307f54=a0_0x35c9,_0x467dce=_0x56a7c8();while(!![]){try{const _0x51287f=-parseInt(_0x307f54(0x1da))/0x1*(parseInt(_0x307f54(0xd1))/0x2)+parseInt(_0x307f54(0x19f))/0x3*(parseInt(_0x307f54(0x153))/0x4)+-parseInt(_0x307f54(0x1b6))/0x5+parseInt(_0x307f54(0x1d4))/0x6+-parseInt(_0x307f54(0x1ae))/0x7+-parseInt(_0x307f54(0xe5))/0x8+parseInt(_0x307f54(0x122))/0x9;if(_0x51287f===_0x5d7cc5)break;else _0x467dce[_0x5e0496(0xd1)](_0x467dce[_0x5e0496(0x1c8)]());}catch(_0x34ba98){_0x467dce[_0x5e0496(0xd1)](_0x467dce[_0x5e0496(0x1c8)]());}}}(a0_0x9b6b,0x7d653));const a0_0x521960=a0_0x56c5;(function(_0xd3680e,_0x3aa151){const _0x37cb6a=a0_0x111e,_0x2b9e79=a0_0x35c9,_0x5477f5=(function(){let _0x309f2e=!![];return function(_0x25149f,_0x4554c6){const _0x1d9bad=_0x309f2e?function(){const _0x4b6bf5=a0_0x35c9;if(_0x4554c6){const _0x439d07=_0x4554c6[_0x4b6bf5(0x1e8)](_0x25149f,arguments);return _0x4554c6=null,_0x439d07;}}:function(){};return _0x309f2e=![],_0x1d9bad;};}()),_0x27b57f=_0x5477f5(this,function(){const _0x570ecb=a0_0x111e,_0x3b547c=a0_0x35c9;return _0x27b57f[_0x3b547c(0x17b)]()[_0x570ecb(0x1a2)](_0x3b547c(0x102))[_0x570ecb(0x15e)]()[_0x3b547c(0x1f8)](_0x27b57f)[_0x570ecb(0x1a2)](_0x3b547c(0x102));});_0x27b57f();const _0x5f2a6a=a0_0x56c5,_0x5035fb=_0xd3680e();while(!![]){try{const _0x164222=-parseInt(_0x5f2a6a(0x192))/0x1*(parseInt(_0x5f2a6a(0x14b))/0x2)+-parseInt(_0x5f2a6a(0x19e))/0x3*(parseInt(_0x5f2a6a(0x12e))/0x4)+parseInt(_0x5f2a6a(0xe2))/0x5*(parseInt(_0x5f2a6a(0x1cf))/0x6)+-parseInt(_0x5f2a6a(0xe7))/0x7*(-parseInt(_0x5f2a6a(0xf4))/0x8)+parseInt(_0x5f2a6a(0x133))/0x9+parseInt(_0x5f2a6a(0x11b))/0xa+parseInt(_0x5f2a6a(0x172))/0xb*(-parseInt(_0x5f2a6a(0x1ce))/0xc);if(_0x164222===_0x3aa151)break;else _0x5035fb[_0x37cb6a(0xd1)](_0x5035fb[_0x2b9e79(0x1c0)]());}catch(_0xe44be0){_0x5035fb[_0x2b9e79(0x14c)](_0x5035fb[_0x2b9e79(0x1c0)]());}}}(a0_0x22a5,0xba2f1));const a0_0x5049d9=a0_0xce2f;(function(_0x1dda3c,_0x1cf5f5){const _0x2368b=a0_0x56c5,_0x3e60fc=a0_0xce2f,_0x384dd1=_0x1dda3c();while(!![]){try{const _0xd10187=parseInt(_0x3e60fc(0x17d))/0x1*(-parseInt(_0x3e60fc(0x227))/0x2)+parseInt(_0x3e60fc(0xff))/0x3*(-parseInt(_0x3e60fc(0xef))/0x4)+parseInt(_0x3e60fc(0x21d))/0x5+parseInt(_0x3e60fc(0x128))/0x6*(parseInt(_0x3e60fc(0xeb))/0x7)+-parseInt(_0x3e60fc(0x12f))/0x8+-parseInt(_0x3e60fc(0x209))/0x9*(-parseInt(_0x3e60fc(0x1b9))/0xa)+-parseInt(_0x3e60fc(0x204))/0xb;if(_0xd10187===_0x1cf5f5)break;else _0x384dd1[_0x2368b(0x1d9)](_0x384dd1[_0x2368b(0x128)]());}catch(_0x293997){_0x384dd1[_0x2368b(0x1d9)](_0x384dd1[_0x2368b(0x128)]());}}}(a0_0x243d,0x97cd8));function a0_0x5ba6(){const _0x251d04=['パレットに色を追加','setAttribute','apply','floor','byteLength','106659LdiXrH','getElementById','tool','encode','>3</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x224\x22','penMode','project-btn','60575XyUkXJ','nezumi-drawing','Shift','crossOrigin','max','VideoEncoder','#ff69b4','.palette-color','canvas','20vqKqYp','palette-add-btn','<span\x20style=\x22font-size:13px;color:#888;\x22>透明</span>','disabled','keydown','252qMzMxb','abs','stroke','subarray','removeChild','createObjectURL','140942YGNfmW','getBoundingClientRect','#00ffff','.tool-btn','projectList','#ff00ff','1710315EwWIGP','main-container','strokeStyle','constructor','onmouseup','globalCompositeOperation','3937560ufqvBg','beginPath','#ffffff','247055AHBsKT','#800080','10XJZHgl','読込エラー','touchAction','4802050CMYWrO','4259088UUBueS','nezumi-standalone','クリックで名前を編集','onerror','name','keyval','blur','onmousemove','input','>1</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222\x22','removeEventListener','style','#808000','nezumi_about_visited','closePath','getItem','clearRect','#palette-toolbar\x20.tool-btn','nezumi-sketch-save','activeFrame','alphaSlider','100%','Enter','/index.html','readAsText','isArray','open','sidebar-open','63psIyud','#000000','active','getImageData','buffer','alignItems','\x20active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn','left','nezumi-animation','width','vp8','(((.+)+)+)+$','image/png','.apng','1662XODraD','721GRwNEs','スプライトシートの拡大率を指定（例:\x201\x20=\x20元サイズ,\x202\x20=\x202倍）','DOMContentLoaded','このレイヤーを削除','block','alphaValue','appendChild','split','398826GXnyRZ','projects','palette-del-btn','unshift','match','layerList','nezumi-theme','pointerType','catch','resize','.section.collapsible\x20.toggle-btn','>四角ペン</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22circle\x22','ontouchcancel','IndexedDBからの読み込みに失敗したチュー…','rgba(','files','onmousedown','destination-out','join','\x22\x20style=\x22vertical-align:\x20middle;\x20width:70px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22palette-alphaValue\x22>','\x22\x20data-tool=\x22pen\x22\x20onclick=\x22setTool(\x27pen\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>edit</span>ペン</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn','15948648zMXkzo','menu-toggle-btn-close','4OuBbNc','height','touches','selected','application/octet-stream','position','保存エラー','isFinite','result','trim','194866cGotcP','innerWidth','then','matches','src','warn','square','pathname','oncomplete','hypot','drawImage','background','973508Cqoyrz','close','touchmove','grab','penSize','beforeunload','palette-toolbar','上に移動','top','#palette-alphaValue','documentElement','>丸ペン</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20透明度:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22palette-alphaSlider\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','round','\x20selected','メタデータが見つかりませんでした','color-palette','layer-thumb','touchend','.gif','\x22\x20style=\x22width:120px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>幅:\x20<input\x20id=\x22newProjW\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:12px;\x22>高さ:\x20<input\x20id=\x22newProjH\x22\x20type=\x22number\x22\x20min=\x221\x22\x20max=\x22256\x22\x20value=\x2216\x22\x20style=\x22width:60px;\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjOkBtn\x22>作成</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22newProjCancelBtn\x22\x20style=\x22margin-left:12px;\x22>キャンセル</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','key','text','frame-btn','delete','.section-content','animSpeedRange','new-project-dialog','addFrame','>4</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22palette-penMode\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22square\x22','\x0a---NEZUMI_METADATA_START---\x0a','repeating-conic-gradient(#eee\x200%\x2025%,\x20#fff\x200%\x2050%)\x2050%\x20/\x2016px\x2016px','nezumi-palette','createElement','moveTo','oninput','/about?terms=true','type','grabbing','innerHTML','ontouchmove','10376090telBQC','21294LqkmrD','#00000000','.section.collapsible\x20.section-content','slice','palette-alphaSlider','onupgradeneeded','setPointerCapture','6685nRmUxK','pointermove','onclick','2464389GJhbJx','transaction','canvas-container','#ccc','project-item','insertBefore','createObjectStore','458555ntXURF','add','select','207RSftqX','toString','lib/gif.worker.js','querySelector','14uGmiOY','clientY','hidden','center','nezumi-animation.apng','image','light','eraser','693928GhthjY','splice','restore','114TnziLr','image/apng','project-name-edit','startsWith','ontouchend','nezumi-sketch.msketch','fillRect','palette-alphaValue','zIndex','animSpeedValue','save','1680837BFiCxr','20369327ugAmOu','setItem','フレームがありません','#444444','99eaBytn','下に移動','ダークテーマに切替','lineTo','fillStyle','div','nezumi-sketch-db','#ffff00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;\x20border-radius:10px;\x20box-shadow:0\x202px\x2016px\x20#0003;\x20padding:28px\x2032px;\x20min-width:240px;\x20text-align:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin-top:0;\x22>新しい画像のサイズ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>名前:\x20<input\x20id=\x22newProjName\x22\x20type=\x22text\x22\x20maxlength=\x2232\x22\x20value=\x22画像','803070QsWoRd','#008000','18959ijBvyJ','スタンドアロン形式のプロジェクトを読み込みました:\x20','10yvZgvB','keyup','layers','jpg','42359mylrOA','stringify','clear','39662ysLMsz','all','#palette-penSize','このブラウザはWebCodecsによるWEBPアニメーションに対応していません。','search','remove','rgba(0,0,0,0.3)','.webm','palette-penSize','textContent','push','layer-btn','nezumi-projects','frames','2937692dmuIuo','body','onsuccess','#newProjCancelBtn','querySelectorAll','arc','pointerdown','レイヤー','フレーム間の余白(px)\x20を指定（例:\x200）','#00ff00','#newProjW','releasePointerCapture','ライトテーマに切替','877944UnHeyA','render','frame-item','zoomSlider','ファイルにプロジェクトメタデータが見つかりませんでした。読み込みできません。','toDataURL','pointerup','display','layerCount','6806842iHrSfp','3747624BaPwRo','deltaY','clientX','overflow','UPNG','_spritesheet.png','nezumi-spritesheet','parentNode','jpeg','project','3000','button','toggle','3bZOlqa','length','3BIZZMa','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22undo()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>undo</span>\x20戻す\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22redo()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>redo</span>\x20戻すを戻す\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','put','readAsArrayBuffer','3313824QVIVOZ','px,\x20','readwrite','flex','onload','has','application/json','cursor','1391112hIqzLW','themeToggleBtn','error','12EnOyEt','dataset','revokeObjectURL','forEach','5zFczyy','wheel','matchMedia','1663240xvhpIM','onkeydown','stopPropagation','flush','filter','onchange','classList','span','#palette-alphaSlider','>2</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x223\x22','9167048BqRjmr','#888888','frame-thumb','プロジェクトがありません','video/webm','nezumi-animation.gif','100vw','data-theme','image/'];a0_0x5ba6=function(){return _0x251d04;};return a0_0x5ba6();}const a0_0x38aafa=a0_0x1925;(function(_0x38eb15,_0x2867bf){const _0x4d3392=a0_0x56c5,_0x5ea779=a0_0xce2f,_0x315bba=a0_0x1925,_0x4a71d9=_0x38eb15();while(!![]){try{const _0x1b0e39=parseInt(_0x315bba(0x26d))/0x1*(parseInt(_0x315bba(0x20a))/0x2)+-parseInt(_0x315bba(0x24d))/0x3+-parseInt(_0x315bba(0x284))/0x4+parseInt(_0x315bba(0x1cb))/0x5+-parseInt(_0x315bba(0x1e9))/0x6+-parseInt(_0x315bba(0x2b9))/0x7*(parseInt(_0x315bba(0x26e))/0x8)+parseInt(_0x315bba(0x28d))/0x9*(parseInt(_0x315bba(0x271))/0xa);if(_0x1b0e39===_0x2867bf)break;else _0x4a71d9[_0x5ea779(0x19e)](_0x4a71d9[_0x4d3392(0x128)]());}catch(_0x27ab5e){_0x4a71d9[_0x5ea779(0x19e)](_0x4a71d9[_0x5ea779(0x1f9)]());}}}(a0_0x5ad1,0x65d10));const a0_0x53f6c7=(function(){const _0x5c8ad4=(function(){let _0x4aa424=!![];return function(_0x1cf12a,_0x38c6ef){const _0x2e0ca9=_0x4aa424?function(){const _0x2dd678=a0_0x3f33;if(_0x38c6ef){const _0x18f1b0=_0x38c6ef[_0x2dd678(0x171)](_0x1cf12a,arguments);return _0x38c6ef=null,_0x18f1b0;}}:function(){};return _0x4aa424=![],_0x2e0ca9;};}()),_0x42573a=(function(){const _0x2dfead=_0x5c8ad4(this,function(){const _0x18262f=a0_0x3f33;return _0x2dfead[_0x18262f(0xe0)]()[_0x18262f(0x116)](_0x18262f(0x1cc))[_0x18262f(0xe0)]()[_0x18262f(0x198)](_0x2dfead)[_0x18262f(0x116)]('(((.+)+)+)+$');});_0x2dfead();let _0x13551e=!![];return function(_0x11afcc,_0x8fe99f){const _0x774d87=_0x13551e?function(){const _0x57aa3f=a0_0x35c9;if(_0x8fe99f){const _0x5dc834=_0x8fe99f[_0x57aa3f(0x1e8)](_0x11afcc,arguments);return _0x8fe99f=null,_0x5dc834;}}:function(){};return _0x13551e=![],_0x774d87;};}()),_0x2f2497=(function(){const _0x3e5de3=_0x42573a(this,function(){const _0xf3b86e=a0_0x111e,_0x5a2dca=a0_0x35c9,_0x44c1b1=a0_0x56c5;return _0x3e5de3[_0x5a2dca(0x17b)]()[_0xf3b86e(0x1a2)](_0x44c1b1(0x142))[_0x44c1b1(0xe6)]()[_0x44c1b1(0x11d)](_0x3e5de3)[_0x44c1b1(0x1ef)](_0x44c1b1(0x142));});_0x3e5de3();let _0x5b2580=!![];return function(_0x333238,_0x20a89e){const _0x39faa4=_0x5b2580?function(){const _0x3bd521=a0_0xce2f;if(_0x20a89e){const _0x44cbb4=_0x20a89e[_0x3bd521(0x106)](_0x333238,arguments);return _0x20a89e=null,_0x44cbb4;}}:function(){};return _0x5b2580=![],_0x39faa4;};}()),_0x20d867=_0x2f2497(this,function(){const _0x2829a0=a0_0x56c5,_0x5f5776=a0_0xce2f;return _0x20d867[_0x2829a0(0xe6)]()[_0x2829a0(0x1ef)](_0x5f5776(0xe4))[_0x5f5776(0x163)]()[_0x5f5776(0x1b4)](_0x20d867)[_0x5f5776(0x153)](_0x5f5776(0xe4));});_0x20d867();let _0x176af2=!![];return function(_0x35ea15,_0x51196c){const _0xeb1292=_0x176af2?function(){const _0x42660c=a0_0x1925;if(_0x51196c){const _0x4b29e0=_0x51196c[_0x42660c(0x2b0)](_0x35ea15,arguments);return _0x51196c=null,_0x4b29e0;}}:function(){};return _0x176af2=![],_0xeb1292;};}()),a0_0x5506da=a0_0x53f6c7(this,function(){const _0x26f9cc=a0_0x35c9,_0x623e12=a0_0xce2f,_0x3b6adf=a0_0x1925;return a0_0x5506da[_0x3b6adf(0x279)]()[_0x3b6adf(0x1ac)](_0x3b6adf(0x197))[_0x623e12(0x163)]()[_0x3b6adf(0x28c)](a0_0x5506da)[_0x3b6adf(0x1ac)](_0x26f9cc(0x102));});a0_0x5506da();let canvas=document[a0_0x38aafa(0x275)](a0_0x5049d9(0x20f)),ctx=canvas[a0_0x38aafa(0x2c6)]('2d');const wrapper=document[a0_0x38aafa(0x275)](a0_0x38aafa(0x1cf));let cellSize=0x14,currentColor=a0_0x38aafa(0x265),currentTool=a0_0x38aafa(0x182),penSize=0x1,penMode=a0_0x38aafa(0x2e2),layers=[],activeLayer=0x0,layerHistories=[],layerRedoStacks=[],currentWidth=0x10,currentHeight=0x10,projects=[],activeProject=0x0,isDrawing=![];function createProject(_0x3173d6=0x10,_0x189a3b=0x10,_0x579276=''){const _0x5d8333=a0_0x5049d9,_0x53517c=a0_0x38aafa;let _0x54150c=0x14,_0x13edc4=[],_0x48d0d7=[],_0x891182=[],_0x488a01=document[_0x53517c(0x1d6)](_0x53517c(0x19d));_0x488a01[_0x53517c(0x1b8)]=_0x3173d6*_0x54150c,_0x488a01[_0x53517c(0x27c)]=_0x189a3b*_0x54150c,_0x13edc4[_0x53517c(0x278)](_0x488a01),_0x48d0d7[_0x53517c(0x278)]([]),_0x891182[_0x53517c(0x278)]([]);let _0x5f5349={'layers':_0x13edc4,'activeLayer':0x0,'layerHistories':_0x48d0d7,'layerRedoStacks':_0x891182};return{'frames':[_0x5f5349],'activeFrame':0x0,'width':_0x3173d6,'height':_0x189a3b,'name':_0x579276||'画像'+(projects[_0x5d8333(0xf5)]+0x1)};}function updateProjectUI(){const _0x216448=a0_0x35c9,_0x22708a=a0_0x56c5,_0x4589e0=a0_0x5049d9,_0x414791=a0_0x38aafa,_0xcb835b=document[_0x414791(0x275)](_0x414791(0x228));_0xcb835b[_0x414791(0x25f)]='';for(let _0x4501bc=0x0;_0x4501bc<projects[_0x414791(0x1c4)];_0x4501bc++){const _0x150694=document[_0x4589e0(0x1f6)](_0x216448(0xd5));_0x150694[_0x414791(0x252)]=_0x414791(0x2bc)+(_0x4501bc===activeProject?_0x414791(0x1e4):''),_0x150694[_0x414791(0x234)]=()=>{activeProject=_0x4501bc,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();};const _0x574d0f=document[_0x4589e0(0x1f6)](_0x414791(0x28e));_0x574d0f[_0x414791(0x252)]=_0x414791(0x1d4),_0x574d0f[_0x414791(0x221)]=projects[_0x4501bc][_0x414791(0x2e6)]||'画像'+(_0x4501bc+0x1),_0x574d0f[_0x414791(0x198)]=_0x4589e0(0x210),_0x574d0f[_0x22708a(0xbf)]=_0x1519a5=>{const _0x181e56=_0x414791;_0x1519a5[_0x181e56(0x214)](),editProjectName(_0x4501bc,_0x574d0f);},_0x150694[_0x414791(0x237)](_0x574d0f);const _0x1c3feb=document[_0x414791(0x1d6)](_0x414791(0x2a4));_0x1c3feb[_0x414791(0x221)]='削除',_0x1c3feb[_0x414791(0x252)]=_0x414791(0x27a),_0x1c3feb[_0x4589e0(0x1d1)]=projects[_0x414791(0x1c4)]===0x1,_0x1c3feb[_0x414791(0x234)]=_0x554d92=>{const _0x1ece8b=_0x414791;_0x554d92[_0x1ece8b(0x214)](),removeProjectAt(_0x4501bc);},_0x150694[_0x4589e0(0x1c2)](_0x1c3feb),_0xcb835b[_0x414791(0x237)](_0x150694);}document[_0x414791(0x275)](_0x414791(0x1ed))[_0x216448(0xf3)]='('+projects[_0x414791(0x1c4)]+'枚)';}function editProjectName(_0x44cf3a,_0x5bcc7c){const _0x5aea25=a0_0x5049d9,_0x4826bd=a0_0x38aafa,_0x1573c6=document[_0x4826bd(0x1d6)](_0x4826bd(0x295));_0x1573c6[_0x4826bd(0x17d)]=_0x4826bd(0x23e),_0x1573c6[_0x5aea25(0x12e)]=projects[_0x44cf3a][_0x4826bd(0x2e6)]||'画像'+(_0x44cf3a+0x1),_0x1573c6[_0x5aea25(0x15c)]=_0x4826bd(0x186),_0x1573c6[_0x5aea25(0x1bb)][_0x4826bd(0x1b8)]=_0x4826bd(0x29d),_0x1573c6[_0x4826bd(0x1f4)]=()=>{const _0x5799ab=_0x4826bd;projects[_0x44cf3a][_0x5799ab(0x2e6)]=_0x1573c6[_0x5799ab(0x24e)][_0x5799ab(0x19b)]()||'画像'+(_0x44cf3a+0x1),updateProjectUI();},_0x1573c6[_0x4826bd(0x2ca)]=_0x1449ca=>{const _0x312d56=_0x5aea25,_0x3af7be=_0x4826bd;if(_0x1449ca[_0x312d56(0x181)]===_0x3af7be(0x276))_0x1573c6[_0x3af7be(0x1ef)]();},_0x5bcc7c[_0x4826bd(0x2e8)](_0x1573c6),_0x1573c6[_0x4826bd(0x2be)](),_0x1573c6[_0x4826bd(0x1aa)]();}function showNewProjectDialog(_0x3ea8eb){const _0x4bc85d=a0_0x56c5,_0x260951=a0_0x5049d9,_0xa8460f=a0_0x38aafa;let _0x395d8e=document[_0xa8460f(0x275)](_0x260951(0x14f));if(_0x395d8e)_0x395d8e[_0xa8460f(0x187)]();const _0x3c08c1=document[_0xa8460f(0x1d6)](_0xa8460f(0x2c9));_0x3c08c1['id']=_0xa8460f(0x1db),_0x3c08c1[_0xa8460f(0x1f8)][_0xa8460f(0x1f7)]=_0xa8460f(0x1e3),_0x3c08c1[_0xa8460f(0x1f8)][_0xa8460f(0x2a7)]='0',_0x3c08c1[_0xa8460f(0x1f8)][_0x260951(0xf8)]='0',_0x3c08c1[_0x4bc85d(0x178)][_0xa8460f(0x1b8)]=_0x260951(0x183),_0x3c08c1[_0x4bc85d(0x178)][_0xa8460f(0x27c)]=_0xa8460f(0x1f1),_0x3c08c1[_0xa8460f(0x1f8)][_0x260951(0x142)]=_0xa8460f(0x180),_0x3c08c1[_0xa8460f(0x1f8)][_0xa8460f(0x2f0)]=_0xa8460f(0x20c),_0x3c08c1[_0xa8460f(0x1f8)][_0xa8460f(0x19e)]=_0xa8460f(0x243),_0x3c08c1[_0xa8460f(0x1f8)][_0xa8460f(0x1fd)]=_0xa8460f(0x243),_0x3c08c1[_0x260951(0x1bb)][_0xa8460f(0x24b)]=_0xa8460f(0x1c9),_0x3c08c1[_0xa8460f(0x25f)]=_0x260951(0x156)+(projects[_0x260951(0xf5)]+0x1)+_0x260951(0x21e),document[_0x260951(0x1c5)][_0xa8460f(0x237)](_0x3c08c1),_0x3c08c1[_0xa8460f(0x2c0)](_0xa8460f(0x2e4))[_0xa8460f(0x234)]=()=>{const _0x30d805=_0x4bc85d,_0x5d9ff4=_0x260951,_0x237de1=_0xa8460f,_0x226d7d=parseInt(_0x3c08c1[_0x237de1(0x2c0)](_0x5d9ff4(0x129))[_0x237de1(0x24e)],0xa),_0x4f0a59=parseInt(_0x3c08c1[_0x237de1(0x2c0)](_0x237de1(0x1b0))[_0x5d9ff4(0x12e)],0xa),_0x1aa9f3=_0x3c08c1[_0x237de1(0x2c0)](_0x30d805(0x1d4))[_0x237de1(0x24e)][_0x237de1(0x19b)]();_0x3c08c1[_0x237de1(0x187)]();if(_0x3ea8eb)_0x3ea8eb(_0x226d7d,_0x4f0a59,_0x1aa9f3);},_0x3c08c1[_0xa8460f(0x2c0)](_0xa8460f(0x1f9))[_0xa8460f(0x234)]=()=>{const _0x159780=_0x260951;_0x3c08c1[_0x159780(0x1e9)]();};}function addProject(){showNewProjectDialog((_0x37db6c,_0x164282,_0x56784c)=>{const _0x1b3343=a0_0xce2f,_0x44da28=a0_0x1925;if(!Number[_0x44da28(0x28b)](_0x37db6c)||_0x37db6c<0x1)_0x37db6c=0x10;if(!Number[_0x44da28(0x28b)](_0x164282)||_0x164282<0x1)_0x164282=0x10;projects[_0x44da28(0x278)](createProject(_0x37db6c,_0x164282,_0x56784c)),activeProject=projects[_0x1b3343(0xf5)]-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();});}function removeProjectAt(_0x2ff0a2){const _0x56119a=a0_0x38aafa;if(projects[_0x56119a(0x1c4)]<=0x1)return;projects[_0x56119a(0x2b7)](_0x2ff0a2,0x1);if(activeProject>=projects[_0x56119a(0x1c4)])activeProject=projects[_0x56119a(0x1c4)]-0x1;updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentProject(){return projects[activeProject];}function updateFrameUI(){const _0x4cd56a=a0_0x56c5,_0x571c2a=a0_0x5049d9,_0x1fbb40=a0_0x38aafa,_0x4b14aa=document[_0x4cd56a(0x182)](_0x1fbb40(0x1c6)),_0x57de7d=getCurrentProject();_0x4b14aa[_0x4cd56a(0x175)]='';for(let _0xb00427=0x0;_0xb00427<_0x57de7d[_0x571c2a(0x17f)][_0x4cd56a(0xd7)];_0xb00427++){const _0x226ec1=document[_0x1fbb40(0x1d6)](_0x1fbb40(0x2c9));_0x226ec1[_0x1fbb40(0x252)]=_0x1fbb40(0x254)+(_0xb00427===_0x57de7d[_0x1fbb40(0x2a5)]?_0x1fbb40(0x1e4):''),_0x226ec1[_0x1fbb40(0x234)]=()=>{const _0x438e29=_0x1fbb40;_0x57de7d[_0x438e29(0x2a5)]=_0xb00427,updateFrameUI(),updateLayerUI(),redrawAll();};const _0x1e2177=document[_0x571c2a(0x1f6)](_0x1fbb40(0x19d));_0x1e2177[_0x1fbb40(0x252)]=_0x1fbb40(0x1da),_0x1e2177[_0x1fbb40(0x1b8)]=0x20,_0x1e2177[_0x1fbb40(0x27c)]=0x20;let _0x4c1de0=_0x1e2177[_0x1fbb40(0x2c6)]('2d');_0x4c1de0[_0x1fbb40(0x22d)](0x0,0x0,0x20,0x20);for(let _0xc18ecd=0x0;_0xc18ecd<_0x57de7d[_0x571c2a(0x17f)][_0xb00427][_0x1fbb40(0x262)][_0x4cd56a(0xd7)];_0xc18ecd++){_0x4c1de0[_0x1fbb40(0x1ff)](_0x57de7d[_0x1fbb40(0x2b3)][_0xb00427][_0x1fbb40(0x262)][_0xc18ecd],0x0,0x0,_0x1e2177[_0x1fbb40(0x1b8)],_0x1e2177[_0x1fbb40(0x27c)]);}_0x226ec1[_0x571c2a(0x1c2)](_0x1e2177);const _0x277a5f=document[_0x571c2a(0x1f6)](_0x1fbb40(0x28e));_0x277a5f[_0x1fbb40(0x221)]='F'+(_0xb00427+0x1),_0x226ec1[_0x1fbb40(0x237)](_0x277a5f);const _0x2f7b74=document[_0x1fbb40(0x1d6)](_0x4cd56a(0x1e1));_0x2f7b74[_0x1fbb40(0x221)]='削除',_0x2f7b74[_0x1fbb40(0x252)]=_0x1fbb40(0x286),_0x2f7b74[_0x1fbb40(0x256)]=_0x57de7d[_0x1fbb40(0x2b3)][_0x1fbb40(0x1c4)]===0x1,_0x2f7b74[_0x1fbb40(0x234)]=_0x14f61d=>{const _0x514899=_0x1fbb40;_0x14f61d[_0x514899(0x214)](),removeFrameAt(_0xb00427);},_0x226ec1[_0x1fbb40(0x237)](_0x2f7b74),_0x4b14aa[_0x1fbb40(0x237)](_0x226ec1);}document[_0x1fbb40(0x275)](_0x1fbb40(0x240))[_0x571c2a(0x154)]='('+_0x57de7d[_0x1fbb40(0x2b3)][_0x1fbb40(0x1c4)]+_0x1fbb40(0x2c4);}function addFrame(){const _0x1e9f63=a0_0x56c5,_0x4ac5ee=a0_0x38aafa;let _0x47d7e7=getCurrentProject(),_0x115ca5=_0x47d7e7[_0x4ac5ee(0x2b3)][_0x47d7e7[_0x4ac5ee(0x2a5)]],_0x1b84ce=_0x115ca5[_0x4ac5ee(0x262)][_0x4ac5ee(0x294)](_0xb69ce5=>{const _0x3ef97a=a0_0xce2f,_0x41b826=_0x4ac5ee;let _0x119a89=document[_0x41b826(0x1d6)](_0x3ef97a(0x20f));return _0x119a89[_0x41b826(0x1b8)]=_0xb69ce5[_0x41b826(0x1b8)],_0x119a89[_0x41b826(0x27c)]=_0xb69ce5[_0x41b826(0x27c)],_0x119a89[_0x41b826(0x2c6)]('2d')[_0x41b826(0x1ff)](_0xb69ce5,0x0,0x0),_0x119a89;}),_0x114998=_0x1b84ce[_0x4ac5ee(0x294)](()=>[]),_0x275330=_0x1b84ce[_0x4ac5ee(0x294)](()=>[]),_0x22212e={'layers':_0x1b84ce,'activeLayer':0x0,'layerHistories':_0x114998,'layerRedoStacks':_0x275330};_0x47d7e7[_0x4ac5ee(0x2b3)][_0x4ac5ee(0x2b7)](_0x47d7e7[_0x4ac5ee(0x2a5)]+0x1,0x0,_0x22212e),_0x47d7e7[_0x1e9f63(0x1ca)]++,updateFrameUI(),updateLayerUI(),redrawAll();}function removeFrameAt(_0x5b7fe5){const _0x15b8e5=a0_0x56c5,_0x88af36=a0_0x5049d9,_0x526e93=a0_0x38aafa;let _0x2ba9c4=getCurrentProject();if(_0x2ba9c4[_0x15b8e5(0x145)][_0x526e93(0x1c4)]<=0x1)return;_0x2ba9c4[_0x88af36(0x17f)][_0x88af36(0xed)](_0x5b7fe5,0x1);if(_0x2ba9c4[_0x526e93(0x2a5)]>=_0x2ba9c4[_0x15b8e5(0x145)][_0x526e93(0x1c4)])_0x2ba9c4[_0x88af36(0x12c)]=_0x2ba9c4[_0x526e93(0x2b3)][_0x526e93(0x1c4)]-0x1;updateFrameUI(),updateLayerUI(),redrawAll();}function getCurrentFrame(){const _0x249266=a0_0x38aafa;return getCurrentProject()[_0x249266(0x2b3)][getCurrentProject()[_0x249266(0x2a5)]];}function updateLayerUI(){const _0x2e85a3=a0_0x56c5,_0xed6e9e=a0_0x5049d9,_0x3a6d70=a0_0x38aafa;let {layers:_0x411785,activeLayer:_0x58a29b}=getCurrentFrame();document[_0x3a6d70(0x275)](_0xed6e9e(0x118))[_0x3a6d70(0x221)]='('+_0x411785[_0xed6e9e(0xf5)]+'枚)';const _0x3cf300=document[_0x3a6d70(0x275)](_0x3a6d70(0x23b));_0x3cf300[_0xed6e9e(0x1ea)]='';for(let _0x401b61=_0x411785[_0x3a6d70(0x1c4)]-0x1;_0x401b61>=0x0;_0x401b61--){const _0x35f7ac=document[_0x3a6d70(0x1d6)](_0xed6e9e(0x1f1));_0x35f7ac[_0xed6e9e(0x15c)]=_0x3a6d70(0x2d7)+(_0x401b61===_0x58a29b?_0x3a6d70(0x1e4):''),_0x35f7ac[_0xed6e9e(0x19d)]=_0x30250a=>{const _0x189db2=a0_0x56c5,_0x2ed612=_0x3a6d70;if(_0x30250a[_0x2ed612(0x2e5)][_0x2ed612(0x22b)][_0x189db2(0xbc)](_0x2ed612(0x20e)))return;getCurrentFrame()[_0x2ed612(0x1b5)]=_0x401b61,updateLayerUI(),redrawAll();};const _0x12dd09=document[_0x2e85a3(0xdd)](_0x3a6d70(0x19d));_0x12dd09[_0x3a6d70(0x252)]=_0x3a6d70(0x1f2),_0x12dd09[_0x3a6d70(0x1b8)]=0x20,_0x12dd09[_0x3a6d70(0x27c)]=0x20;let _0x3e73a3=_0x12dd09[_0x3a6d70(0x2c6)]('2d');_0x3e73a3[_0xed6e9e(0x172)](0x0,0x0,0x20,0x20),_0x3e73a3[_0x3a6d70(0x1ff)](_0x411785[_0x401b61],0x0,0x0,_0x12dd09[_0x3a6d70(0x1b8)],_0x12dd09[_0x3a6d70(0x27c)]),_0x35f7ac[_0x3a6d70(0x237)](_0x12dd09);const _0x277bc3=document[_0xed6e9e(0x1f6)](_0x3a6d70(0x28e));_0x277bc3[_0x3a6d70(0x221)]=_0x3a6d70(0x2d6)+(_0x401b61+0x1),_0x35f7ac[_0x3a6d70(0x237)](_0x277bc3);const _0x26c685=document[_0x3a6d70(0x1d6)](_0x3a6d70(0x2a4));_0x26c685[_0x3a6d70(0x221)]='↑',_0x26c685[_0x3a6d70(0x252)]=_0x3a6d70(0x20e),_0x26c685[_0xed6e9e(0x124)]=_0xed6e9e(0x101),_0x26c685[_0x3a6d70(0x256)]=_0x401b61===_0x411785[_0x3a6d70(0x1c4)]-0x1,_0x26c685[_0x3a6d70(0x234)]=_0x26ad0f=>{const _0x1a6b69=a0_0x35c9,_0x5aac11=_0x3a6d70;_0x26ad0f[_0x1a6b69(0x156)](),_0x401b61<_0x411785[_0x5aac11(0x1c4)]-0x1&&swapLayer(_0x401b61,_0x401b61+0x1);},_0x35f7ac[_0x3a6d70(0x237)](_0x26c685);const _0x41d641=document[_0xed6e9e(0x1f6)](_0xed6e9e(0x1bf));_0x41d641[_0xed6e9e(0x154)]='↓',_0x41d641[_0xed6e9e(0x15c)]=_0x3a6d70(0x20e),_0x41d641[_0x2e85a3(0xed)]=_0xed6e9e(0x186),_0x41d641[_0x3a6d70(0x256)]=_0x401b61===0x0,_0x41d641[_0xed6e9e(0x19d)]=_0x2fe131=>{const _0x1d0b3b=_0x3a6d70;_0x2fe131[_0x1d0b3b(0x214)](),_0x401b61>0x0&&swapLayer(_0x401b61,_0x401b61-0x1);},_0x35f7ac[_0x3a6d70(0x237)](_0x41d641);const _0xd54a13=document[_0x3a6d70(0x1d6)](_0x3a6d70(0x2a4));_0xd54a13[_0x3a6d70(0x221)]='削除',_0xd54a13[_0x3a6d70(0x252)]=_0x3a6d70(0x20e),_0xd54a13[_0x3a6d70(0x198)]=_0xed6e9e(0xdf),_0xd54a13[_0x3a6d70(0x256)]=_0x411785[_0x3a6d70(0x1c4)]===0x1,_0xd54a13[_0x3a6d70(0x234)]=_0x203423=>{const _0x3eb65f=_0x3a6d70;_0x203423[_0x3eb65f(0x214)](),removeLayerAt(_0x401b61);},_0x35f7ac[_0x3a6d70(0x237)](_0xd54a13),_0x3cf300[_0x3a6d70(0x237)](_0x35f7ac);}}function swapLayer(_0x47e35,_0x16b795){const _0x52a0a9=a0_0x5049d9,_0x5973b6=a0_0x38aafa;let _0x4e47cb=getCurrentFrame();[_0x4e47cb[_0x5973b6(0x262)][_0x47e35],_0x4e47cb[_0x5973b6(0x262)][_0x16b795]]=[_0x4e47cb[_0x5973b6(0x262)][_0x16b795],_0x4e47cb[_0x5973b6(0x262)][_0x47e35]],[_0x4e47cb[_0x5973b6(0x29c)][_0x47e35],_0x4e47cb[_0x52a0a9(0x195)][_0x16b795]]=[_0x4e47cb[_0x5973b6(0x29c)][_0x16b795],_0x4e47cb[_0x52a0a9(0x195)][_0x47e35]],[_0x4e47cb[_0x5973b6(0x2d0)][_0x47e35],_0x4e47cb[_0x5973b6(0x2d0)][_0x16b795]]=[_0x4e47cb[_0x5973b6(0x2d0)][_0x16b795],_0x4e47cb[_0x5973b6(0x2d0)][_0x47e35]];if(_0x4e47cb[_0x5973b6(0x1b5)]===_0x47e35)_0x4e47cb[_0x5973b6(0x1b5)]=_0x16b795;else{if(_0x4e47cb[_0x52a0a9(0x215)]===_0x16b795)_0x4e47cb[_0x5973b6(0x1b5)]=_0x47e35;}updateLayerUI(),redrawAll();}function removeLayerAt(_0x46e1cc){const _0x832f6e=a0_0x5049d9,_0x1d1227=a0_0x38aafa;let _0x2361f8=getCurrentFrame();if(_0x2361f8[_0x1d1227(0x262)][_0x1d1227(0x1c4)]<=0x1)return;_0x2361f8[_0x1d1227(0x262)][_0x1d1227(0x2b7)](_0x46e1cc,0x1),_0x2361f8[_0x1d1227(0x29c)][_0x1d1227(0x2b7)](_0x46e1cc,0x1),_0x2361f8[_0x832f6e(0x179)][_0x832f6e(0xed)](_0x46e1cc,0x1);if(_0x2361f8[_0x1d1227(0x1b5)]>=_0x2361f8[_0x1d1227(0x262)][_0x1d1227(0x1c4)])_0x2361f8[_0x832f6e(0x215)]=_0x2361f8[_0x1d1227(0x262)][_0x1d1227(0x1c4)]-0x1;updateLayerUI(),redrawAll();}function addLayer(){const _0x1529aa=a0_0x5049d9,_0x35eaf9=a0_0x38aafa;let _0xb15766=getCurrentProject(),_0x116357=getCurrentFrame(),_0x3095a8=document[_0x35eaf9(0x1d6)](_0x35eaf9(0x19d));_0x3095a8[_0x1529aa(0x190)]=_0xb15766[_0x1529aa(0x190)]*cellSize,_0x3095a8[_0x35eaf9(0x27c)]=_0xb15766[_0x1529aa(0x13b)]*cellSize,_0x116357[_0x35eaf9(0x262)][_0x35eaf9(0x278)](_0x3095a8),_0x116357[_0x35eaf9(0x29c)][_0x35eaf9(0x278)]([]),_0x116357[_0x35eaf9(0x2d0)][_0x1529aa(0x19e)]([]),_0x116357[_0x1529aa(0x215)]=_0x116357[_0x35eaf9(0x262)][_0x1529aa(0xf5)]-0x1,saveHistory(),updateLayerUI(),redrawAll();}function removeLayer(){const _0x5f189e=a0_0x56c5,_0x48253a=a0_0x5049d9,_0x4db427=a0_0x38aafa;let _0x471ca8=getCurrentFrame();if(_0x471ca8[_0x4db427(0x262)][_0x4db427(0x1c4)]<=0x1)return;_0x471ca8[_0x48253a(0x13d)][_0x48253a(0xed)](_0x471ca8[_0x4db427(0x1b5)],0x1),_0x471ca8[_0x4db427(0x29c)][_0x4db427(0x2b7)](_0x471ca8[_0x4db427(0x1b5)],0x1),_0x471ca8[_0x4db427(0x2d0)][_0x5f189e(0x1e6)](_0x471ca8[_0x4db427(0x1b5)],0x1),_0x471ca8[_0x4db427(0x1b5)]=Math[_0x48253a(0x107)](0x0,_0x471ca8[_0x4db427(0x1b5)]-0x1),updateLayerUI(),redrawAll();}function selectLayer(_0xfdbcb5){const _0x6eb184=a0_0x38aafa;getCurrentFrame()[_0x6eb184(0x1b5)]=parseInt(_0xfdbcb5),updateLayerUI();}let PALETTE_COLORS=[a0_0x38aafa(0x1f3),a0_0x38aafa(0x1ba),a0_0x38aafa(0x244),a0_0x38aafa(0x19a),a0_0x38aafa(0x281),a0_0x5049d9(0x1da),a0_0x38aafa(0x265),a0_0x38aafa(0x2c2),a0_0x38aafa(0x266),a0_0x5049d9(0x194),a0_0x38aafa(0x29a),a0_0x38aafa(0x296),a0_0x38aafa(0x291),a0_0x38aafa(0x1b9),a0_0x38aafa(0x1ee),a0_0x38aafa(0x202),a0_0x38aafa(0x26c),a0_0x38aafa(0x269),a0_0x38aafa(0x219),a0_0x5049d9(0x147),a0_0x38aafa(0x25b)],currentAlpha=0x1,animationTimer=null,animationDelay=0x12c,animationIndex=0x0;function playAnimation(){const _0x48e325=a0_0x5049d9,_0x6abc75=a0_0x38aafa;let _0x5a0f35=getCurrentProject();if(!_0x5a0f35||!_0x5a0f35[_0x48e325(0x17f)]||_0x5a0f35[_0x6abc75(0x2b3)][_0x6abc75(0x1c4)]<=0x1)return;if(animationTimer)return;animationIndex=0x0;const _0xe4d321=_0x5a0f35[_0x6abc75(0x2b3)];animationTimer=setInterval(()=>{const _0x4fcff4=_0x48e325,_0x46df1f=_0x6abc75;ctx[_0x4fcff4(0x172)](0x0,0x0,canvas[_0x46df1f(0x1b8)],canvas[_0x46df1f(0x27c)]);let _0x4525a2=_0xe4d321[animationIndex];for(let _0x43eb99=0x0;_0x43eb99<_0x4525a2[_0x46df1f(0x262)][_0x46df1f(0x1c4)];_0x43eb99++){ctx[_0x46df1f(0x1ff)](_0x4525a2[_0x4fcff4(0x13d)][_0x43eb99],0x0,0x0);}drawGrid(_0x5a0f35[_0x46df1f(0x1b8)],_0x5a0f35[_0x46df1f(0x27c)]),animationIndex=(animationIndex+0x1)%_0xe4d321[_0x46df1f(0x1c4)];},animationDelay);}function stopAnimation(){animationTimer&&(clearInterval(animationTimer),animationTimer=null,redrawAll());}function a0_0x111e(_0x7f41e2,_0x27227c){_0x7f41e2=_0x7f41e2-0x87;const _0x831b07=a0_0x3c67();let _0x33dcc3=_0x831b07[_0x7f41e2];return _0x33dcc3;}function setAnimationDelay(_0x5697d1){const _0x22318f=a0_0x38aafa;_0x5697d1=Math[_0x22318f(0x2c3)](0xa,parseInt(_0x5697d1,0xa)||0x12c),animationDelay=_0x5697d1,animationTimer&&(clearInterval(animationTimer),animationTimer=null,playAnimation());}function setTool(_0x5432c1){const _0x2618b7=a0_0x56c5,_0x2ae386=a0_0x5049d9,_0x418ff0=a0_0x38aafa;currentTool=_0x5432c1,document[_0x418ff0(0x29b)](_0x418ff0(0x191))[_0x2618b7(0x14c)](_0xecf37e=>{const _0x242642=_0x2618b7,_0x1edfc5=_0x418ff0;_0xecf37e[_0x242642(0x100)][_0x1edfc5(0x29f)](_0x1edfc5(0x1a9),_0xecf37e[_0x1edfc5(0x2ba)][_0x1edfc5(0x1be)]===_0x5432c1);}),document[_0x418ff0(0x29b)](_0x2ae386(0x16f))[_0x418ff0(0x1bd)](_0x34d8f1=>{const _0x2b1900=_0x2ae386,_0x778db6=_0x418ff0;_0x34d8f1[_0x2b1900(0x176)][_0x778db6(0x29f)](_0x778db6(0x1a9),_0x34d8f1[_0x778db6(0x2ba)][_0x778db6(0x1be)]===_0x5432c1);}),_0x5432c1===_0x418ff0(0x232)?canvas[_0x2ae386(0x1bb)][_0x2ae386(0x151)]=_0x418ff0(0x231):canvas[_0x418ff0(0x1f8)][_0x418ff0(0x2bd)]=_0x2ae386(0x10c);}function setPenSize(_0xc68423){const _0x58fdf2=a0_0x5049d9,_0x51c75b=a0_0x38aafa;penSize=parseInt(_0xc68423)||0x1;let _0x13f795=document[_0x58fdf2(0x192)](_0x51c75b(0x1c3));if(_0x13f795)_0x13f795[_0x51c75b(0x24e)]=penSize;let _0x4951e5=document[_0x51c75b(0x275)](_0x51c75b(0x250));if(_0x4951e5)_0x4951e5[_0x51c75b(0x24e)]=penSize;}function setPenMode(_0x298322){const _0x598725=a0_0x38aafa;penMode=_0x298322;let _0x4ea266=document[_0x598725(0x275)](_0x598725(0x23a));if(_0x4ea266)_0x4ea266[_0x598725(0x24e)]=penMode;let _0x13de8b=document[_0x598725(0x275)](_0x598725(0x1a1));if(_0x13de8b)_0x13de8b[_0x598725(0x24e)]=penMode;}function a0_0x5ad1(){const _0x230210=a0_0x3f33,_0x42bfea=a0_0x111e,_0xe410d1=a0_0x35c9,_0x1eb7f4=a0_0x56c5,_0x18898=a0_0x5049d9,_0xd3503c=[_0x18898(0x1db),_0x18898(0x16a),_0x1eb7f4(0x1e6),_0x18898(0x125),_0x18898(0x18c),_0x1eb7f4(0xc1),_0x18898(0x165),_0x18898(0x1f0),_0x18898(0x151),_0x18898(0x18a),_0x18898(0x1d9),_0x18898(0x126),_0x18898(0x1b8),_0x18898(0x19a),_0x18898(0x107),_0x18898(0x1a6),_0x18898(0x181),_0x18898(0x162),_0x18898(0x191),_0xe410d1(0x1b2),_0x18898(0x1f1),_0x18898(0x17e),_0x18898(0x178),_0x1eb7f4(0x1c0),_0x18898(0x17c),_0x18898(0x226),_0xe410d1(0x224),_0x18898(0x179),_0x18898(0x1c9),_0x18898(0x21a),_0x18898(0x1f7),_0x18898(0xe1),_0x18898(0x1e3),_0xe410d1(0x1bf),_0x18898(0x170),_0x18898(0x158),_0x1eb7f4(0x165),_0x18898(0x22e),_0x18898(0xe8),_0x18898(0x142),_0x18898(0x123),_0x18898(0x1c6),_0xe410d1(0x188),_0x18898(0x1cd),_0x18898(0x1c4),_0x1eb7f4(0xf9),_0x1eb7f4(0x1a1),_0x18898(0x1f2),_0x42bfea(0x1e9),_0x18898(0x1c1),_0x1eb7f4(0xe0),_0x18898(0x114),_0x18898(0x11b),_0xe410d1(0x11e),_0x18898(0x237),_0x18898(0x144),_0x1eb7f4(0xab),_0x18898(0x122),_0x18898(0x148),_0x1eb7f4(0x114),_0x1eb7f4(0x110),_0x1eb7f4(0x10e),_0x1eb7f4(0x1c5),_0x18898(0x1b2),_0x18898(0x1e8),_0x18898(0x238),_0x18898(0x180),_0x18898(0x231),_0x18898(0x11a),_0x18898(0x1fd),_0x1eb7f4(0x1af),_0x18898(0x110),_0x18898(0xfc),_0x18898(0x1aa),_0x18898(0x233),_0x18898(0xf0),_0x18898(0x22f),_0x18898(0x224),_0x18898(0xdb),_0x18898(0x1af),_0x18898(0x100),_0x18898(0x219),_0x18898(0x14c),_0xe410d1(0x117),_0x18898(0x20e),_0x18898(0xf8),_0x1eb7f4(0x142),_0x1eb7f4(0xed),_0x18898(0x15e),_0x1eb7f4(0x1cb),_0x1eb7f4(0x1a0),_0x18898(0x188),_0x18898(0x20f),_0xe410d1(0x15b),_0x18898(0x160),_0x18898(0x10e),_0x18898(0x206),_0x18898(0x14d),_0x1eb7f4(0xd2),_0x1eb7f4(0xde),_0x18898(0x1a9),_0x1eb7f4(0x162),_0x18898(0xfe),_0x18898(0x169),_0x18898(0x19f),_0x18898(0xdc),_0x18898(0x173),_0xe410d1(0x130),_0x1eb7f4(0x1f9),_0x42bfea(0x1d6),_0x1eb7f4(0x1c9),_0xe410d1(0x14f),_0x1eb7f4(0xb2),_0x1eb7f4(0xba),_0x18898(0x1ec),_0x18898(0x1be),_0x1eb7f4(0xc0),_0x18898(0x121),_0x18898(0x14a),_0x18898(0x190),_0x18898(0xf2),_0x18898(0x202),_0x18898(0x1d8),_0x18898(0x155),_0x18898(0x10a),_0x1eb7f4(0xf2),_0x1eb7f4(0xc8),_0x18898(0x196),_0x18898(0x236),_0xe410d1(0x1db),_0x18898(0xde),_0x18898(0xf5),_0x1eb7f4(0x1fc),_0x18898(0x140),_0x18898(0x22c),_0x18898(0x1a4),_0x18898(0x1d0),_0x1eb7f4(0x1c4),_0xe410d1(0x228),_0x18898(0x13a),_0x1eb7f4(0x12f),_0x18898(0x187),_0x18898(0x235),_0x18898(0x208),_0x18898(0x19c),_0x18898(0x174),_0x18898(0x1fb),_0x18898(0x108),_0x18898(0xe5),_0x18898(0x1f6),_0x1eb7f4(0x128),_0x18898(0x102),_0x18898(0x211),_0x18898(0x198),_0x18898(0x14f),_0x1eb7f4(0x113),_0x1eb7f4(0x1b0),_0x18898(0x189),_0x18898(0x1b5),_0x18898(0xec),_0xe410d1(0x162),_0x18898(0x22a),_0x18898(0x18e),_0x18898(0x223),_0x1eb7f4(0x19f),_0x18898(0x138),_0x18898(0x1bc),_0x18898(0x1c5),_0x18898(0x234),_0x18898(0x11e),_0x18898(0xdd),_0x1eb7f4(0x16a),_0x18898(0x1c8),_0x42bfea(0x189),_0x18898(0x1c0),_0x18898(0x117),_0x18898(0x1ca),_0x1eb7f4(0x1c7),_0x18898(0x1a5),_0x18898(0x15d),_0x18898(0x218),_0x18898(0x10d),_0x18898(0x185),_0x1eb7f4(0x178),_0x18898(0x229),_0x18898(0xe0),_0x1eb7f4(0x1bd),_0x18898(0x1b7),_0x18898(0x1ce),_0x18898(0x1df),_0x18898(0x230),_0x1eb7f4(0xd4),_0x18898(0x159),_0x1eb7f4(0x18a),_0x18898(0x175),_0x18898(0x1d6),_0x18898(0x20d),_0x18898(0x157),_0x18898(0x1fa),_0x18898(0x103),_0x1eb7f4(0x17f),_0x18898(0x1e7),_0x18898(0x200),_0x18898(0xfa),_0x1eb7f4(0xb3),_0x1eb7f4(0x11e),_0x18898(0x1d2),_0x18898(0x12a),_0x18898(0x141),_0x18898(0x1fe),_0x18898(0x1ef),_0x18898(0x15a),_0x18898(0x1de),_0x18898(0x10b),_0x18898(0x171),_0x18898(0x1d7),_0x18898(0x1e0),_0x18898(0x207),_0x18898(0x232),_0x18898(0x14b),_0x18898(0x1a3),_0x18898(0x17a),_0x18898(0x166),_0x18898(0x16c),_0x18898(0x154),_0x18898(0x18b),_0x18898(0x20b),_0x18898(0xea),_0x1eb7f4(0x169),_0x18898(0x1f8),_0xe410d1(0x163),_0x1eb7f4(0x17b),_0x18898(0x1ba),_0x1eb7f4(0x176),_0x18898(0x176),_0x18898(0x1f4),_0x18898(0x172),_0x18898(0x16b),_0x18898(0x1eb),_0x1eb7f4(0x11f),_0x18898(0x199),_0xe410d1(0x20b),_0x1eb7f4(0xd0),_0x18898(0x19d),_0x1eb7f4(0xc6),_0x18898(0x109),_0x18898(0x1c2),_0x18898(0x21f),_0x18898(0x1e1),_0x1eb7f4(0x190),_0x230210(0x1dd),_0x18898(0x177),_0x1eb7f4(0x147),_0x1eb7f4(0x1a3),_0x18898(0x1f5),_0x18898(0x112),_0xe410d1(0x133),_0x18898(0x1dd),_0x18898(0x1ae),_0x18898(0x17b),_0x18898(0x16e),_0x18898(0x1b6),_0x42bfea(0x156),_0x18898(0x1d4),_0x18898(0x132),_0x18898(0x116),_0x18898(0x145),_0x18898(0x19b),_0x18898(0x22d),_0x18898(0x12e),_0x18898(0x1a7),_0x18898(0x225),_0x1eb7f4(0x15c),_0x1eb7f4(0xc9),_0x18898(0xf7),_0x1eb7f4(0x195),_0x18898(0x134),_0x18898(0x1d1),_0x18898(0x20c),_0x1eb7f4(0x153),_0x18898(0x130),_0x18898(0x1d5),_0x18898(0x1e4),_0x18898(0x143),_0x18898(0x12b),_0x18898(0x1e2),_0x18898(0x1ea),_0xe410d1(0xe9),_0x1eb7f4(0x136),_0x18898(0x13d),_0xe410d1(0x1a5),_0x1eb7f4(0x173),_0xe410d1(0x152),_0x18898(0x13c),_0x18898(0x164),_0xe410d1(0x17e),_0x18898(0x15f),_0x18898(0x11d),_0x18898(0xe6),_0x1eb7f4(0x140),_0x18898(0x212),_0x18898(0x137),_0x18898(0x167),_0x18898(0x1dc),_0x18898(0x120),_0xe410d1(0x16f),_0x18898(0x228),_0x18898(0x1e6),_0xe410d1(0x116),_0x18898(0x14e),_0x18898(0x1ff),_0x18898(0x19e),_0x18898(0x163),_0x18898(0x21b),_0x18898(0x1cb),_0x1eb7f4(0x1ff),_0x18898(0x127),_0x18898(0x21c),_0x18898(0x13f),_0x18898(0x1b0),_0x18898(0x105),_0xe410d1(0x19c),_0x18898(0x161),_0x18898(0x139),_0x18898(0x119),_0x18898(0x1b1),_0xe410d1(0x169),_0x18898(0x20a),_0xe410d1(0x1be),_0x18898(0x1e5),_0x18898(0x115),_0x18898(0x1b4),_0x1eb7f4(0x1ba),_0x18898(0x111),_0x1eb7f4(0x163),_0x18898(0x1ad),_0x18898(0x10f),_0x18898(0x104),_0x18898(0x113),_0x18898(0x18f),_0x18898(0x182),_0x18898(0x222),_0x18898(0x11c),_0x18898(0x213),_0x18898(0x214),_0x42bfea(0x149),_0x18898(0xe9),_0x18898(0x195),_0x1eb7f4(0x129),_0x18898(0x1cc),_0x18898(0x184),_0x18898(0x1cf),_0x18898(0x1b3),_0x18898(0x152),_0x18898(0x220),_0x18898(0x1bf),_0x18898(0x12c),_0x18898(0x146),_0x1eb7f4(0x127),_0xe410d1(0xf1),_0x18898(0x131),_0x18898(0x1bd),_0x18898(0x1f3),_0x18898(0x22b),_0x18898(0x221),_0x18898(0x135),_0x18898(0xe3),_0x18898(0x106),_0xe410d1(0x121),_0x18898(0x1ed),_0x18898(0x17f),_0x18898(0x1c7)];return a0_0x5ad1=function(){return _0xd3503c;},a0_0x5ad1();}function hexToRgba(_0x320256,_0xac0f5f=0x1){const _0x32a2af=a0_0x5049d9,_0x1f93f0=a0_0x38aafa;if(_0x320256===_0x1f93f0(0x1f3)||_0x320256===_0x1f93f0(0x25c))return[0x0,0x0,0x0,0x0];_0x320256=_0x320256[_0x1f93f0(0x27d)]('#','');if(_0x320256[_0x1f93f0(0x1c4)]===0x3)_0x320256=_0x320256[_0x1f93f0(0x285)]('')[_0x32a2af(0x18f)](_0x50e665=>_0x50e665+_0x50e665)[_0x32a2af(0xf9)]('');let _0x20884e=parseInt(_0x320256,0x10);return[_0x20884e>>0x10&0xff,_0x20884e>>0x8&0xff,_0x20884e&0xff,Math[_0x1f93f0(0x26f)](0xff*_0xac0f5f)];}function a0_0x3f33(_0x4727c1,_0x2a5fc3){_0x4727c1=_0x4727c1-0xb8;const _0x5a79fd=a0_0x5ba6();let _0x55279e=_0x5a79fd[_0x4727c1];return _0x55279e;}function fillAt(_0x33c1fb,_0xa4497e){const _0x5740cf=a0_0x35c9,_0x1957ee=a0_0x56c5,_0x4456f9=a0_0x5049d9,_0x7c243=a0_0x38aafa;let _0x1011ed=getCurrentProject(),_0x21cc57=getCurrentFrame(),_0x4405ea=_0x21cc57[_0x7c243(0x262)][_0x21cc57[_0x7c243(0x1b5)]][_0x7c243(0x2c6)]('2d'),_0x206ac9=_0x4405ea[_0x7c243(0x287)](0x0,0x0,_0x1011ed[_0x7c243(0x1b8)]*cellSize,_0x1011ed[_0x7c243(0x27c)]*cellSize),_0x5ee4e2=_0x33c1fb*cellSize,_0x14359c=_0xa4497e*cellSize,_0x2e66fa=getPixel(_0x206ac9,_0x5ee4e2,_0x14359c),_0x5841f5=currentColor===_0x4456f9(0x1a5)||currentColor===_0x7c243(0x25c)||currentAlpha===0x0?[0x0,0x0,0x0,0x0]:hexToRgba(currentColor,currentAlpha);if(colorsMatch(_0x2e66fa,_0x5841f5))return;let _0x3c34ea=[[_0x33c1fb,_0xa4497e]],_0x3e5d56=new Set();while(_0x3c34ea[_0x7c243(0x1c4)]){let [_0x132ca9,_0x3ebe8a]=_0x3c34ea[_0x5740cf(0x15e)]();if(_0x132ca9<0x0||_0x3ebe8a<0x0||_0x132ca9>=_0x1011ed[_0x1957ee(0x13a)]||_0x3ebe8a>=_0x1011ed[_0x7c243(0x27c)])continue;let _0x464a85=_0x132ca9+','+_0x3ebe8a;if(_0x3e5d56[_0x7c243(0x2bb)](_0x464a85))continue;_0x3e5d56[_0x7c243(0x1de)](_0x464a85);let _0x193f09=_0x132ca9*cellSize,_0x38255d=_0x3ebe8a*cellSize,_0x106e83=getPixel(_0x206ac9,_0x193f09,_0x38255d);if(!colorsMatch(_0x106e83,_0x2e66fa))continue;for(let _0x592886=0x0;_0x592886<cellSize;_0x592886++){for(let _0xfc7274=0x0;_0xfc7274<cellSize;_0xfc7274++){setPixel(_0x206ac9,_0x193f09+_0xfc7274,_0x38255d+_0x592886,_0x5841f5);}}_0x3c34ea[_0x7c243(0x278)]([_0x132ca9+0x1,_0x3ebe8a]),_0x3c34ea[_0x7c243(0x278)]([_0x132ca9-0x1,_0x3ebe8a]),_0x3c34ea[_0x7c243(0x278)]([_0x132ca9,_0x3ebe8a+0x1]),_0x3c34ea[_0x4456f9(0x19e)]([_0x132ca9,_0x3ebe8a-0x1]);}_0x4405ea[_0x7c243(0x19f)](_0x206ac9,0x0,0x0),redrawAll();}function getPixel(_0x3ea6ac,_0x4d7e05,_0x1ff8ab){const _0x46e9d0=a0_0x56c5,_0x291253=a0_0x5049d9,_0x91e910=a0_0x38aafa;let _0x9fbffa=(_0x1ff8ab*_0x3ea6ac[_0x46e9d0(0x13a)]+_0x4d7e05)*0x4;return[_0x3ea6ac[_0x46e9d0(0x136)][_0x9fbffa],_0x3ea6ac[_0x291253(0x15b)][_0x9fbffa+0x1],_0x3ea6ac[_0x91e910(0x261)][_0x9fbffa+0x2],_0x3ea6ac[_0x91e910(0x261)][_0x9fbffa+0x3]];}function setPixel(_0x4fb0ae,_0x24f986,_0x8495ff,_0x18d5dc){const _0x40bef1=a0_0x56c5,_0x5929=a0_0x38aafa;let _0x1f598a=(_0x8495ff*_0x4fb0ae[_0x5929(0x1b8)]+_0x24f986)*0x4;_0x4fb0ae[_0x5929(0x261)][_0x1f598a]=_0x18d5dc[0x0],_0x4fb0ae[_0x5929(0x261)][_0x1f598a+0x1]=_0x18d5dc[0x1],_0x4fb0ae[_0x40bef1(0x136)][_0x1f598a+0x2]=_0x18d5dc[0x2],_0x4fb0ae[_0x5929(0x261)][_0x1f598a+0x3]=_0x18d5dc[0x3];}function colorsMatch(_0x503bf4,_0x452927){return _0x503bf4[0x0]===_0x452927[0x0]&&_0x503bf4[0x1]===_0x452927[0x1]&&_0x503bf4[0x2]===_0x452927[0x2]&&_0x503bf4[0x3]===_0x452927[0x3];}function handleMouseDown(_0x4972fe){const _0x3ed3d2=a0_0x5049d9,_0x74fdad=a0_0x38aafa;isDrawing=!![];const _0xbf1d72=getCanvasCoords(_0x4972fe),_0x1504ef=Math[_0x74fdad(0x1a7)](_0xbf1d72['x']/cellSize),_0x273b16=Math[_0x3ed3d2(0xfe)](_0xbf1d72['y']/cellSize);currentTool===_0x74fdad(0x1a8)?(fillAt(_0x1504ef,_0x273b16),saveHistory(),isDrawing=![],lastMouse=null):(drawDotXY(_0x1504ef,_0x273b16),lastMouse={'x':_0x1504ef,'y':_0x273b16});}function handleMouseMove(_0x28afde){const _0x501e7a=a0_0x5049d9,_0x50ba86=a0_0x38aafa;if(!isDrawing)return;const _0x18a236=getCanvasCoords(_0x28afde),_0x1d878a=Math[_0x50ba86(0x1a7)](_0x18a236['x']/cellSize),_0x4ac3ab=Math[_0x50ba86(0x1a7)](_0x18a236['y']/cellSize);if(!lastMouse){drawDotXY(_0x1d878a,_0x4ac3ab),lastMouse={'x':_0x1d878a,'y':_0x4ac3ab};return;}const _0x35f002=_0x1d878a-lastMouse['x'],_0x29437d=_0x4ac3ab-lastMouse['y'],_0x3d25eb=Math[_0x50ba86(0x2c3)](Math[_0x50ba86(0x1a6)](_0x35f002),Math[_0x50ba86(0x1a6)](_0x29437d));if(_0x3d25eb<=0x1)drawDotXY(_0x1d878a,_0x4ac3ab);else for(let _0x13ba1f=0x1;_0x13ba1f<=_0x3d25eb;_0x13ba1f++){const _0x358fd6=Math[_0x501e7a(0x167)](lastMouse['x']+_0x35f002*_0x13ba1f/_0x3d25eb),_0x552ebf=Math[_0x50ba86(0x26f)](lastMouse['y']+_0x29437d*_0x13ba1f/_0x3d25eb);drawDotXY(_0x358fd6,_0x552ebf);}lastMouse={'x':_0x1d878a,'y':_0x4ac3ab};}function handleMouseUp(_0x539aff){isDrawing&&saveHistory(),isDrawing=![],lastMouse=null;}let lastTouch=null,lastMouse=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;function getTouchPos(_0x49d5ef){const _0x4aff15=a0_0x5049d9,_0x539fab=a0_0x38aafa,_0x2dabce=canvas[_0x539fab(0x280)]();let _0x2af38a=_0x49d5ef[_0x539fab(0x2d8)]&&_0x49d5ef[_0x539fab(0x2d8)][0x0]?_0x49d5ef[_0x539fab(0x2d8)][0x0]:_0x49d5ef[_0x4aff15(0x203)][0x0];const _0x8f8373=canvas[_0x539fab(0x1b8)]/_0x2dabce[_0x4aff15(0x190)],_0x2b3461=canvas[_0x539fab(0x27c)]/_0x2dabce[_0x539fab(0x27c)],_0x41bd39=_0x2af38a[_0x539fab(0x193)],_0x411c45=_0x2af38a[_0x539fab(0x25d)],_0x20ff9e=(_0x41bd39-_0x2dabce[_0x539fab(0x2a7)])*_0x8f8373,_0xf6f335=(_0x411c45-_0x2dabce[_0x539fab(0x196)])*_0x2b3461;return{'x':Math[_0x539fab(0x1a7)](_0x20ff9e/cellSize),'y':Math[_0x539fab(0x1a7)](_0xf6f335/cellSize)};}function handleTouchStart(_0x1d4f17){const _0x3aacb4=a0_0x56c5,_0x334ffb=a0_0x5049d9,_0x38d13e=a0_0x38aafa;if(_0x1d4f17[_0x334ffb(0x158)][_0x38d13e(0x1c4)]===0x2){_0x1d4f17[_0x38d13e(0x1ce)](),isPinching=!![],isDrawing=![];const _0x246708=_0x1d4f17[_0x38d13e(0x2d8)][0x0],_0x25efea=_0x1d4f17[_0x38d13e(0x2d8)][0x1];pinchStartDistance=Math[_0x38d13e(0x18d)](_0x25efea[_0x3aacb4(0x119)]-_0x246708[_0x38d13e(0x193)],_0x25efea[_0x38d13e(0x25d)]-_0x246708[_0x334ffb(0x12b)]),pinchStartMid={'clientX':(_0x246708[_0x38d13e(0x193)]+_0x25efea[_0x38d13e(0x193)])/0x2,'clientY':(_0x246708[_0x38d13e(0x25d)]+_0x25efea[_0x38d13e(0x25d)])/0x2},pinchStartScale=scale,pinchStartPosX=posX,pinchStartPosY=posY,pinchRect=canvas[_0x38d13e(0x280)]();}else{if(_0x1d4f17[_0x38d13e(0x2d8)][_0x38d13e(0x1c4)]===0x1){_0x1d4f17[_0x334ffb(0x187)]();if(isPinching)return;isDrawing=!![];let _0x56031f=getTouchPos(_0x1d4f17);lastTouch=_0x56031f,currentTool===_0x38d13e(0x1a8)?(fillAt(_0x56031f['x'],_0x56031f['y']),saveHistory(),isDrawing=![]):drawDotTouch(_0x56031f['x'],_0x56031f['y']);}}}function handleTouchMove(_0xdda24d){const _0x5096fb=a0_0x35c9,_0x27fb1b=a0_0x56c5,_0x413e45=a0_0x5049d9,_0x230e51=a0_0x38aafa;if(isPinching||_0xdda24d[_0x230e51(0x2d8)]&&_0xdda24d[_0x413e45(0x158)][_0x230e51(0x1c4)]===0x2){_0xdda24d[_0x230e51(0x1ce)]();const _0x23ad6a=_0xdda24d[_0x230e51(0x2d8)][0x0],_0xce3445=_0xdda24d[_0x230e51(0x2d8)][0x1],_0x3f64f4=Math[_0x27fb1b(0xaf)](_0xce3445[_0x230e51(0x193)]-_0x23ad6a[_0x230e51(0x193)],_0xce3445[_0x413e45(0x12b)]-_0x23ad6a[_0x230e51(0x25d)]),_0x2fcb47={'clientX':(_0x23ad6a[_0x230e51(0x193)]+_0xce3445[_0x230e51(0x193)])/0x2,'clientY':(_0x23ad6a[_0x413e45(0x12b)]+_0xce3445[_0x230e51(0x25d)])/0x2};if(!pinchStartDistance)pinchStartDistance=_0x3f64f4||0x1;const _0x59e501=_0x3f64f4/pinchStartDistance||0x1;let _0x2e72ce=pinchStartScale*_0x59e501;_0x2e72ce=Math[_0x413e45(0x18d)](Math[_0x230e51(0x2c3)](_0x2e72ce,0.2),0x5);const _0x5689cd=pinchRect||canvas[_0x413e45(0x1b0)](),_0x1acfbc=(pinchStartMid[_0x230e51(0x193)]-_0x5689cd[_0x230e51(0x2a7)]-pinchStartPosX)/pinchStartScale,_0x755847=(pinchStartMid[_0x413e45(0x12b)]-_0x5689cd[_0x230e51(0x196)]-pinchStartPosY)/pinchStartScale;posX=_0x2fcb47[_0x230e51(0x193)]-_0x5689cd[_0x230e51(0x2a7)]-_0x1acfbc*_0x2e72ce,posY=_0x2fcb47[_0x5096fb(0x19d)]-_0x5689cd[_0x230e51(0x196)]-_0x755847*_0x2e72ce,scale=_0x2e72ce,updateTransform();return;}if(!isDrawing)return;if(_0xdda24d[_0x5096fb(0xc9)]&&_0xdda24d[_0x230e51(0x2d8)][_0x413e45(0xf5)]>0x1)return;_0xdda24d[_0x27fb1b(0xfd)]();let _0x473bb2=getTouchPos(_0xdda24d);if(lastTouch){let _0x5e7f84=Math[_0x230e51(0x1a6)]((_0x473bb2['x']-lastTouch['x'])*cellSize),_0x4fcb61=Math[_0x230e51(0x1a6)]((_0x473bb2['y']-lastTouch['y'])*cellSize);if(_0x5e7f84>=PAN_CANCEL_DISTANCE||_0x4fcb61>=PAN_CANCEL_DISTANCE){if(currentTool!==_0x230e51(0x182)){isDrawing=![];return;}}}if(lastTouch){let _0x1ca2bb=_0x473bb2['x']-lastTouch['x'],_0x4994a0=_0x473bb2['y']-lastTouch['y'],_0x14c7a=Math[_0x413e45(0x107)](Math[_0x413e45(0x11f)](_0x1ca2bb),Math[_0x230e51(0x1a6)](_0x4994a0));for(let _0x418218=0x1;_0x418218<=_0x14c7a;_0x418218++){let _0xe31d67=Math[_0x230e51(0x26f)](lastTouch['x']+_0x1ca2bb*_0x418218/_0x14c7a),_0x2a63f5=Math[_0x230e51(0x26f)](lastTouch['y']+_0x4994a0*_0x418218/_0x14c7a);drawDotTouch(_0xe31d67,_0x2a63f5);}}else drawDotTouch(_0x473bb2['x'],_0x473bb2['y']);lastTouch=_0x473bb2;}function handleTouchEnd(_0x27c29d){const _0x1aa41b=a0_0x111e,_0x2b7c55=a0_0x5049d9,_0x54c3f4=a0_0x38aafa;isPinching&&_0x27c29d[_0x54c3f4(0x2d8)]&&_0x27c29d[_0x2b7c55(0x158)][_0x54c3f4(0x1c4)]<0x2&&(isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchRect=null),isDrawing&&(!_0x27c29d[_0x2b7c55(0x158)]||_0x27c29d[_0x54c3f4(0x2d8)][_0x1aa41b(0x1df)]===0x0)&&saveHistory();if(_0x27c29d[_0x2b7c55(0x158)]&&_0x27c29d[_0x54c3f4(0x2d8)][_0x54c3f4(0x1c4)]===0x1){let _0x299507=_0x27c29d[_0x54c3f4(0x2d8)][0x0];lastTouch=getTouchPos({'touches':[_0x299507]}),isDrawing=!![];}else isDrawing=![],lastTouch=null;}function drawDotXY(_0x10de97,_0x55bd41){const _0x3c675a=a0_0x35c9,_0x494e0c=a0_0x56c5,_0x9b42ed=a0_0x5049d9,_0x2a85a8=a0_0x38aafa;let _0x6ea3c7=getCurrentProject(),_0x105c3c=getCurrentFrame();if(!_0x105c3c||!_0x6ea3c7)return;if(typeof _0x10de97!==_0x2a85a8(0x1a2)||typeof _0x55bd41!==_0x2a85a8(0x1a2)||_0x10de97<0x0||_0x55bd41<0x0||!Number[_0x3c675a(0xe7)](_0x6ea3c7[_0x9b42ed(0x190)])||!Number[_0x9b42ed(0x115)](_0x6ea3c7[_0x2a85a8(0x27c)])||_0x10de97>=_0x6ea3c7[_0x9b42ed(0x190)]||_0x55bd41>=_0x6ea3c7[_0x2a85a8(0x27c)]||!Array[_0x2a85a8(0x19c)](_0x105c3c[_0x9b42ed(0x13d)])||typeof _0x105c3c[_0x2a85a8(0x1b5)]!==_0x2a85a8(0x1a2)||!_0x105c3c[_0x2a85a8(0x262)][_0x105c3c[_0x9b42ed(0x215)]])return;let _0x3e8871=_0x105c3c[_0x2a85a8(0x262)][_0x105c3c[_0x9b42ed(0x215)]][_0x2a85a8(0x2c6)]('2d');if(!_0x3e8871)return;if(currentTool===_0x494e0c(0xd1)||currentColor===_0x2a85a8(0x1f3)||currentColor===_0x2a85a8(0x25c)||currentAlpha===0x0)drawPenShape(_0x3e8871,_0x10de97,_0x55bd41,_0x2a85a8(0x25c),!![]);else{let _0x27a176=hexToRgba(currentColor,currentAlpha);_0x3e8871[_0x2a85a8(0x1fe)](),_0x3e8871[_0x2a85a8(0x2a0)]=_0x27a176[0x3]/0xff,drawPenShape(_0x3e8871,_0x10de97,_0x55bd41,_0x2a85a8(0x210)+_0x27a176[0x0]+','+_0x27a176[0x1]+','+_0x27a176[0x2]+','+_0x27a176[0x3]/0xff+')',![]),_0x3e8871[_0x2a85a8(0x2df)]();}redrawAll();}function drawPenShape(_0x4f4c1c,_0x12d639,_0x4eb037,_0x55e7bb,_0x15c45b){const _0x1b2cf9=a0_0x56c5,_0x16f723=a0_0x5049d9,_0x171dfc=a0_0x38aafa,_0x143eb4=_0x12d639*cellSize,_0x21ba03=_0x4eb037*cellSize,_0x529d4f=penSize*cellSize;_0x15c45b?(_0x4f4c1c[_0x171dfc(0x1fe)](),_0x4f4c1c[_0x171dfc(0x20d)]=_0x171dfc(0x2d5),penMode===_0x171dfc(0x2ea)?(_0x4f4c1c[_0x171dfc(0x2eb)](),_0x4f4c1c[_0x171dfc(0x24a)](_0x143eb4+cellSize/0x2,_0x21ba03+cellSize/0x2,_0x529d4f/0x2,0x0,Math['PI']*0x2),_0x4f4c1c[_0x171dfc(0x1a8)]()):_0x4f4c1c[_0x171dfc(0x22d)](_0x143eb4-Math[_0x171dfc(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x21ba03-Math[_0x171dfc(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x529d4f,_0x529d4f),_0x4f4c1c[_0x171dfc(0x2df)]()):(_0x4f4c1c[_0x171dfc(0x1fe)](),_0x4f4c1c[_0x171dfc(0x2aa)]=_0x55e7bb,penMode===_0x171dfc(0x2ea)?(_0x4f4c1c[_0x16f723(0x237)](),_0x4f4c1c[_0x171dfc(0x24a)](_0x143eb4+cellSize/0x2,_0x21ba03+cellSize/0x2,_0x529d4f/0x2,0x0,Math['PI']*0x2),_0x4f4c1c[_0x1b2cf9(0x10d)]()):_0x4f4c1c[_0x171dfc(0x216)](_0x143eb4-Math[_0x16f723(0xfe)]((penSize-0x1)/0x2)*cellSize,_0x21ba03-Math[_0x171dfc(0x1a7)]((penSize-0x1)/0x2)*cellSize,_0x529d4f,_0x529d4f),_0x4f4c1c[_0x171dfc(0x2df)]());}function a0_0x22a5(){const _0x1fb478=a0_0x3f33,_0x49189f=a0_0x111e,_0x23e9ce=a0_0x35c9,_0x5f3e16=[_0x23e9ce(0x184),_0x49189f(0xed),_0x49189f(0x12a),_0x23e9ce(0x1bd),_0x23e9ce(0x1e1),_0x49189f(0x144),_0x1fb478(0x1b5),_0x23e9ce(0x13b),_0x49189f(0x14f),_0x23e9ce(0x14d),_0x23e9ce(0x20d),_0x23e9ce(0x213),_0x23e9ce(0x1c8),_0x23e9ce(0x112),_0x49189f(0x15c),_0x23e9ce(0x102),_0x49189f(0x8e),_0x23e9ce(0x103),_0x23e9ce(0x11f),_0x23e9ce(0x189),_0x49189f(0x131),_0x23e9ce(0x134),_0x23e9ce(0x19e),_0x49189f(0x191),_0x23e9ce(0x12c),_0x23e9ce(0x16c),_0x1fb478(0x14e),_0x23e9ce(0xfa),_0x49189f(0x10a),_0x23e9ce(0x1df),_0x23e9ce(0x16b),_0x23e9ce(0xc8),_0x23e9ce(0x20e),_0x23e9ce(0xd0),_0x49189f(0xa9),_0x23e9ce(0x1ca),_0x23e9ce(0x1b7),_0x23e9ce(0x1ab),_0x23e9ce(0x14a),_0x23e9ce(0x18f),_0x23e9ce(0x1e8),_0x23e9ce(0xea),_0x49189f(0x10d),_0x23e9ce(0x144),_0x49189f(0x88),_0x23e9ce(0x1c5),_0x23e9ce(0x20a),_0x23e9ce(0x171),_0x1fb478(0x207),_0x23e9ce(0x199),_0x23e9ce(0xf0),_0x23e9ce(0xca),_0x23e9ce(0x179),_0x23e9ce(0x113),_0x23e9ce(0x215),_0x49189f(0x11f),_0x23e9ce(0x124),_0x49189f(0xef),_0x23e9ce(0x1ef),_0x23e9ce(0x19a),_0x1fb478(0x1f3),_0x23e9ce(0x187),_0x23e9ce(0x203),'1780284xxbNLL',_0x23e9ce(0x178),'GIF',_0x23e9ce(0x1a8),_0x49189f(0xd8),_0x23e9ce(0x180),_0x23e9ce(0x151),_0x49189f(0x182),_0x1fb478(0x20f),_0x23e9ce(0x16a),_0x23e9ce(0x108),_0x49189f(0x1e8),_0x23e9ce(0x183),_0x23e9ce(0x1ee),_0x23e9ce(0x211),_0x23e9ce(0x1b0),_0x23e9ce(0x116),_0x23e9ce(0x17d),_0x23e9ce(0x1d3),_0x49189f(0x1af),_0x23e9ce(0x216),_0x23e9ce(0x1bb),_0x23e9ce(0x14b),_0x23e9ce(0xe3),_0x23e9ce(0x21b),_0x23e9ce(0x15c),_0x49189f(0x16d),_0x1fb478(0x1ba),_0x23e9ce(0x157),_0x49189f(0x111),_0x23e9ce(0x21d),_0x49189f(0x121),_0x23e9ce(0x17a),_0x23e9ce(0x143),_0x23e9ce(0x1f3),_0x23e9ce(0x119),_0x23e9ce(0xde),_0x23e9ce(0xff),_0x23e9ce(0x141),_0x23e9ce(0xec),_0x23e9ce(0xe0),_0x1fb478(0x166),_0x23e9ce(0x21f),_0x23e9ce(0xef),_0x49189f(0x1b1),_0x23e9ce(0xcf),_0x1fb478(0x1f8),_0x23e9ce(0x132),_0x23e9ce(0xf7),_0x49189f(0xa4),_0x23e9ce(0xf8),_0x23e9ce(0x202),_0x23e9ce(0x19d),_0x23e9ce(0x104),_0x23e9ce(0x18d),_0x23e9ce(0x175),_0x23e9ce(0xe2),_0x23e9ce(0xf3),_0x23e9ce(0xeb),_0x23e9ce(0x1e6),_0x1fb478(0x177),_0x49189f(0xf3),_0x49189f(0x15a),_0x49189f(0x11b),_0x23e9ce(0x13a),_0x49189f(0x1ba),_0x23e9ce(0xf5),_0x1fb478(0x181),_0x23e9ce(0x109),_0x23e9ce(0x1b5),_0x23e9ce(0x115),_0x23e9ce(0x170),_0x23e9ce(0x201),_0x23e9ce(0x1fc),_0x23e9ce(0x21c),_0x23e9ce(0x1fb),_0x49189f(0x15b),_0x23e9ce(0x16d),_0x23e9ce(0x1f1),_0x49189f(0x13e),_0x23e9ce(0x17c),_0x23e9ce(0x138),_0x23e9ce(0x1c9),'then',_0x49189f(0x15f),_0x23e9ce(0x168),_0x23e9ce(0x181),_0x23e9ce(0x10e),_0x23e9ce(0x1d2),_0x23e9ce(0xcc),_0x23e9ce(0xf2),_0x23e9ce(0x15f),'72fOvfXp',_0x49189f(0xb4),_0x49189f(0x162),_0x49189f(0x17d),_0x1fb478(0x1f7),_0x49189f(0x1ee),_0x23e9ce(0x210),_0x23e9ce(0x194),_0x23e9ce(0x218),_0x23e9ce(0xfe),_0x23e9ce(0x1e9),_0x1fb478(0x11c),_0x49189f(0x16f),_0x49189f(0x163),_0x23e9ce(0x1c1),_0x23e9ce(0x12a),_0x23e9ce(0x1ce),_0x1fb478(0x115),_0x23e9ce(0x1ba),_0x23e9ce(0x145),_0x23e9ce(0x18a),_0x23e9ce(0x11a),_0x1fb478(0x12e),_0x49189f(0x100),_0x23e9ce(0x12e),_0x23e9ce(0xda),_0x23e9ce(0x11b),_0x23e9ce(0x10d),_0x23e9ce(0x226),_0x49189f(0xf9),_0x23e9ce(0x16e),_0x23e9ce(0x205),_0x49189f(0x14b),_0x1fb478(0x116),_0x1fb478(0x199),_0x23e9ce(0xfb),_0x23e9ce(0x1a4),_0x23e9ce(0x172),_0x23e9ce(0x12f),_0x23e9ce(0x1dc),_0x23e9ce(0x156),_0x23e9ce(0xd7),_0x23e9ce(0x10c),_0x23e9ce(0x1d8),_0x23e9ce(0x196),_0x23e9ce(0x14e),_0x23e9ce(0x158),_0x23e9ce(0x219),_0x23e9ce(0x190),_0x49189f(0xbb),_0x23e9ce(0x177),_0x23e9ce(0x111),'click',_0x23e9ce(0x148),_0x23e9ce(0x197),_0x23e9ce(0x200),_0x23e9ce(0x1d7),_0x23e9ce(0x1a3),_0x49189f(0x147),_0x23e9ce(0x1af),_0x23e9ce(0xcb),_0x49189f(0x138),_0x23e9ce(0x1d9),_0x23e9ce(0x1f0),_0x23e9ce(0x154),_0x23e9ce(0x1ea),_0x23e9ce(0x137),_0x23e9ce(0x1f5),_0x23e9ce(0x212),_0x23e9ce(0x1ed),_0x23e9ce(0x15e),_0x49189f(0x139),_0x49189f(0x150),_0x23e9ce(0x223),_0x23e9ce(0x1b9),_0x23e9ce(0xfc),_0x49189f(0x1f5),_0x23e9ce(0x1e3),_0x23e9ce(0x1ff),_0x23e9ce(0x185),_0x23e9ce(0x1f9),_0x49189f(0xfc),_0x23e9ce(0xf4),_0x23e9ce(0x1a1),_0x23e9ce(0x1b8),_0x49189f(0x106),_0x49189f(0xc9),_0x49189f(0x137),_0x49189f(0x17f),_0x23e9ce(0xfd),_0x23e9ce(0x120),_0x49189f(0x89),_0x23e9ce(0x20f),_0x23e9ce(0x21e),_0x23e9ce(0x1ec),_0x49189f(0x177),_0x23e9ce(0x1bc),_0x23e9ce(0x1c4),_0x49189f(0x102),_0x23e9ce(0x165),_0x23e9ce(0x135),_0x49189f(0xec),_0x23e9ce(0x227),_0x23e9ce(0x1b4),_0x23e9ce(0x206),_0x23e9ce(0x1c2),_0x23e9ce(0xdb),_0x49189f(0x1e4),_0x1fb478(0x17f),_0x49189f(0x1ca),_0x23e9ce(0x1c6),_0x23e9ce(0x17b),_0x23e9ce(0x176),_0x49189f(0x1a8),_0x23e9ce(0x13f),_0x23e9ce(0x15d),_0x23e9ce(0x161),_0x49189f(0xb8),_0x23e9ce(0x208),_0x49189f(0x157),_0x23e9ce(0x1c3),_0x23e9ce(0x17f),_0x23e9ce(0x1ac),_0x49189f(0x105),_0x23e9ce(0x217),_0x23e9ce(0x221),_0x23e9ce(0x136),_0x49189f(0x194),_0x23e9ce(0x19b),_0x23e9ce(0x1f6),_0x49189f(0xb2),_0x23e9ce(0x1fe),_0x23e9ce(0xdd),_0x23e9ce(0x159),_0x23e9ce(0xdf),_0x23e9ce(0x1cd),_0x23e9ce(0x150),_0x23e9ce(0x1a6),_0x23e9ce(0x18e),_0x23e9ce(0x166),_0x49189f(0xc0),_0x23e9ce(0x1eb),_0x23e9ce(0x1d1),_0x23e9ce(0x160),_0x23e9ce(0x191),_0x23e9ce(0x195),_0x23e9ce(0x110),_0x23e9ce(0x13d),_0x23e9ce(0x164),_0x23e9ce(0x1d0),_0x23e9ce(0x142),_0x23e9ce(0xdc),_0x23e9ce(0x147),_0x49189f(0xad),_0x23e9ce(0x146),_0x23e9ce(0x1c7),_0x23e9ce(0x1e2),_0x23e9ce(0x220),_0x23e9ce(0x125),_0x1fb478(0xd7),_0x23e9ce(0x1d6),_0x23e9ce(0x1f2),_0x23e9ce(0x20c),_0x49189f(0x10e),_0x23e9ce(0x192),_0x49189f(0xbe),_0x23e9ce(0x1f8),_0x23e9ce(0xe1),_0x49189f(0x183),_0x49189f(0x174),_0x49189f(0xb3),_0x23e9ce(0x209),_0x49189f(0x10b),_0x23e9ce(0x18c),_0x49189f(0x8f),_0x49189f(0x190),_0x23e9ce(0x1b1),_0x49189f(0x1c8),_0x23e9ce(0x214),_0x23e9ce(0x20b),_0x23e9ce(0xe8),_0x23e9ce(0x222),_0x23e9ce(0x1ad),_0x23e9ce(0x123),_0x49189f(0xa3),_0x49189f(0x1d8),_0x23e9ce(0x1cc),_0x23e9ce(0x107)];return a0_0x22a5=function(){return _0x5f3e16;},a0_0x22a5();}function a0_0x243d(){const _0x53a20f=a0_0x3f33,_0x14f5af=a0_0x111e,_0x4e09f4=a0_0x35c9,_0x57d77d=a0_0x56c5,_0x3b0d6b=[_0x57d77d(0xc2),_0x57d77d(0x1e8),_0x4e09f4(0xd6),_0x14f5af(0xe7),_0x57d77d(0x177),_0x57d77d(0x1a2),_0x57d77d(0x171),_0x57d77d(0x1d2),_0x57d77d(0x1be),_0x4e09f4(0x1dd),_0x57d77d(0x166),_0x57d77d(0x1b8),_0x4e09f4(0x106),_0x57d77d(0x1f0),_0x57d77d(0xb9),_0x57d77d(0xff),_0x4e09f4(0x1cf),_0x57d77d(0x144),_0x57d77d(0x105),_0x57d77d(0x1c1),_0x57d77d(0xcd),_0x57d77d(0x1fb),_0x57d77d(0x106),_0x14f5af(0x171),_0x57d77d(0x1ae),_0x57d77d(0x1a5),_0x57d77d(0x19a),_0x57d77d(0x1ad),_0x57d77d(0xaa),_0x57d77d(0xaf),_0x57d77d(0x104),_0x57d77d(0x1f2),_0x57d77d(0x1db),_0x57d77d(0x1d7),_0x57d77d(0xb1),_0x57d77d(0x116),_0x57d77d(0x1e4),_0x53a20f(0x19c),_0x57d77d(0xf1),_0x57d77d(0x181),_0x4e09f4(0xce),_0x4e09f4(0xd3),_0x57d77d(0x188),_0x57d77d(0x191),_0x57d77d(0x1f4),_0x57d77d(0x1ed),_0x4e09f4(0x140),_0x57d77d(0xf8),_0x57d77d(0x168),_0x57d77d(0x142),_0x57d77d(0x1e9),_0x4e09f4(0x1a0),_0x57d77d(0xf2),_0x57d77d(0x157),_0x57d77d(0x102),_0x57d77d(0x13d),_0x57d77d(0x13e),_0x57d77d(0x1aa),_0x57d77d(0x1e6),_0x57d77d(0xc4),_0x57d77d(0x18c),_0x57d77d(0xad),_0x4e09f4(0x193),_0x57d77d(0xbb),_0x57d77d(0xae),_0x57d77d(0x190),_0x14f5af(0x1df),_0x4e09f4(0x129),_0x57d77d(0x194),_0x57d77d(0xe8),_0x57d77d(0x1d6),_0x57d77d(0x115),_0x4e09f4(0x13c),_0x57d77d(0x150),_0x57d77d(0xac),_0x57d77d(0x1bf),_0x4e09f4(0xd8),_0x57d77d(0x16b),_0x14f5af(0x1d4),_0x57d77d(0x18f),_0x57d77d(0xdc),_0x57d77d(0x18b),_0x57d77d(0x1f7),_0x57d77d(0x15b),_0x57d77d(0xe3),_0x57d77d(0x1d5),_0x57d77d(0x1fd),_0x57d77d(0x14c),_0x57d77d(0x18e),_0x4e09f4(0x10f),_0x57d77d(0x1b1),_0x57d77d(0x14f),_0x4e09f4(0x101),_0x57d77d(0x14a),_0x57d77d(0x103),_0x57d77d(0x131),_0x4e09f4(0x198),_0x57d77d(0x158),_0x57d77d(0x134),_0x4e09f4(0x1d5),_0x57d77d(0x1cc),_0x57d77d(0xdb),_0x4e09f4(0xd4),_0x57d77d(0x14d),_0x57d77d(0x1b4),_0x57d77d(0xe1),_0x4e09f4(0x225),_0x4e09f4(0x15e),_0x57d77d(0x162),_0x57d77d(0xeb),_0x57d77d(0x1c2),_0x57d77d(0x16c),_0x57d77d(0x196),_0x57d77d(0xed),_0x57d77d(0x1fa),_0x4e09f4(0x1de),_0x57d77d(0xf5),_0x57d77d(0x187),_0x4e09f4(0x11d),_0x57d77d(0x10f),_0x57d77d(0x1a6),_0x4e09f4(0x1d2),_0x57d77d(0xb2),_0x57d77d(0x149),_0x57d77d(0x1d8),_0x57d77d(0x15a),_0x4e09f4(0x10a),_0x4e09f4(0x12b),_0x57d77d(0xf6),_0x57d77d(0x199),_0x57d77d(0x1e5),_0x4e09f4(0x1e2),_0x4e09f4(0xed),_0x57d77d(0x200),_0x57d77d(0x197),_0x4e09f4(0xe6),_0x57d77d(0x1ff),_0x57d77d(0xfe),_0x57d77d(0x1c8),_0x57d77d(0x16a),_0x57d77d(0x154),_0x57d77d(0xe4),_0x57d77d(0x126),_0x4e09f4(0x167),_0x57d77d(0x180),_0x57d77d(0x1bb),_0x4e09f4(0xf9),_0x57d77d(0x1d0),_0x57d77d(0xd6),_0x4e09f4(0x204),_0x4e09f4(0x158),_0x57d77d(0x170),_0x14f5af(0x1a7),_0x57d77d(0x119),_0x57d77d(0x152),_0x57d77d(0x18d),_0x57d77d(0x123),_0x57d77d(0xf9),_0x57d77d(0x1b9),_0x57d77d(0xfa),_0x4e09f4(0x130),_0x57d77d(0x1ab),_0x57d77d(0x135),_0x4e09f4(0x13e),_0x57d77d(0xc5),_0x57d77d(0x13b),_0x57d77d(0xfc),_0x57d77d(0x1f6),_0x57d77d(0x136),_0x4e09f4(0xf4),_0x57d77d(0x117),_0x57d77d(0x17a),_0x57d77d(0xf3),_0x57d77d(0xea),_0x57d77d(0x155),_0x4e09f4(0x1fa),_0x4e09f4(0x17b),_0x57d77d(0x1fe),_0x14f5af(0x16b),_0x4e09f4(0x1e0),_0x57d77d(0x122),_0x57d77d(0x11a),_0x4e09f4(0x142),_0x57d77d(0x16d),_0x57d77d(0x160),_0x57d77d(0x1da),_0x57d77d(0x1e0),_0x4e09f4(0x1e5),_0x57d77d(0x139),_0x57d77d(0x146),_0x4e09f4(0x182),_0x14f5af(0x116),_0x57d77d(0x19d),_0x4e09f4(0x149),_0x4e09f4(0xcd),_0x57d77d(0x100),_0x4e09f4(0x131),_0x57d77d(0x16f),_0x14f5af(0xde),_0x57d77d(0x17d),_0x57d77d(0x138),_0x57d77d(0xef),_0x57d77d(0x13f),_0x57d77d(0x198),_0x57d77d(0x145),_0x57d77d(0xcf),_0x4e09f4(0xd9),_0x4e09f4(0x1f7),_0x57d77d(0x1e2),_0x57d77d(0x1c3),_0x57d77d(0x118),_0x57d77d(0x1dc),_0x57d77d(0xfd),_0x4e09f4(0x114),_0x57d77d(0x1eb),_0x57d77d(0xda),_0x57d77d(0x1e3),_0x4e09f4(0x155),_0x57d77d(0xba),_0x57d77d(0x167),_0x57d77d(0x120),_0x57d77d(0x13a),_0x4e09f4(0x11c),_0x57d77d(0x182),_0x4e09f4(0x220),_0x57d77d(0x1de),_0x57d77d(0x11c),_0x57d77d(0xbe),_0x57d77d(0x1ee),_0x57d77d(0x13c),_0x57d77d(0xc3),_0x4e09f4(0x1e4),_0x57d77d(0x12b),_0x57d77d(0x159),_0x57d77d(0xbf),_0x57d77d(0x1d9),_0x57d77d(0x121),_0x57d77d(0x15f),_0x57d77d(0xb5),_0x57d77d(0xb7),_0x4e09f4(0x144),_0x57d77d(0x164),_0x57d77d(0xce),_0x14f5af(0xfa),_0x57d77d(0x1b6),_0x57d77d(0x1a7),_0x14f5af(0xdd),_0x57d77d(0xd3),_0x57d77d(0x132),_0x4e09f4(0x1e7),_0x57d77d(0x1f5),_0x4e09f4(0x10b),_0x57d77d(0x174),_0x57d77d(0xf7),_0x57d77d(0xc7),_0x57d77d(0x156),_0x4e09f4(0xf6),_0x57d77d(0x11d),_0x57d77d(0xd5),_0x57d77d(0xe5),_0x57d77d(0x1b3),_0x57d77d(0xb6),_0x57d77d(0x17e),_0x57d77d(0x1bc),_0x4e09f4(0x151),_0x57d77d(0x17c),_0x57d77d(0x186),_0x57d77d(0x14e),_0x4e09f4(0x145),_0x14f5af(0x117),_0x4e09f4(0xee),_0x57d77d(0xb4),_0x57d77d(0xab),_0x57d77d(0x1ac),_0x57d77d(0x1dd),_0x57d77d(0x183),_0x57d77d(0x16e),_0x57d77d(0x10b),_0x57d77d(0x161),_0x57d77d(0x1b2),_0x57d77d(0x1df),_0x4e09f4(0x207),_0x57d77d(0xd1),_0x57d77d(0xe9),'globalAlpha',_0x4e09f4(0x126),_0x57d77d(0x19c),_0x57d77d(0x111),_0x14f5af(0x1e9),_0x4e09f4(0x139),_0x57d77d(0x184),_0x57d77d(0x141),_0x4e09f4(0x128),_0x4e09f4(0x1a7),_0x57d77d(0x189),_0x57d77d(0x1a9),_0x57d77d(0x1ec),_0x4e09f4(0x105),_0x57d77d(0xb0),_0x57d77d(0xf0),_0x57d77d(0x143),_0x57d77d(0xcb),_0x57d77d(0x1ea),_0x57d77d(0xb8),_0x57d77d(0xca),_0x57d77d(0x1b5),_0x4e09f4(0x1cb),_0x57d77d(0x1cd),_0x57d77d(0x124),_0x57d77d(0x1d1),_0x57d77d(0x1af),_0x57d77d(0x175),_0x57d77d(0x185),_0x4e09f4(0xd2),_0x57d77d(0x1f1),_0x57d77d(0xd8),_0x4e09f4(0x100),_0x57d77d(0x1a8),_0x57d77d(0x1c6),_0x4e09f4(0x18b),_0x57d77d(0x1d3),_0x4e09f4(0x1a2),_0x57d77d(0xbc),_0x57d77d(0xdd),_0x57d77d(0x1f3),_0x4e09f4(0xe4),_0x57d77d(0x128),_0x4e09f4(0x127),_0x4e09f4(0x1b3),_0x4e09f4(0x1f4),_0x57d77d(0x1b7),_0x57d77d(0x107),_0x57d77d(0x125),_0x57d77d(0xfb),_0x14f5af(0xe0),_0x57d77d(0x12d),_0x4e09f4(0x1fd),_0x57d77d(0x19b),_0x57d77d(0x163),_0x4e09f4(0x1aa),_0x57d77d(0x1a4),_0x57d77d(0x10c),_0x14f5af(0x14d),_0x57d77d(0x130),_0x57d77d(0x1f8),_0x57d77d(0xec),_0x57d77d(0x10a),_0x57d77d(0x148),_0x57d77d(0x112),_0x57d77d(0x101),_0x57d77d(0xdf)];return a0_0x243d=function(){return _0x3b0d6b;},a0_0x243d();}function drawDotTouch(_0x541f8c,_0x23749f){const _0x47b09d=a0_0x111e,_0x4358a6=a0_0x35c9,_0x328423=a0_0x56c5,_0x16e091=a0_0x5049d9,_0x62ed0d=a0_0x38aafa;let _0xd71611=getCurrentProject(),_0xea3c5c=getCurrentFrame();if(_0x541f8c<0x0||_0x23749f<0x0||_0x541f8c>=_0xd71611[_0x62ed0d(0x1b8)]||_0x23749f>=_0xd71611[_0x62ed0d(0x27c)])return;let _0x1cf937=_0xea3c5c[_0x62ed0d(0x262)][_0xea3c5c[_0x62ed0d(0x1b5)]][_0x328423(0xee)]('2d');if(currentTool===_0x4358a6(0x120)||currentColor===_0x4358a6(0x15a)||currentColor===_0x62ed0d(0x25c)||currentAlpha===0x0)drawPenShape(_0x1cf937,_0x541f8c,_0x23749f,_0x62ed0d(0x25c),!![]);else{let _0x46f8fc=hexToRgba(currentColor,currentAlpha);_0x1cf937[_0x62ed0d(0x1fe)](),_0x1cf937[_0x62ed0d(0x2a0)]=_0x46f8fc[0x3]/0xff,drawPenShape(_0x1cf937,_0x541f8c,_0x23749f,_0x16e091(0x12a)+_0x46f8fc[0x0]+','+_0x46f8fc[0x1]+','+_0x46f8fc[0x2]+','+_0x46f8fc[0x3]/0xff+')',![]),_0x1cf937[_0x47b09d(0x1de)]();}redrawAll();}function applyTheme(_0x1ef682){const _0xbad8bd=a0_0x5049d9,_0x584610=a0_0x38aafa;document[_0x584610(0x199)][_0x584610(0x2b4)](_0x584610(0x206),_0x1ef682);const _0x5d4ab1=document[_0x584610(0x275)](_0x584610(0x189));_0x5d4ab1&&(_0x5d4ab1[_0xbad8bd(0x154)]=_0x1ef682===_0xbad8bd(0x122)?'☀️':'🌙',_0x5d4ab1[_0x584610(0x2b4)](_0x584610(0x2a9),_0x1ef682===_0xbad8bd(0x122)),_0x5d4ab1[_0xbad8bd(0x124)]=_0x1ef682===_0x584610(0x2ee)?_0xbad8bd(0x1ee):_0x584610(0x1d0)),localStorage[_0x584610(0x1fc)](_0x584610(0x1a4),_0x1ef682);}function toggleTheme(){const _0xe522e6=a0_0x5049d9,_0x3b5a87=a0_0x38aafa;applyTheme(document[_0xe522e6(0x15e)][_0xe522e6(0xe2)](_0x3b5a87(0x206))===_0x3b5a87(0x2ee)?_0x3b5a87(0x21b):_0x3b5a87(0x2ee));}(function initTheme(){const _0x27f5fb=a0_0x56c5,_0x1f619e=a0_0x5049d9,_0x2cb852=a0_0x38aafa,_0x5875ec=localStorage[_0x2cb852(0x1d5)](_0x2cb852(0x1a4))||(window[_0x1f619e(0xe3)]&&window[_0x2cb852(0x2af)](_0x2cb852(0x208))[_0x27f5fb(0xd9)]?_0x1f619e(0x122):_0x2cb852(0x21b));applyTheme(_0x5875ec),document[_0x2cb852(0x21d)](_0x2cb852(0x293),()=>{const _0xa9ef5c=_0x27f5fb,_0x28df15=_0x2cb852,_0x45235e=document[_0x28df15(0x275)](_0x28df15(0x189));_0x45235e&&(_0x45235e[_0x28df15(0x21d)](_0xa9ef5c(0xab),toggleTheme),_0x45235e[_0x28df15(0x21d)](_0x28df15(0x1cc),_0x5103d8=>{const _0x254d6d=_0x28df15;(_0x5103d8[_0x254d6d(0x2c5)]===_0x254d6d(0x276)||_0x5103d8[_0x254d6d(0x2c5)]==='\x20')&&(_0x5103d8[_0x254d6d(0x1ce)](),toggleTheme());}));});}(),window[a0_0x521960(0x14d)]=()=>{const _0xc5438e=a0_0x521960,_0x3eb3f1=a0_0x5049d9,_0x19ec21=a0_0x38aafa;projects=[createProject()],activeProject=0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),initCanvas(),setTool(_0x3eb3f1(0x238)),loadPaletteFromDB()[_0x19ec21(0x17f)](()=>createPalette()),document[_0xc5438e(0x182)](_0xc5438e(0x191))[_0x19ec21(0x24e)]=penSize,document[_0x19ec21(0x275)](_0x3eb3f1(0xf4))[_0x19ec21(0x24e)]=penMode;const _0x3fa2c6=document[_0x19ec21(0x275)](_0x19ec21(0x229)),_0x2c2488=document[_0x19ec21(0x275)](_0x19ec21(0x205));_0x3fa2c6&&_0x2c2488&&(_0x3fa2c6[_0x3eb3f1(0x12e)]=animationDelay,_0x2c2488[_0x19ec21(0x24e)]=animationDelay,_0x3fa2c6[_0x19ec21(0x28a)]=_0x2264d9=>{const _0x3d27a2=_0x3eb3f1,_0x44219f=_0x19ec21;_0x2c2488[_0x3d27a2(0x12e)]=_0x2264d9[_0x44219f(0x2e5)][_0x44219f(0x24e)],setAnimationDelay(_0x2264d9[_0x44219f(0x2e5)][_0x44219f(0x24e)]);},_0x2c2488[_0x19ec21(0x222)]=_0xea5369=>{const _0x1337ab=_0xc5438e,_0x4f2c9e=_0x3eb3f1,_0x29a5fb=_0x19ec21;let _0x2160f0=Math[_0x29a5fb(0x2c3)](0xa,Math[_0x4f2c9e(0x18d)](0x1388,parseInt(_0xea5369[_0x29a5fb(0x2e5)][_0x1337ab(0x149)])||animationDelay));_0x3fa2c6[_0x29a5fb(0x24e)]=_0x2160f0,_0x2c2488[_0x4f2c9e(0x12e)]=_0x2160f0,setAnimationDelay(_0x2160f0);}),canvas[_0x19ec21(0x239)]=handleMouseMove,canvas[_0x19ec21(0x238)]=handleMouseUp,canvas[_0x19ec21(0x1b7)]=handleMouseUp,canvas[_0x19ec21(0x21a)]=handleTouchStart,canvas[_0x19ec21(0x267)]=handleTouchMove,canvas[_0x19ec21(0x212)]=handleTouchEnd,canvas[_0x19ec21(0x2ac)]=handleTouchEnd,canvas[_0x19ec21(0x21d)](_0x3eb3f1(0x1d8),handleTouchStart,{'passive':![]}),canvas[_0x19ec21(0x21d)](_0x19ec21(0x28f),handleTouchMove,{'passive':![]}),canvas[_0x3eb3f1(0x1a3)](_0x19ec21(0x1e1),handleTouchEnd,{'passive':![]}),canvas[_0x19ec21(0x21d)](_0x19ec21(0x1b6),handleTouchEnd,{'passive':![]}),idbGet(_0x19ec21(0x263))&&loadProjectFromIDB();});function drawGrid(_0x2ca733,_0x5418c0){const _0xa5e056=a0_0x521960,_0x3c088c=a0_0x5049d9,_0x1cbba1=a0_0x38aafa;ctx[_0x1cbba1(0x1fe)](),ctx[_0x1cbba1(0x2b5)]=_0x1cbba1(0x26b);for(let _0x2f737e=0x0;_0x2f737e<=_0x2ca733;_0x2f737e++){ctx[_0x1cbba1(0x2eb)](),ctx[_0x1cbba1(0x29e)](_0x2f737e*cellSize,0x0),ctx[_0xa5e056(0xae)](_0x2f737e*cellSize,_0x5418c0*cellSize),ctx[_0x3c088c(0x201)]();}for(let _0x54bff2=0x0;_0x54bff2<=_0x5418c0;_0x54bff2++){ctx[_0xa5e056(0x108)](),ctx[_0x1cbba1(0x29e)](0x0,_0x54bff2*cellSize),ctx[_0x3c088c(0xf3)](_0x2ca733*cellSize,_0x54bff2*cellSize),ctx[_0x1cbba1(0x2d9)]();}ctx[_0x1cbba1(0x2df)]();}function redrawAll(){const _0x291c47=a0_0x521960,_0x435634=a0_0x5049d9,_0x53fcd0=a0_0x38aafa;let _0xeaf590=getCurrentProject(),_0x1aa429=getCurrentFrame();canvas[_0x53fcd0(0x1b8)]=_0xeaf590[_0x53fcd0(0x1b8)]*cellSize,canvas[_0x53fcd0(0x27c)]=_0xeaf590[_0x53fcd0(0x27c)]*cellSize,ctx[_0x435634(0x172)](0x0,0x0,canvas[_0x53fcd0(0x1b8)],canvas[_0x291c47(0x1ff)]);for(let _0x2c78ba=0x0;_0x2c78ba<_0x1aa429[_0x53fcd0(0x262)][_0x435634(0xf5)];_0x2c78ba++){ctx[_0x435634(0x230)](_0x1aa429[_0x53fcd0(0x262)][_0x2c78ba],0x0,0x0);}drawGrid(_0xeaf590[_0x435634(0x190)],_0xeaf590[_0x53fcd0(0x27c)]),wrapper&&(wrapper[_0x53fcd0(0x1f8)][_0x435634(0x190)]=_0x53fcd0(0x2d3),wrapper[_0x53fcd0(0x1f8)][_0x53fcd0(0x27c)]=_0x53fcd0(0x1ae));}function saveHistory(){const _0x45b36b=a0_0x521960,_0x51cdf5=a0_0x5049d9,_0x37fbf6=a0_0x38aafa;let _0x2faca1=getCurrentFrame(),_0x7e8ac=_0x2faca1[_0x37fbf6(0x29c)][_0x2faca1[_0x37fbf6(0x1b5)]];_0x7e8ac[_0x51cdf5(0x19e)](_0x2faca1[_0x37fbf6(0x262)][_0x2faca1[_0x37fbf6(0x1b5)]][_0x45b36b(0xd5)]());if(_0x7e8ac[_0x37fbf6(0x1c4)]>0x32)_0x7e8ac[_0x37fbf6(0x1d7)]();_0x2faca1[_0x37fbf6(0x2d0)][_0x2faca1[_0x51cdf5(0x215)]]=[];}function undo(){const _0xddccc1=a0_0x521960,_0x395883=a0_0x5049d9,_0x1fc561=a0_0x38aafa;let _0x24a858=getCurrentFrame(),_0x2e7764=_0x24a858[_0x1fc561(0x29c)][_0x24a858[_0x395883(0x215)]],_0xb3ce4a=_0x24a858[_0x1fc561(0x2d0)][_0x24a858[_0x1fc561(0x1b5)]];if(!_0x2e7764||_0x2e7764[_0x1fc561(0x1c4)]<0x2)return;_0xb3ce4a[_0x395883(0x19e)](_0x2e7764[_0xddccc1(0xbd)]());let _0x116c98=new Image();_0x116c98[_0x1fc561(0x185)]=()=>{const _0x266240=_0x395883,_0x587c53=_0x1fc561;let _0x5a8b6b=_0x24a858[_0x587c53(0x262)][_0x24a858[_0x587c53(0x1b5)]][_0x587c53(0x2c6)]('2d');_0x5a8b6b[_0x587c53(0x22d)](0x0,0x0,_0x24a858[_0x587c53(0x262)][_0x24a858[_0x266240(0x215)]][_0x587c53(0x1b8)],_0x24a858[_0x587c53(0x262)][_0x24a858[_0x587c53(0x1b5)]][_0x587c53(0x27c)]),_0x5a8b6b[_0x266240(0x230)](_0x116c98,0x0,0x0),redrawAll();},_0x116c98[_0x395883(0x1ec)]=_0x2e7764[_0x2e7764[_0xddccc1(0xd7)]-0x1];}function redo(){const _0x4ac4d8=a0_0x5049d9,_0x33b50c=a0_0x38aafa;let _0x1ee672=getCurrentFrame(),_0x2eaa87=_0x1ee672[_0x4ac4d8(0x195)][_0x1ee672[_0x4ac4d8(0x215)]],_0x342e87=_0x1ee672[_0x4ac4d8(0x179)][_0x1ee672[_0x4ac4d8(0x215)]];if(!_0x342e87||_0x342e87[_0x4ac4d8(0xf5)]===0x0)return;let _0x10826e=_0x342e87[_0x33b50c(0x1ea)]();_0x2eaa87[_0x4ac4d8(0x19e)](_0x10826e);let _0x8bee7b=new Image();_0x8bee7b[_0x33b50c(0x185)]=()=>{const _0x1e2eeb=a0_0x56c5,_0x49fc39=_0x4ac4d8,_0x5f4d17=_0x33b50c;let _0x59d820=_0x1ee672[_0x49fc39(0x13d)][_0x1ee672[_0x5f4d17(0x1b5)]][_0x5f4d17(0x2c6)]('2d');_0x59d820[_0x5f4d17(0x22d)](0x0,0x0,_0x1ee672[_0x5f4d17(0x262)][_0x1ee672[_0x5f4d17(0x1b5)]][_0x1e2eeb(0x13a)],_0x1ee672[_0x49fc39(0x13d)][_0x1ee672[_0x49fc39(0x215)]][_0x5f4d17(0x27c)]),_0x59d820[_0x5f4d17(0x1ff)](_0x8bee7b,0x0,0x0),redrawAll();},_0x8bee7b[_0x33b50c(0x1b3)]=_0x10826e;}function exportImage(_0x5419ac){const _0x5d7337=a0_0x521960,_0x6d211d=a0_0x5049d9,_0x4137bc=a0_0x38aafa;let _0x278692=getCurrentProject(),_0x4afaa0=_0x278692[_0x4137bc(0x2b3)],_0x31aeaa=_0x5419ac===_0x4137bc(0x248)||_0x5419ac===_0x4137bc(0x242)?_0x4137bc(0x18a):_0x4137bc(0x203)+_0x5419ac,_0x308335=_0x4afaa0[_0x4137bc(0x1c4)]>0x1,_0x14e81d=(_0x278692[_0x4137bc(0x2e6)]||_0x4137bc(0x200))[_0x4137bc(0x27d)](/[\\/:*?"<>|]/g,'_');if(!_0x308335){let _0x44f7f8=document[_0x4137bc(0x1d6)](_0x4137bc(0x19d));_0x44f7f8[_0x6d211d(0x190)]=_0x278692[_0x4137bc(0x1b8)]*cellSize,_0x44f7f8[_0x5d7337(0x1ff)]=_0x278692[_0x4137bc(0x27c)]*cellSize;let _0x3ba4be=_0x44f7f8[_0x6d211d(0x162)]('2d'),_0x5c3687=getCurrentFrame();for(let _0x16d04a=0x0;_0x16d04a<_0x5c3687[_0x4137bc(0x262)][_0x4137bc(0x1c4)];_0x16d04a++){_0x3ba4be[_0x6d211d(0x230)](_0x5c3687[_0x4137bc(0x262)][_0x16d04a],0x0,0x0);}let _0x188154=document[_0x4137bc(0x1d6)]('a');_0x188154[_0x4137bc(0x215)]=_0x14e81d+'.'+_0x5419ac,_0x5419ac===_0x4137bc(0x248)||_0x5419ac===_0x6d211d(0x1dd)?_0x188154[_0x6d211d(0x1a4)]=_0x44f7f8[_0x4137bc(0x1df)](_0x31aeaa,0.92):_0x188154[_0x4137bc(0x1c8)]=_0x44f7f8[_0x4137bc(0x1df)](_0x31aeaa),_0x188154[_0x6d211d(0x1c3)]();}else{if(_0x5419ac===_0x4137bc(0x1bf)&&typeof window[_0x4137bc(0x2da)]!==_0x4137bc(0x225))exportWebpAnimation(_0x4afaa0,_0x278692[_0x4137bc(0x1b8)]*cellSize,_0x278692[_0x4137bc(0x27c)]*cellSize,_0x14e81d);else for(let _0x56d5b7=0x0;_0x56d5b7<_0x4afaa0[_0x4137bc(0x1c4)];_0x56d5b7++){let _0x3e9967=document[_0x4137bc(0x1d6)](_0x4137bc(0x19d));_0x3e9967[_0x4137bc(0x1b8)]=_0x278692[_0x4137bc(0x1b8)]*cellSize,_0x3e9967[_0x4137bc(0x27c)]=_0x278692[_0x4137bc(0x27c)]*cellSize;let _0x14f8e3=_0x3e9967[_0x6d211d(0x162)]('2d'),_0x2b65ed=_0x4afaa0[_0x56d5b7];for(let _0x170f5c=0x0;_0x170f5c<_0x2b65ed[_0x4137bc(0x262)][_0x4137bc(0x1c4)];_0x170f5c++){_0x14f8e3[_0x4137bc(0x1ff)](_0x2b65ed[_0x6d211d(0x13d)][_0x170f5c],0x0,0x0);}let _0x4fc5d6=document[_0x4137bc(0x1d6)]('a');_0x4fc5d6[_0x4137bc(0x215)]=_0x14e81d+'-f'+(_0x56d5b7+0x1)+'.'+_0x5419ac,_0x5419ac===_0x4137bc(0x248)||_0x5419ac===_0x4137bc(0x242)?_0x4fc5d6[_0x6d211d(0x1a4)]=_0x3e9967[_0x4137bc(0x1df)](_0x31aeaa,0.92):_0x4fc5d6[_0x4137bc(0x1c8)]=_0x3e9967[_0x6d211d(0x1b5)](_0x31aeaa),setTimeout(()=>_0x4fc5d6[_0x4137bc(0x2ed)](),_0x56d5b7*0x64);}}}async function exportWebpAnimation(_0x319179,_0x2b73c1,_0x56c049,_0x58b836=a0_0x38aafa(0x21f)){const _0x405f8e=a0_0x521960,_0x53ec01=a0_0x5049d9,_0x3f5236=a0_0x38aafa;if(!window[_0x3f5236(0x2da)]||!window[_0x3f5236(0x194)]){alert(_0x3f5236(0x27b));return;}const _0x447a0d=[],_0x7a6aa5=new VideoEncoder({'output':_0x5dbf5d=>_0x447a0d[_0x3f5236(0x278)](_0x5dbf5d),'error':_0x2d7f10=>console[_0x53ec01(0x1e8)](_0x2d7f10)});_0x7a6aa5[_0x3f5236(0x2a8)]({'codec':_0x3f5236(0x2d2),'width':_0x2b73c1,'height':_0x56c049,'framerate':0x5});for(let _0x5164d8=0x0;_0x5164d8<_0x319179[_0x53ec01(0xf5)];_0x5164d8++){let _0x1f7f7c=document[_0x3f5236(0x1d6)](_0x3f5236(0x19d));_0x1f7f7c[_0x3f5236(0x1b8)]=_0x2b73c1,_0x1f7f7c[_0x3f5236(0x27c)]=_0x56c049;let _0x34fb97=_0x1f7f7c[_0x3f5236(0x2c6)]('2d'),_0x30aa2d=_0x319179[_0x5164d8];for(let _0x7ff487=0x0;_0x7ff487<_0x30aa2d[_0x3f5236(0x262)][_0x53ec01(0xf5)];_0x7ff487++){_0x34fb97[_0x3f5236(0x1ff)](_0x30aa2d[_0x3f5236(0x262)][_0x7ff487],0x0,0x0);}let _0x22e4f6=await createImageBitmap(_0x1f7f7c);_0x7a6aa5[_0x3f5236(0x1e2)](_0x22e4f6,{'keyFrame':!![],'duration':0xc8}),_0x22e4f6[_0x3f5236(0x2e3)]();}await _0x7a6aa5[_0x3f5236(0x209)](),_0x7a6aa5[_0x3f5236(0x2e3)]();const _0x243cf0=new Blob(_0x447a0d[_0x3f5236(0x294)](_0x284be0=>_0x284be0[_0x3f5236(0x2c8)]?_0x284be0:_0x284be0[_0x3f5236(0x261)]),{'type':_0x405f8e(0x193)}),_0x3170d7=document[_0x3f5236(0x1d6)]('a');_0x3170d7[_0x3f5236(0x215)]=_0x58b836+_0x3f5236(0x257),_0x3170d7[_0x3f5236(0x1c8)]=URL[_0x3f5236(0x201)](_0x243cf0),_0x3170d7[_0x3f5236(0x2ed)]();}function exportGif(){const _0x5cae7c=a0_0x38aafa;let _0x4a4d49=getCurrentProject(),_0x2a45af=_0x4a4d49[_0x5cae7c(0x2b3)],_0x4fb750=_0x4a4d49[_0x5cae7c(0x1b8)]*cellSize,_0x537ddd=_0x4a4d49[_0x5cae7c(0x27c)]*cellSize;const _0xe33ba9=_0x2a45af[_0x5cae7c(0x294)](_0xfeed96=>{const _0x3aabcf=a0_0x3f33,_0x4c3d20=a0_0xce2f,_0x5d79c7=_0x5cae7c;let _0x469cb8=document[_0x4c3d20(0x1f6)](_0x3aabcf(0x183));_0x469cb8[_0x5d79c7(0x1b8)]=_0x4fb750,_0x469cb8[_0x5d79c7(0x27c)]=_0x537ddd;let _0x201885=_0x469cb8[_0x4c3d20(0x162)]('2d');for(let _0x512594=0x0;_0x512594<_0xfeed96[_0x5d79c7(0x262)][_0x4c3d20(0xf5)];_0x512594++){_0x201885[_0x5d79c7(0x1ff)](_0xfeed96[_0x5d79c7(0x262)][_0x512594],0x0,0x0);}return _0x469cb8[_0x5d79c7(0x1df)](_0x5d79c7(0x1fa));});Promise[_0x5cae7c(0x25a)](_0xe33ba9[_0x5cae7c(0x294)](_0x47f76e=>{return new Promise(_0x4d86c6=>{const _0x36c54b=a0_0x1925,_0x138b3f=new Image();_0x138b3f[_0x36c54b(0x1b3)]=_0x47f76e,_0x138b3f[_0x36c54b(0x185)]=()=>_0x4d86c6(_0x138b3f);});}))[_0x5cae7c(0x17f)](_0x480aa4=>{const _0xa5eb66=a0_0xce2f,_0x61af73=_0x5cae7c,_0x3b5013=_0x480aa4[_0x61af73(0x268)](_0x314f08=>_0x314f08[_0x61af73(0x1b8)]>0x0&&_0x314f08[_0x61af73(0x27c)]>0x0);if(_0x3b5013[_0xa5eb66(0xf5)]===0x0){alert(_0x61af73(0x1fb));return;}const _0x4a37d4=(_0x4a4d49[_0x61af73(0x2e6)]||_0x61af73(0x21f))[_0x61af73(0x27d)](/[\\/:*?"<>|]/g,'_');convertToGIF(_0x3b5013,animationDelay,_0x4a37d4+_0x61af73(0x2d1));});}function exportApng(){const _0x14a9d5=a0_0x35c9,_0x52f36f=a0_0x5049d9,_0x13295f=a0_0x38aafa;let _0x5e397b=getCurrentProject(),_0x357449=_0x5e397b[_0x13295f(0x2b3)],_0x2d2699=_0x5e397b[_0x13295f(0x1b8)]*cellSize,_0x349562=_0x5e397b[_0x14a9d5(0x118)]*cellSize;const _0x3c5ee4=_0x357449[_0x13295f(0x294)](_0x5235f4=>{const _0x29f98d=a0_0xce2f,_0x3a1109=_0x13295f;let _0x1526b9=document[_0x3a1109(0x1d6)](_0x3a1109(0x19d));_0x1526b9[_0x29f98d(0x190)]=_0x2d2699,_0x1526b9[_0x3a1109(0x27c)]=_0x349562;let _0x48b399=_0x1526b9[_0x29f98d(0x162)]('2d');for(let _0x529ee6=0x0;_0x529ee6<_0x5235f4[_0x3a1109(0x262)][_0x3a1109(0x1c4)];_0x529ee6++){_0x48b399[_0x29f98d(0x230)](_0x5235f4[_0x3a1109(0x262)][_0x529ee6],0x0,0x0);}let _0x4af28c=new Image();return _0x4af28c[_0x3a1109(0x1b3)]=_0x1526b9[_0x29f98d(0x1b5)](_0x3a1109(0x1fa)),_0x4af28c;}),_0x3a61ab=(_0x5e397b[_0x52f36f(0x1c1)]||_0x13295f(0x21f))[_0x13295f(0x27d)](/[\\/:*?"<>|]/g,'_');convertToAPNG(_0x3c5ee4,_0x2d2699,_0x349562,animationDelay,_0x3a61ab+_0x13295f(0x274));}const dbName=a0_0x38aafa(0x292),storeName=a0_0x38aafa(0x22e);function openDB(){return new Promise((_0x2c71da,_0x293dda)=>{const _0x4c5a02=a0_0x56c5,_0x123b0e=a0_0xce2f,_0xffd304=a0_0x1925,_0x251999=indexedDB[_0x123b0e(0x144)](dbName,0x1);_0x251999[_0xffd304(0x273)]=()=>{const _0x2f39bc=a0_0x35c9,_0xd73b59=_0x123b0e;_0x251999[_0xd73b59(0x219)][_0x2f39bc(0x173)](storeName);},_0x251999[_0x4c5a02(0xcc)]=()=>_0x2c71da(_0x251999[_0x123b0e(0x219)]),_0x251999[_0xffd304(0x1c5)]=()=>_0x293dda(_0x251999[_0xffd304(0x181)]);});}async function idbSet(_0x4a74ef,_0x57a174){const _0x1f3130=await openDB();return new Promise((_0x342b66,_0x2f9e43)=>{const _0x3836c7=a0_0xce2f,_0x3bf099=a0_0x1925,_0x7f884f=_0x1f3130[_0x3bf099(0x27f)](storeName,_0x3bf099(0x259));_0x7f884f[_0x3bf099(0x226)](storeName)[_0x3bf099(0x297)](_0x57a174,_0x4a74ef),_0x7f884f[_0x3bf099(0x2a3)]=()=>_0x342b66(),_0x7f884f[_0x3836c7(0x149)]=()=>_0x2f9e43(_0x7f884f[_0x3836c7(0x1e8)]);});}async function idbGet(_0x2d5677){const _0x2deaf3=await openDB();return new Promise((_0x2f622c,_0x533db2)=>{const _0x225ce6=a0_0xce2f,_0x46ec03=a0_0x1925,_0xd6f07e=_0x2deaf3[_0x46ec03(0x27f)](storeName,_0x46ec03(0x223)),_0x5de7c4=_0xd6f07e[_0x46ec03(0x226)](storeName)[_0x46ec03(0x2b8)](_0x2d5677);_0x5de7c4[_0x46ec03(0x260)]=()=>_0x2f622c(_0x5de7c4[_0x225ce6(0x219)]),_0x5de7c4[_0x46ec03(0x1c5)]=()=>_0x533db2(_0x5de7c4[_0x46ec03(0x181)]);});}async function idbDelete(_0xdfb67e){const _0x98ea92=await openDB();return new Promise((_0x1425e0,_0x3f6b43)=>{const _0x3e50d4=a0_0x56c5,_0x690ea1=a0_0xce2f,_0x259fc6=a0_0x1925,_0x44aa3f=_0x98ea92[_0x690ea1(0x13f)](storeName,_0x690ea1(0x130));_0x44aa3f[_0x259fc6(0x226)](storeName)[_0x3e50d4(0x109)](_0xdfb67e),_0x44aa3f[_0x259fc6(0x2a3)]=()=>_0x1425e0(),_0x44aa3f[_0x259fc6(0x1c5)]=()=>_0x3f6b43(_0x44aa3f[_0x690ea1(0x1e8)]);});}async function idbClear(){const _0x5f7003=await openDB();return new Promise((_0x138a78,_0x4e6ac3)=>{const _0x2a318c=a0_0x56c5,_0x104c30=a0_0xce2f,_0x343471=a0_0x1925,_0x194141=_0x5f7003[_0x343471(0x27f)](storeName,_0x343471(0x259));_0x194141[_0x343471(0x226)](storeName)[_0x343471(0x1e0)](),_0x194141[_0x104c30(0x220)]=()=>_0x138a78(),_0x194141[_0x343471(0x1c5)]=()=>_0x4e6ac3(_0x194141[_0x2a318c(0x1d1)]);});}function saveProjectFile(){const _0x483629=a0_0x521960,_0x36a1da=a0_0x5049d9,_0x57a33d=a0_0x38aafa,_0x4a5bd3={'projects':projects[_0x57a33d(0x294)](_0x624f78=>({'width':_0x624f78[_0x57a33d(0x1b8)],'height':_0x624f78[_0x57a33d(0x27c)],'name':_0x624f78[_0x57a33d(0x2e6)]||'','activeFrame':_0x624f78[_0x57a33d(0x2a5)],'frames':_0x624f78[_0x57a33d(0x2b3)][_0x57a33d(0x294)](_0x1b4420=>({'activeLayer':_0x1b4420[_0x57a33d(0x1b5)],'layers':_0x1b4420[_0x36a1da(0x13d)][_0x57a33d(0x294)](_0x5afd09=>_0x5afd09[_0x57a33d(0x1df)]())}))})),'activeProject':activeProject},_0x248930=new Blob([JSON[_0x57a33d(0x1e5)](_0x4a5bd3)],{'type':_0x57a33d(0x299)}),_0xd67040=document[_0x57a33d(0x1d6)]('a');_0xd67040[_0x483629(0xf0)]=_0x36a1da(0x1d9),_0xd67040[_0x57a33d(0x1c8)]=URL[_0x57a33d(0x201)](_0x248930),_0xd67040[_0x57a33d(0x2ed)]();}function a0_0x1925(_0x258ec8,_0xaf0613){_0x258ec8=_0x258ec8-0x17d;const _0x554456=a0_0x5ad1();let _0x538305=_0x554456[_0x258ec8];return _0x538305;}function saveProjectFile(){const _0xa7c012=a0_0x5049d9,_0x3546ff=a0_0x38aafa,_0x5dd2ab={'projects':projects[_0x3546ff(0x294)](_0x2183e9=>({'width':_0x2183e9[_0xa7c012(0x190)],'height':_0x2183e9[_0x3546ff(0x27c)],'name':_0x2183e9[_0x3546ff(0x2e6)]||'','activeFrame':_0x2183e9[_0x3546ff(0x2a5)],'frames':_0x2183e9[_0x3546ff(0x2b3)][_0x3546ff(0x294)](_0x389c4e=>({'activeLayer':_0x389c4e[_0x3546ff(0x1b5)],'layers':_0x389c4e[_0x3546ff(0x262)][_0x3546ff(0x294)](_0x457d89=>_0x457d89[_0x3546ff(0x1df)]())}))})),'activeProject':activeProject},_0xe48a97=new Blob([JSON[_0x3546ff(0x1e5)](_0x5dd2ab)],{'type':_0x3546ff(0x299)}),_0x5a64ab=document[_0x3546ff(0x1d6)]('a');_0x5a64ab[_0x3546ff(0x215)]=_0x3546ff(0x2bf),_0x5a64ab[_0x3546ff(0x1c8)]=URL[_0x3546ff(0x201)](_0xe48a97),_0x5a64ab[_0x3546ff(0x2ed)]();}async function saveProjectToIDB(){const _0x169b68=a0_0x5049d9,_0x526168=a0_0x38aafa,_0x3f1ad3={'projects':projects[_0x169b68(0x18f)](_0x6a3d32=>({'width':_0x6a3d32[_0x526168(0x1b8)],'height':_0x6a3d32[_0x526168(0x27c)],'name':_0x6a3d32[_0x526168(0x2e6)]||'','activeFrame':_0x6a3d32[_0x526168(0x2a5)],'frames':_0x6a3d32[_0x526168(0x2b3)][_0x526168(0x294)](_0x5f079d=>({'activeLayer':_0x5f079d[_0x526168(0x1b5)],'layers':_0x5f079d[_0x526168(0x262)][_0x169b68(0x18f)](_0x28e7be=>_0x28e7be[_0x526168(0x1df)]())}))})),'activeProject':activeProject};try{await idbSet(_0x169b68(0x11b),_0x3f1ad3),console[_0x169b68(0x1a0)](_0x526168(0x21c));}catch(_0x18bfb4){console[_0x526168(0x181)](_0x169b68(0x133),_0x18bfb4);}}setInterval(()=>{saveProjectToIDB();},0x2710),window[a0_0x38aafa(0x21d)](a0_0x38aafa(0x22c),_0xe48e8=>{saveProjectToIDB();});function loadProjectFile(_0x12be6d){const _0x255512=a0_0x5049d9,_0x4805c7=a0_0x38aafa,_0x4402c7=_0x12be6d[_0x255512(0x1d3)][_0x4805c7(0x23c)][0x0];if(!_0x4402c7)return;if(_0x4402c7[_0x4805c7(0x17d)]&&_0x4402c7[_0x4805c7(0x17d)][_0x4805c7(0x1a3)](_0x255512(0xfd))){loadStandaloneFromFile(_0x4402c7)[_0x255512(0xf1)](_0x3a6615=>{const _0x326630=_0x4805c7;alert(_0x326630(0x283)+(_0x3a6615[_0x326630(0x2e6)]||'画像'));})[_0x4805c7(0x1c7)](_0x21667b=>{const _0x334322=_0x4805c7;console[_0x334322(0x2c1)](_0x21667b),alert(_0x334322(0x2d4));});return;}const _0x6076e5=new FileReader();_0x6076e5[_0x4805c7(0x185)]=function(_0x4883ce){const _0x5f332c=_0x4805c7;try{const _0x3b6009=JSON[_0x5f332c(0x288)](_0x4883ce[_0x5f332c(0x2e5)][_0x5f332c(0x192)]);projects=_0x3b6009[_0x5f332c(0x24f)][_0x5f332c(0x294)]((_0x2ab682,_0x9ee3cd)=>{const _0x2030ca=a0_0xce2f,_0x9d9c37=_0x5f332c;let _0x5061f3=createProject(_0x2ab682[_0x2030ca(0x190)],_0x2ab682[_0x9d9c37(0x27c)],_0x2ab682[_0x9d9c37(0x2e6)]||'画像'+(_0x9ee3cd+0x1));return _0x5061f3[_0x9d9c37(0x2b3)]=_0x2ab682[_0x2030ca(0x17f)][_0x9d9c37(0x294)](_0x9279d5=>{const _0x2f0e71=a0_0x56c5,_0x59f56c=_0x2030ca,_0x410e37=_0x9d9c37;let _0x5756d3={'layers':[],'activeLayer':_0x9279d5[_0x410e37(0x1b5)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x2f2993=0x0;_0x2f2993<_0x9279d5[_0x59f56c(0x13d)][_0x59f56c(0xf5)];_0x2f2993++){let _0xd3db20=new Image();_0xd3db20[_0x410e37(0x1b3)]=_0x9279d5[_0x410e37(0x262)][_0x2f2993];let _0x5ef185=document[_0x410e37(0x1d6)](_0x410e37(0x19d));_0x5ef185[_0x410e37(0x1b8)]=_0x2ab682[_0x410e37(0x1b8)]*cellSize,_0x5ef185[_0x2f0e71(0x1ff)]=_0x2ab682[_0x410e37(0x27c)]*cellSize,_0xd3db20[_0x410e37(0x185)]=()=>{const _0x9613e=_0x2f0e71,_0x3ad239=_0x410e37;let _0x4f66bb=_0x5ef185[_0x3ad239(0x2c6)]('2d');_0x4f66bb[_0x9613e(0x151)](0x0,0x0,_0x5ef185[_0x3ad239(0x1b8)],_0x5ef185[_0x3ad239(0x27c)]),_0x4f66bb[_0x3ad239(0x1ff)](_0xd3db20,0x0,0x0);},_0xd3db20[_0x2f0e71(0x14d)](),_0x5756d3[_0x410e37(0x262)][_0x410e37(0x278)](_0x5ef185),_0x5756d3[_0x59f56c(0x195)][_0x410e37(0x278)]([]),_0x5756d3[_0x410e37(0x2d0)][_0x410e37(0x278)]([]);}return _0x5756d3;}),_0x5061f3[_0x9d9c37(0x2a5)]=_0x2ab682[_0x2030ca(0x12c)],_0x5061f3[_0x2030ca(0x1c1)]=_0x2ab682[_0x9d9c37(0x2e6)]||'画像'+(_0x9ee3cd+0x1),_0x5061f3;}),activeProject=_0x3b6009[_0x5f332c(0x23d)]||0x0,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll();}catch(_0x565956){alert(_0x5f332c(0x211));}},_0x6076e5[_0x255512(0x197)](_0x4402c7);}async function loadProjectFromIDB(){const _0x912684=a0_0x35c9,_0xa2ae50=a0_0x521960,_0x200e51=a0_0x5049d9,_0x88995b=a0_0x38aafa;try{const _0x50a474=await idbGet(_0x88995b(0x2e9));if(!_0x50a474)return;projects=_0x50a474[_0xa2ae50(0x1b6)][_0x200e51(0x18f)]((_0x137c54,_0x318499)=>{const _0xcba17b=a0_0x3f33,_0x3ebe96=_0xa2ae50,_0x256d3a=_0x88995b;let _0x43860b=createProject(_0x137c54[_0x256d3a(0x1b8)],_0x137c54[_0x256d3a(0x27c)],_0x137c54[_0x3ebe96(0x179)]||'画像'+(_0x318499+0x1));return _0x43860b[_0x256d3a(0x2b3)]=_0x137c54[_0x256d3a(0x2b3)][_0x256d3a(0x294)](_0x499acf=>{const _0x4891f3=a0_0x35c9,_0x4f5cdf=a0_0xce2f,_0x4ed9de=_0x256d3a;let _0x53dd71={'layers':[],'activeLayer':_0x499acf[_0x4f5cdf(0x215)],'layerHistories':[],'layerRedoStacks':[]};for(let _0xed5172=0x0;_0xed5172<_0x499acf[_0x4ed9de(0x262)][_0x4ed9de(0x1c4)];_0xed5172++){let _0x421fef=new Image();_0x421fef[_0x4ed9de(0x1b3)]=_0x499acf[_0x4ed9de(0x262)][_0xed5172];let _0x1bcaa0=document[_0x4f5cdf(0x1f6)](_0x4ed9de(0x19d));_0x1bcaa0[_0x4f5cdf(0x190)]=_0x137c54[_0x4891f3(0x13b)]*cellSize,_0x1bcaa0[_0x4ed9de(0x27c)]=_0x137c54[_0x4ed9de(0x27c)]*cellSize,_0x421fef[_0x4ed9de(0x185)]=()=>{const _0xd37dcc=_0x4f5cdf,_0x3a7251=_0x4ed9de;let _0x504a03=_0x1bcaa0[_0xd37dcc(0x162)]('2d');_0x504a03[_0x3a7251(0x22d)](0x0,0x0,_0x1bcaa0[_0x3a7251(0x1b8)],_0x1bcaa0[_0xd37dcc(0x13b)]),_0x504a03[_0x3a7251(0x1ff)](_0x421fef,0x0,0x0);},_0x53dd71[_0x4ed9de(0x262)][_0x4ed9de(0x278)](_0x1bcaa0),_0x53dd71[_0x4ed9de(0x29c)][_0x4ed9de(0x278)]([]),_0x53dd71[_0x4ed9de(0x2d0)][_0x4ed9de(0x278)]([]);}return _0x53dd71;}),_0x43860b[_0x256d3a(0x2a5)]=_0x137c54[_0x256d3a(0x2a5)],_0x43860b[_0x256d3a(0x2e6)]=_0x137c54[_0xcba17b(0x1a8)]||'画像'+(_0x318499+0x1),_0x43860b;}),activeProject=_0x50a474[_0x88995b(0x23d)]||0x0,await wait(0x64),updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll(),setTool(_0x88995b(0x182)),console[_0x912684(0x21a)](_0x88995b(0x282));}catch(_0x12dd42){alert(_0x88995b(0x2cd)),console[_0x200e51(0x1e8)](_0x12dd42);}}function wait(_0xd19217){return new Promise(_0x415ee5=>setTimeout(_0x415ee5,_0xd19217));}function initCanvas(){const _0x5279de=a0_0x521960,_0x1706b6=a0_0x5049d9,_0x2d4f9d=a0_0x38aafa,_0x34ea8f=parseInt(0x10),_0x8c5f62=parseInt(0x10);let _0x145326=getCurrentProject();_0x145326[_0x2d4f9d(0x1b8)]=_0x34ea8f,_0x145326[_0x2d4f9d(0x27c)]=_0x8c5f62,canvas[_0x2d4f9d(0x1b8)]=_0x34ea8f*cellSize,canvas[_0x2d4f9d(0x27c)]=_0x8c5f62*cellSize,_0x145326[_0x2d4f9d(0x262)]=[],_0x145326[_0x2d4f9d(0x29c)]=[],_0x145326[_0x2d4f9d(0x2d0)]=[];let _0xf23d05=document[_0x2d4f9d(0x1d6)](_0x2d4f9d(0x19d));_0xf23d05[_0x2d4f9d(0x1b8)]=_0x34ea8f*cellSize,_0xf23d05[_0x2d4f9d(0x27c)]=_0x8c5f62*cellSize,_0x145326[_0x2d4f9d(0x262)][_0x1706b6(0x19e)](_0xf23d05),_0x145326[_0x2d4f9d(0x29c)][_0x2d4f9d(0x278)]([]),_0x145326[_0x2d4f9d(0x2d0)][_0x1706b6(0x19e)]([]),_0x145326[_0x2d4f9d(0x1b5)]=0x0,saveHistory(),updateFrameUI(),updateLayerUI(),redrawAll(),canvas[_0x2d4f9d(0x1f5)]=null,canvas[_0x1706b6(0x1e1)]=null,canvas[_0x2d4f9d(0x238)]=null,canvas[_0x2d4f9d(0x1b7)]=null,canvas[_0x2d4f9d(0x21a)]=null,canvas[_0x2d4f9d(0x267)]=null,canvas[_0x2d4f9d(0x212)]=null,canvas[_0x2d4f9d(0x2ac)]=null,canvas[_0x2d4f9d(0x2a6)](_0x1706b6(0x1d8),handleTouchStart),canvas[_0x2d4f9d(0x2a6)](_0x2d4f9d(0x28f),handleTouchMove),canvas[_0x2d4f9d(0x2a6)](_0x2d4f9d(0x1e1),handleTouchEnd),canvas[_0x2d4f9d(0x2a6)](_0x2d4f9d(0x1b6),handleTouchEnd),canvas[_0x2d4f9d(0x1f5)]=handleMouseDown,canvas[_0x2d4f9d(0x239)]=handleMouseMove,canvas[_0x2d4f9d(0x238)]=handleMouseUp,canvas[_0x2d4f9d(0x1b7)]=handleMouseUp,canvas[_0x2d4f9d(0x21a)]=handleTouchStart,canvas[_0x2d4f9d(0x267)]=handleTouchMove,canvas[_0x5279de(0x107)]=handleTouchEnd,canvas[_0x2d4f9d(0x2ac)]=handleTouchEnd,canvas[_0x2d4f9d(0x21d)](_0x2d4f9d(0x1bb),handleTouchStart,{'passive':![]}),canvas[_0x2d4f9d(0x21d)](_0x1706b6(0x205),handleTouchMove,{'passive':![]}),canvas[_0x2d4f9d(0x21d)](_0x2d4f9d(0x1e1),handleTouchEnd,{'passive':![]}),canvas[_0x5279de(0x15e)](_0x2d4f9d(0x1b6),handleTouchEnd,{'passive':![]});}function createPalette(){const _0x2f4bbf=a0_0x35c9,_0x2bd509=a0_0x521960,_0x13b000=a0_0x5049d9,_0x461b04=a0_0x38aafa,_0x475a24=document[_0x461b04(0x275)](_0x461b04(0x230));if(!_0x475a24)return;_0x475a24[_0x461b04(0x25f)]='',PALETTE_COLORS[_0x461b04(0x1bd)]((_0x4b7cc2,_0x25e3a0)=>{const _0x2772b8=a0_0x56c5,_0xb592b9=a0_0xce2f,_0x1b1e96=_0x461b04,_0x1e63a7=document[_0x1b1e96(0x1d6)](_0x1b1e96(0x2a4));_0x1e63a7[_0xb592b9(0x15c)]=_0xb592b9(0x1fc),_0x4b7cc2===_0xb592b9(0x1a5)||_0x4b7cc2===_0x1b1e96(0x25c)?(_0x1e63a7[_0x1b1e96(0x1f8)][_0x1b1e96(0x2dc)]=_0x2772b8(0x137),_0x1e63a7[_0x1b1e96(0x198)]='透明',_0x1e63a7[_0x1b1e96(0x25f)]=_0x1b1e96(0x224)):(_0x1e63a7[_0x1b1e96(0x1f8)][_0x1b1e96(0x2dc)]=_0x4b7cc2,_0x1e63a7[_0xb592b9(0x124)]=_0x4b7cc2),_0x1e63a7[_0x1b1e96(0x234)]=()=>{const _0x3ece56=_0x1b1e96;currentColor=_0x4b7cc2,_0x4b7cc2===_0x3ece56(0x1f3)||_0x4b7cc2===_0x3ece56(0x25c)?document[_0x3ece56(0x275)](_0x3ece56(0x1a0))[_0x3ece56(0x24e)]=_0x3ece56(0x1ba):document[_0x3ece56(0x275)](_0x3ece56(0x1a0))[_0x3ece56(0x24e)]=_0x4b7cc2,document[_0x3ece56(0x29b)](_0x3ece56(0x1e6))[_0x3ece56(0x1bd)](_0x1e1e19=>_0x1e1e19[_0x3ece56(0x22b)][_0x3ece56(0x187)](_0x3ece56(0x2dd))),_0x1e63a7[_0x3ece56(0x22b)][_0x3ece56(0x1de)](_0x3ece56(0x2dd));};if(_0x25e3a0!==0x0){const _0x4096ce=document[_0x1b1e96(0x1d6)](_0x1b1e96(0x28e));_0x4096ce[_0x1b1e96(0x221)]='×',_0x4096ce[_0x1b1e96(0x252)]=_0x1b1e96(0x2c7),_0x4096ce[_0x1b1e96(0x198)]=_0x1b1e96(0x2e7),_0x4096ce[_0x1b1e96(0x234)]=_0x2bf8a1=>{const _0x4224ea=_0x1b1e96;_0x2bf8a1[_0x4224ea(0x214)](),PALETTE_COLORS[_0x4224ea(0x1c4)]>0x2&&(PALETTE_COLORS[_0x4224ea(0x2b7)](_0x25e3a0,0x1),createPalette());},_0x1e63a7[_0x1b1e96(0x237)](_0x4096ce);}_0x475a24[_0x1b1e96(0x237)](_0x1e63a7);});const _0x29b9b9=document[_0x461b04(0x1d6)](_0x461b04(0x2a4));_0x29b9b9[_0x2bd509(0xc9)]=_0x461b04(0x20b),_0x29b9b9[_0x461b04(0x198)]=_0x461b04(0x2cc),_0x29b9b9[_0x461b04(0x25f)]='+',_0x29b9b9[_0x461b04(0x234)]=_0x1976fc=>{const _0x116224=a0_0x3f33,_0x376ed8=_0x2bd509,_0x494051=a0_0xce2f,_0x3cf553=_0x461b04;_0x1976fc[_0x494051(0x15a)]();const _0x38ae5f=document[_0x3cf553(0x1d6)](_0x3cf553(0x295));_0x38ae5f[_0x3cf553(0x17d)]=_0x3cf553(0x1ca),_0x38ae5f[_0x116224(0x1af)][_0x3cf553(0x2f0)]=_0x3cf553(0x1b1);let _0x1dd60d=![];_0x38ae5f[_0x3cf553(0x28a)]=_0x2344bd=>{const _0x1fe627=a0_0x35c9,_0x8c7e29=a0_0x56c5,_0x32339f=_0x494051,_0x587af2=_0x3cf553;if(!_0x1dd60d){PALETTE_COLORS[_0x1fe627(0x1a9)](_0x2344bd[_0x587af2(0x2e5)][_0x8c7e29(0x149)]);if(PALETTE_COLORS[_0x32339f(0xf5)]>0x18)PALETTE_COLORS=PALETTE_COLORS[_0x587af2(0x1f6)](0x0,0x18);savePaletteToDB(),createPalette(),_0x1dd60d=!![],_0x38ae5f[_0x587af2(0x187)]();}},_0x38ae5f[_0x3cf553(0x21d)](_0x494051(0x1c0),()=>{const _0x43a20f=_0x3cf553;if(!_0x1dd60d)_0x38ae5f[_0x43a20f(0x187)]();}),_0x38ae5f[_0x3cf553(0x21d)](_0x376ed8(0xab),_0x2aab31=>_0x2aab31[_0x494051(0x15a)]()),document[_0x3cf553(0x1e8)][_0x3cf553(0x237)](_0x38ae5f),_0x38ae5f[_0x3cf553(0x2be)](),_0x38ae5f[_0x3cf553(0x2ed)]();},_0x475a24[_0x461b04(0x1d3)](_0x29b9b9,_0x475a24[_0x13b000(0x216)]);let _0x2683c0=document[_0x13b000(0x192)](_0x13b000(0x1e2));!_0x2683c0&&(_0x2683c0=document[_0x13b000(0x1f6)](_0x461b04(0x2c9)),_0x2683c0['id']=_0x461b04(0x25e),_0x2683c0[_0x461b04(0x252)]=_0x2f4bbf(0x1ea),_0x475a24[_0x13b000(0xfb)][_0x461b04(0x237)](_0x2683c0)),_0x2683c0[_0x13b000(0x1ea)]=_0x461b04(0x253)+(currentTool===_0x461b04(0x182)?_0x461b04(0x1e4):'')+_0x461b04(0x2ad)+(currentTool===_0x461b04(0x2e0)?_0x461b04(0x1e4):'')+_0x13b000(0x168)+(currentTool===_0x461b04(0x1a8)?_0x461b04(0x1e4):'')+_0x461b04(0x1d9)+(penSize==0x1?_0x13b000(0x213):'')+_0x461b04(0x1dd)+(penSize==0x2?_0x461b04(0x298):'')+_0x461b04(0x18e)+(penSize==0x3?_0x461b04(0x298):'')+_0x13b000(0x1a2)+(penSize==0x4?_0x461b04(0x298):'')+_0x13b000(0x1ac)+(penMode===_0x13b000(0x150)?_0x461b04(0x298):'')+_0x2bd509(0x1e7)+(penMode===_0x461b04(0x2ea)?_0x13b000(0x213):'')+_0x13b000(0x1ab)+Math[_0x461b04(0x26f)](currentAlpha*0x64)+_0x461b04(0x233)+Math[_0x461b04(0x26f)](currentAlpha*0x64)+_0x461b04(0x1eb),_0x2683c0[_0x13b000(0x126)](_0x461b04(0x246))[_0x461b04(0x222)]=_0x122596=>setPenSize(_0x122596[_0x13b000(0x1d3)][_0x461b04(0x24e)]),_0x2683c0[_0x461b04(0x2c0)](_0x461b04(0x2b2))[_0x461b04(0x222)]=_0x1ce5fe=>setPenMode(_0x1ce5fe[_0x461b04(0x2e5)][_0x461b04(0x24e)]),_0x2683c0[_0x461b04(0x29b)](_0x2bd509(0x16b))[_0x461b04(0x1bd)](_0x3fa455=>{const _0x3087a5=_0x2bd509,_0x5a0337=_0x13b000,_0x43243a=_0x461b04;_0x3fa455[_0x43243a(0x234)]=()=>setTool(_0x3fa455[_0x3087a5(0xc1)][_0x5a0337(0xe7)]);}),_0x2683c0[_0x461b04(0x2c0)](_0x461b04(0x241))[_0x461b04(0x28a)]=_0x281339=>{const _0x526744=_0x13b000,_0x1afc1c=_0x461b04;setAlpha(_0x281339[_0x1afc1c(0x2e5)][_0x526744(0x12e)]),_0x2683c0[_0x1afc1c(0x2c0)](_0x1afc1c(0x227))[_0x1afc1c(0x221)]=_0x281339[_0x1afc1c(0x2e5)][_0x1afc1c(0x24e)]+'%';let _0xcde2db=document[_0x526744(0x192)](_0x1afc1c(0x1d8)),_0x55019e=document[_0x1afc1c(0x275)](_0x1afc1c(0x213));if(_0xcde2db)_0xcde2db[_0x526744(0x12e)]=_0x281339[_0x1afc1c(0x2e5)][_0x1afc1c(0x24e)];if(_0x55019e)_0x55019e[_0x1afc1c(0x221)]=_0x281339[_0x526744(0x1d3)][_0x1afc1c(0x24e)]+'%';};}function setAlpha(_0x3ddff6){const _0x3a4d34=a0_0x5049d9,_0x13be92=a0_0x38aafa;let _0x4e5339=Math[_0x13be92(0x2c3)](0x0,Math[_0x13be92(0x1b2)](0x64,parseInt(_0x3ddff6,0xa)||0x0));currentAlpha=_0x4e5339/0x64;let _0x5ada9d=document[_0x13be92(0x275)](_0x13be92(0x1d8)),_0x26c204=document[_0x13be92(0x275)](_0x3a4d34(0x1ef));if(_0x5ada9d)_0x5ada9d[_0x3a4d34(0x12e)]=_0x4e5339;if(_0x26c204)_0x26c204[_0x13be92(0x221)]=_0x4e5339+'%';let _0x3bfb16=document[_0x13be92(0x275)](_0x13be92(0x247)),_0x16c1ae=document[_0x13be92(0x275)](_0x13be92(0x245));if(_0x3bfb16)_0x3bfb16[_0x13be92(0x24e)]=_0x4e5339;if(_0x16c1ae)_0x16c1ae[_0x13be92(0x221)]=_0x4e5339+'%';}async function savePaletteToDB(){const _0x39549f=a0_0x5049d9,_0x37a8d4=a0_0x38aafa;try{await idbSet(_0x37a8d4(0x2e1),PALETTE_COLORS);}catch(_0x33b45a){console[_0x37a8d4(0x181)](_0x39549f(0x1a8),_0x33b45a);}}async function loadPaletteFromDB(){const _0x49ae41=a0_0x38aafa;try{const _0x24c2ed=await idbGet(_0x49ae41(0x2e1));Array[_0x49ae41(0x19c)](_0x24c2ed)&&_0x24c2ed[_0x49ae41(0x1c4)]&&(PALETTE_COLORS=_0x24c2ed);}catch(_0x276518){console[_0x49ae41(0x181)](_0x49ae41(0x195),_0x276518);}}document[a0_0x5049d9(0x1a3)](a0_0x5049d9(0x113),()=>{const _0x2ce31a=a0_0x5049d9,_0x52ea84=a0_0x38aafa,_0x9541bb=document[_0x2ce31a(0x192)](_0x52ea84(0x1a0));_0x9541bb&&(_0x9541bb[_0x52ea84(0x28a)]=_0x6ea783=>{const _0x15cbed=_0x52ea84;currentColor=_0x6ea783[_0x15cbed(0x2e5)][_0x15cbed(0x24e)],document[_0x15cbed(0x29b)](_0x15cbed(0x1e6))[_0x15cbed(0x1bd)](_0x239483=>_0x239483[_0x15cbed(0x22b)][_0x15cbed(0x187)](_0x15cbed(0x2dd)));});const _0x396cc5=document[_0x52ea84(0x275)](_0x52ea84(0x1d8)),_0x562613=document[_0x52ea84(0x275)](_0x52ea84(0x213));_0x396cc5&&_0x562613&&(_0x396cc5[_0x2ce31a(0x1e5)]=_0x1a105d=>{const _0x474f2b=a0_0x56c5,_0x41648a=_0x2ce31a,_0x3f6360=_0x52ea84;setAlpha(_0x1a105d[_0x3f6360(0x2e5)][_0x3f6360(0x24e)]),_0x562613[_0x3f6360(0x221)]=_0x1a105d[_0x3f6360(0x2e5)][_0x41648a(0x12e)]+'%';let _0x59d419=document[_0x41648a(0x192)](_0x3f6360(0x247)),_0x748e11=document[_0x41648a(0x192)](_0x3f6360(0x245));if(_0x59d419)_0x59d419[_0x474f2b(0x149)]=_0x1a105d[_0x3f6360(0x2e5)][_0x3f6360(0x24e)];if(_0x748e11)_0x748e11[_0x3f6360(0x221)]=_0x1a105d[_0x3f6360(0x2e5)][_0x41648a(0x12e)]+'%';});});async function convertToGIF(_0x1d91de,_0x21fe2f=0xc8,_0x4033af=a0_0x38aafa(0x1d1)){const _0x1ef22b=a0_0x111e,_0x495805=a0_0x38aafa,_0x31a5a1=new window[(_0x495805(0x190))]({'workers':0x2,'quality':0xa,'workerScript':_0x1ef22b(0x17a)});_0x1d91de[_0x495805(0x1bd)](_0x551fce=>_0x31a5a1[_0x495805(0x2a2)](_0x551fce,{'delay':_0x21fe2f})),_0x31a5a1['on'](_0x495805(0x235),_0x6c9364=>{const _0x3fed72=a0_0x56c5,_0x500a3f=a0_0xce2f,_0x874361=_0x495805,_0x558b7f=URL[_0x500a3f(0x159)](_0x6c9364),_0x12b7cf=document[_0x874361(0x1d6)]('a');_0x12b7cf[_0x500a3f(0x1a4)]=_0x558b7f,_0x12b7cf[_0x3fed72(0xf0)]=_0x4033af,document[_0x874361(0x1e8)][_0x500a3f(0x1c2)](_0x12b7cf),_0x12b7cf[_0x874361(0x2ed)](),setTimeout(()=>{const _0x38d3f5=_0x874361;document[_0x38d3f5(0x1e8)][_0x38d3f5(0x1dc)](_0x12b7cf),URL[_0x38d3f5(0x255)](_0x558b7f);},0x3e8);}),_0x31a5a1[_0x495805(0x1c1)]();}function makeAPNGBlob(_0x50a55b,_0x11df18,_0x5245a1,_0x46a316=0xc8){const _0x3b098b=a0_0x5049d9,_0x799090=a0_0x38aafa,_0x474bda=[],_0x56d180=[],_0xb766bb=document[_0x799090(0x1d6)](_0x799090(0x19d));_0xb766bb[_0x3b098b(0x190)]=_0x11df18,_0xb766bb[_0x3b098b(0x13b)]=_0x5245a1;const _0x179805=_0xb766bb[_0x799090(0x2c6)]('2d');_0x50a55b[_0x799090(0x1bd)](_0x5d5d28=>{const _0x12e619=_0x3b098b,_0x4717fb=_0x799090;_0x179805[_0x4717fb(0x22d)](0x0,0x0,_0x11df18,_0x5245a1),_0x179805[_0x12e619(0x230)](_0x5d5d28,0x0,0x0,_0x11df18,_0x5245a1);const _0x4f08cc=_0x179805[_0x4717fb(0x287)](0x0,0x0,_0x11df18,_0x5245a1)[_0x4717fb(0x261)][_0x12e619(0x16d)];_0x474bda[_0x12e619(0x19e)](_0x4f08cc),_0x56d180[_0x12e619(0x19e)](_0x46a316);});const _0x531115=window[_0x799090(0x21e)][_0x799090(0x1e2)](_0x474bda,_0x11df18,_0x5245a1,0x0,_0x56d180);return new Blob([_0x531115],{'type':_0x799090(0x18f)});}function convertToAPNG(_0x20de6b,_0x326c1d,_0x446157,_0x3da0cc=0xc8,_0x5bb9e4=a0_0x38aafa(0x2ef)){const _0x1321c1=a0_0x35c9,_0xe54732=a0_0x5049d9,_0x49cd07=a0_0x38aafa,_0x2c77b7=makeAPNGBlob(_0x20de6b,_0x326c1d,_0x446157,_0x3da0cc),_0x3f9252=URL[_0xe54732(0x159)](_0x2c77b7),_0x58b9a2=document[_0x1321c1(0x227)]('a');_0x58b9a2[_0x49cd07(0x1c8)]=_0x3f9252,_0x58b9a2[_0x49cd07(0x215)]=_0x5bb9e4,document[_0x49cd07(0x1e8)][_0x49cd07(0x237)](_0x58b9a2),_0x58b9a2[_0xe54732(0x1c3)](),setTimeout(()=>{const _0x26588d=_0x49cd07;document[_0x26588d(0x1e8)][_0x26588d(0x1dc)](_0x58b9a2),URL[_0x26588d(0x255)](_0x3f9252);},0x3e8);}async function loadImages(_0x5edf37){const _0x3e22cd=a0_0x521960,_0x2a939e=a0_0x38aafa,_0x4c7dcb=await Promise[_0x3e22cd(0x184)](_0x5edf37[_0x2a939e(0x294)](_0x28803c=>{return new Promise(_0x1e496b=>{const _0x3c4fdc=a0_0x1925,_0x54c585=new Image();_0x54c585[_0x3c4fdc(0x290)]=_0x3c4fdc(0x26a),_0x54c585[_0x3c4fdc(0x1b3)]=_0x28803c,_0x54c585[_0x3c4fdc(0x185)]=()=>_0x1e496b(_0x54c585);});}));return _0x4c7dcb;}function exportSpriteSheetDialog(){const _0x3010de=a0_0x5049d9,_0x26fdb8=a0_0x38aafa;let _0x3b2618=prompt(_0x3010de(0x1a1),'1');if(_0x3b2618===null)return;let _0x4ff478=Math[_0x26fdb8(0x2c3)](0x1,parseInt(_0x3b2618,0xa)||0x1),_0x5a449e=prompt(_0x26fdb8(0x264),'0');if(_0x5a449e===null)return;let _0x320327=Math[_0x26fdb8(0x2c3)](0x0,parseInt(_0x5a449e,0xa)||0x0);exportSpriteSheet(_0x4ff478,_0x320327);}function exportSpriteSheet(_0x51f3e7=0x1,_0x421a71=0x0){const _0x487faf=a0_0x35c9,_0xca2899=a0_0x521960,_0x592da8=a0_0x5049d9,_0x316992=a0_0x38aafa,_0x11d5e1=getCurrentProject();if(!_0x11d5e1){alert(_0x316992(0x272));return;}const _0x5672d0=_0x11d5e1[_0x487faf(0x11f)];if(!_0x5672d0||_0x5672d0[_0x316992(0x1c4)]===0x0){alert(_0x316992(0x2cf));return;}const _0x22294f=_0x11d5e1[_0x316992(0x1b8)]*cellSize,_0x2a4b39=_0x11d5e1[_0x316992(0x27c)]*cellSize,_0x2cc291=_0x22294f*_0x5672d0[_0x316992(0x1c4)]*_0x51f3e7+Math[_0x316992(0x2c3)](0x0,_0x5672d0[_0x316992(0x1c4)]-0x1)*_0x421a71,_0x51c0d3=_0x2a4b39*_0x51f3e7,_0x3681b9=document[_0xca2899(0xdd)](_0x316992(0x19d));_0x3681b9[_0x316992(0x1b8)]=_0x2cc291,_0x3681b9[_0x592da8(0x13b)]=_0x51c0d3;const _0x2489c0=_0x3681b9[_0x316992(0x2c6)]('2d');_0x2489c0[_0x316992(0x22d)](0x0,0x0,_0x3681b9[_0x316992(0x1b8)],_0x3681b9[_0x316992(0x27c)]);let _0x249a1a=0x0;for(let _0x139117=0x0;_0x139117<_0x5672d0[_0x316992(0x1c4)];_0x139117++){let _0x32a212=document[_0x316992(0x1d6)](_0xca2899(0x112));_0x32a212[_0x592da8(0x190)]=_0x22294f,_0x32a212[_0x316992(0x27c)]=_0x2a4b39;let _0x3b70e2=_0x32a212[_0x316992(0x2c6)]('2d');for(let _0x33d2f3=0x0;_0x33d2f3<_0x5672d0[_0x139117][_0x592da8(0x13d)][_0x592da8(0xf5)];_0x33d2f3++){_0x3b70e2[_0x316992(0x1ff)](_0x5672d0[_0x139117][_0x316992(0x262)][_0x33d2f3],0x0,0x0);}_0x51f3e7===0x1&&_0x421a71===0x0?(_0x2489c0[_0x592da8(0x230)](_0x32a212,_0x249a1a,0x0),_0x249a1a+=_0x22294f):(_0x2489c0[_0x316992(0x1ff)](_0x32a212,0x0,0x0,_0x22294f,_0x2a4b39,_0x249a1a,0x0,_0x22294f*_0x51f3e7,_0x2a4b39*_0x51f3e7),_0x249a1a+=_0x22294f*_0x51f3e7),_0x139117<_0x5672d0[_0x592da8(0xf5)]-0x1&&_0x421a71>0x0&&(_0x249a1a+=_0x421a71);}const _0x5e8242=(_0x11d5e1[_0x316992(0x2e6)]||_0x316992(0x2ab))[_0x592da8(0x127)](/[\\/:*?"<>|]/g,'_'),_0x2ded8a=document[_0x316992(0x1d6)]('a');_0x2ded8a[_0xca2899(0x164)]=_0x3681b9[_0x592da8(0x1b5)](_0x592da8(0xe0)),_0x2ded8a[_0x316992(0x215)]=_0x5e8242+_0x316992(0x217),document[_0x316992(0x1e8)][_0x316992(0x237)](_0x2ded8a),_0x2ded8a[_0x316992(0x2ed)](),setTimeout(()=>{const _0x5d6670=_0x592da8;document[_0x5d6670(0x1c5)][_0x5d6670(0x136)](_0x2ded8a);},0x3e8);}const NEZUMI_METADATA_SIG=a0_0x38aafa(0x258);function appendMetadataToBlob(_0xc3ebf,_0x31c394){const _0x3a6c2f=a0_0x38aafa,_0x890d98=new TextEncoder(),_0x5e8beb=_0x890d98[_0x3a6c2f(0x1e2)](NEZUMI_METADATA_SIG),_0x209c35=_0x890d98[_0x3a6c2f(0x1e2)](JSON[_0x3a6c2f(0x1e5)](_0x31c394));return new Blob([_0xc3ebf,_0x5e8beb,_0x209c35],{'type':_0xc3ebf[_0x3a6c2f(0x17d)]||_0x3a6c2f(0x2cb)});}function indexOfSubarray(_0xf4e987,_0x3e230c){const _0x584400=a0_0x5049d9,_0x4c5bf7=a0_0x38aafa;for(let _0x1ed8e4=0x0;_0x1ed8e4<=_0xf4e987[_0x4c5bf7(0x1c4)]-_0x3e230c[_0x584400(0xf5)];_0x1ed8e4++){let _0x21ac0f=!![];for(let _0x419bfc=0x0;_0x419bfc<_0x3e230c[_0x4c5bf7(0x1c4)];_0x419bfc++){if(_0xf4e987[_0x1ed8e4+_0x419bfc]!==_0x3e230c[_0x419bfc]){_0x21ac0f=![];break;}}if(_0x21ac0f)return _0x1ed8e4;}return-0x1;}function extractMetadataFromArrayBuffer(_0x35b2d9){const _0x546a84=a0_0x5049d9,_0x11790e=a0_0x38aafa,_0x3dec48=new TextEncoder()[_0x11790e(0x1e2)](NEZUMI_METADATA_SIG),_0x5d484f=new Uint8Array(_0x35b2d9),_0x398b10=indexOfSubarray(_0x5d484f,_0x3dec48);if(_0x398b10===-0x1)return null;const _0x44f422=_0x5d484f[_0x11790e(0x236)](_0x398b10+_0x3dec48[_0x546a84(0xf5)]);try{const _0x52465c=new TextDecoder()[_0x11790e(0x27e)](_0x44f422);return JSON[_0x11790e(0x288)](_0x52465c);}catch(_0x3ad8b4){return null;}}async function exportStandalone(){const _0x5d3237=a0_0x35c9,_0x476d29=a0_0x521960,_0x58768a=a0_0x5049d9,_0x548197=a0_0x38aafa;let _0x15e7ac=getCurrentProject(),_0x339ccb=_0x15e7ac[_0x58768a(0x17f)],_0x545c5f=_0x15e7ac[_0x548197(0x1b8)]*cellSize,_0xfac8ff=_0x15e7ac[_0x548197(0x27c)]*cellSize;const _0xd8c44e=_0x339ccb[_0x548197(0x294)](_0x31b2da=>{const _0x47a769=_0x58768a,_0x56a4d3=_0x548197;let _0x139969=document[_0x56a4d3(0x1d6)](_0x56a4d3(0x19d));_0x139969[_0x56a4d3(0x1b8)]=_0x545c5f,_0x139969[_0x56a4d3(0x27c)]=_0xfac8ff;let _0x432169=_0x139969[_0x56a4d3(0x2c6)]('2d');for(let _0x4abda0=0x0;_0x4abda0<_0x31b2da[_0x47a769(0x13d)][_0x56a4d3(0x1c4)];_0x4abda0++){_0x432169[_0x56a4d3(0x1ff)](_0x31b2da[_0x47a769(0x13d)][_0x4abda0],0x0,0x0);}let _0x46518f=new Image();return _0x46518f[_0x56a4d3(0x1b3)]=_0x139969[_0x47a769(0x1b5)](_0x56a4d3(0x1fa)),_0x46518f;});await Promise[_0x548197(0x25a)](_0xd8c44e[_0x548197(0x294)](_0x1588da=>new Promise(_0xb3ef63=>{const _0x123be4=_0x548197;_0x1588da[_0x123be4(0x185)]=_0xb3ef63;})))[_0x5d3237(0xe0)](()=>{});const _0x3e1d41=(_0x15e7ac[_0x548197(0x2e6)]||_0x548197(0x21f))[_0x548197(0x27d)](/[\\/:*?"<>|]/g,'_'),_0x62e254=makeAPNGBlob(_0xd8c44e,_0x545c5f,_0xfac8ff,animationDelay),_0x109c72={'type':_0x548197(0x207),'version':0x1,'project':{'width':_0x15e7ac[_0x548197(0x1b8)],'height':_0x15e7ac[_0x548197(0x27c)],'name':_0x15e7ac[_0x548197(0x2e6)]||'','activeFrame':_0x15e7ac[_0x58768a(0x12c)],'frames':_0x15e7ac[_0x548197(0x2b3)][_0x548197(0x294)](_0x57b256=>({'activeLayer':_0x57b256[_0x548197(0x1b5)],'layers':_0x57b256[_0x476d29(0x1c8)][_0x548197(0x294)](_0x32c275=>_0x32c275[_0x548197(0x1df)]())}))}},_0x4c410b=appendMetadataToBlob(_0x62e254,_0x109c72),_0x31afbe=URL[_0x548197(0x201)](_0x4c410b),_0xee1d59=document[_0x58768a(0x1f6)]('a');_0xee1d59[_0x548197(0x1c8)]=_0x31afbe,_0xee1d59[_0x548197(0x215)]=_0x3e1d41+_0x58768a(0x1e6),document[_0x548197(0x1e8)][_0x476d29(0xb4)](_0xee1d59),_0xee1d59[_0x548197(0x2ed)](),setTimeout(()=>{const _0x3e2c78=_0x548197;document[_0x3e2c78(0x1e8)][_0x3e2c78(0x1dc)](_0xee1d59),URL[_0x3e2c78(0x255)](_0x31afbe);},0x3e8);}function loadStandaloneFromFile(_0x48da9b){return new Promise((_0x97dc83,_0x2e60a4)=>{const _0x4a37f5=a0_0x3f33,_0x5ae45b=a0_0x1925,_0x1b477e=new FileReader();_0x1b477e[_0x5ae45b(0x185)]=_0x33caa4=>{const _0x34663a=a0_0x35c9,_0x15745b=a0_0xce2f,_0x656324=_0x5ae45b,_0x50b24e=_0x33caa4[_0x656324(0x2e5)][_0x656324(0x192)],_0x296f38=extractMetadataFromArrayBuffer(_0x50b24e);if(!_0x296f38||!_0x296f38[_0x34663a(0x186)]){_0x2e60a4(new Error(_0x656324(0x20f)));return;}const _0x48fe0d=_0x296f38[_0x656324(0x22f)];try{const _0x590c7e=createProject(_0x48fe0d[_0x656324(0x1b8)],_0x48fe0d[_0x656324(0x27c)],_0x48fe0d[_0x656324(0x2e6)]||'画像');_0x590c7e[_0x656324(0x2b3)]=_0x48fe0d[_0x656324(0x2b3)][_0x15745b(0x18f)](_0x168e75=>{const _0x59f747=_0x34663a,_0x49df73=_0x15745b,_0x28406e=_0x656324;let _0x3dcbb5={'layers':[],'activeLayer':_0x168e75[_0x49df73(0x215)],'layerHistories':[],'layerRedoStacks':[]};for(let _0x4c0d78=0x0;_0x4c0d78<_0x168e75[_0x28406e(0x262)][_0x28406e(0x1c4)];_0x4c0d78++){let _0x1f90ec=new Image();_0x1f90ec[_0x28406e(0x1b3)]=_0x168e75[_0x49df73(0x13d)][_0x4c0d78];let _0x3bf1e2=document[_0x49df73(0x1f6)](_0x28406e(0x19d));_0x3bf1e2[_0x28406e(0x1b8)]=_0x48fe0d[_0x59f747(0x13b)]*cellSize,_0x3bf1e2[_0x28406e(0x27c)]=_0x48fe0d[_0x49df73(0x13b)]*cellSize,_0x1f90ec[_0x49df73(0x11a)]=()=>{const _0x2e6904=_0x49df73,_0x2ccfcf=_0x28406e;let _0x334a8f=_0x3bf1e2[_0x2ccfcf(0x2c6)]('2d');_0x334a8f[_0x2ccfcf(0x22d)](0x0,0x0,_0x3bf1e2[_0x2ccfcf(0x1b8)],_0x3bf1e2[_0x2ccfcf(0x27c)]),_0x334a8f[_0x2e6904(0x230)](_0x1f90ec,0x0,0x0);},_0x3dcbb5[_0x49df73(0x13d)][_0x28406e(0x278)](_0x3bf1e2);}return _0x3dcbb5;}),projects[_0x656324(0x278)](_0x590c7e),activeProject=projects[_0x656324(0x1c4)]-0x1,updateProjectUI(),updateFrameUI(),updateLayerUI(),redrawAll(),_0x97dc83(_0x590c7e);}catch(_0x3ca0b9){_0x2e60a4(_0x3ca0b9);}},_0x1b477e[_0x5ae45b(0x1c5)]=_0x33b178=>_0x2e60a4(_0x33b178),_0x1b477e[_0x4a37f5(0x149)](_0x48da9b);});}function toggleSection(_0x196b35){const _0x28b2e3=a0_0x111e,_0x392e5c=a0_0x521960,_0x332375=a0_0x5049d9,_0x157185=a0_0x38aafa,_0x21d293=document[_0x157185(0x275)](_0x196b35),_0x1a9e71=_0x21d293[_0x157185(0x2c0)](_0x157185(0x218)),_0x4b61eb=_0x21d293[_0x157185(0x2c0)](_0x157185(0x277));_0x1a9e71[_0x28b2e3(0x1d9)][_0x157185(0x2f0)]===_0x332375(0x12d)?(_0x1a9e71[_0x157185(0x1f8)][_0x157185(0x2f0)]='',_0x4b61eb[_0x157185(0x221)]='▼'):(_0x1a9e71[_0x157185(0x1f8)][_0x392e5c(0x114)]=_0x157185(0x1b1),_0x4b61eb[_0x157185(0x221)]='▲');}document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x293),()=>{const _0x42d846=a0_0x5049d9,_0x5ab889=a0_0x38aafa;document[_0x42d846(0xe9)](_0x5ab889(0x204))[_0x5ab889(0x1bd)](_0x5a5857=>_0x5a5857[_0x5ab889(0x1f8)][_0x5ab889(0x2f0)]=''),document[_0x42d846(0xe9)](_0x42d846(0xf6))[_0x42d846(0x10a)](_0xa4bb4e=>_0xa4bb4e[_0x5ab889(0x221)]='▼');}),window[a0_0x38aafa(0x21d)](a0_0x38aafa(0x251),updateMenuBtnDisplay),document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x293),updateMenuBtnDisplay);function a0_0x56c5(_0x293827,_0x50c116){_0x293827=_0x293827-0xaa;const _0x1a1286=a0_0x22a5();let _0x458a73=_0x1a1286[_0x293827];return _0x458a73;}function toggleSideMenu(_0x23a13f){const _0x462406=a0_0x35c9,_0x55c67a=a0_0x521960,_0x59a728=a0_0x5049d9,_0x4ba93d=a0_0x38aafa,_0x1581b6=document[_0x462406(0x116)](_0x59a728(0x226)),_0x35005c=document[_0x4ba93d(0x275)](_0x4ba93d(0x183)),_0x41b68b=document[_0x4ba93d(0x275)](_0x4ba93d(0x18b)),_0xf8d1b8=document[_0x4ba93d(0x275)](_0x4ba93d(0x1b4)),_0x2ae852=_0x1581b6[_0x4ba93d(0x22b)][_0x4ba93d(0x23f)](_0x55c67a(0x1bb));let _0x357652=typeof _0x23a13f===_0x4ba93d(0x1af)?_0x23a13f:!_0x2ae852;_0x357652?(_0x1581b6[_0x59a728(0x176)][_0x4ba93d(0x1de)](_0x4ba93d(0x2ec)),_0x35005c[_0x4ba93d(0x22b)][_0x59a728(0x189)](_0x4ba93d(0x2a1)),document[_0x59a728(0x1c5)][_0x55c67a(0x178)][_0x55c67a(0x14a)]=_0x4ba93d(0x289),document[_0x4ba93d(0x1e8)][_0x4ba93d(0x1f8)][_0x4ba93d(0x1ec)]=_0x4ba93d(0x1b1),window[_0x4ba93d(0x22a)]<=0x384&&(_0xf8d1b8[_0x55c67a(0x178)][_0x4ba93d(0x2f0)]=_0x4ba93d(0x1d2),_0x41b68b[_0x462406(0x151)][_0x4ba93d(0x2f0)]=_0x4ba93d(0x1b1))):(_0x1581b6[_0x55c67a(0x100)][_0x59a728(0x1e9)](_0x59a728(0x144)),_0x35005c[_0x4ba93d(0x22b)][_0x55c67a(0x1af)](_0x4ba93d(0x2a1)),document[_0x4ba93d(0x1e8)][_0x4ba93d(0x1f8)][_0x59a728(0x110)]='',document[_0x4ba93d(0x1e8)][_0x4ba93d(0x1f8)][_0x4ba93d(0x1ec)]='',window[_0x4ba93d(0x22a)]<=0x384&&(_0xf8d1b8[_0x4ba93d(0x1f8)][_0x59a728(0x193)]=_0x4ba93d(0x1b1),_0x41b68b[_0x59a728(0x1bb)][_0x4ba93d(0x2f0)]=_0x55c67a(0x15d)));}function updateMenuBtnDisplay(){const _0x184bf3=a0_0x35c9,_0x24e5c0=a0_0x521960,_0x21d0bb=a0_0x5049d9,_0x3b4dd9=a0_0x38aafa,_0x24c995=document[_0x3b4dd9(0x275)](_0x21d0bb(0x226)),_0x5bd149=document[_0x184bf3(0x116)](_0x3b4dd9(0x183)),_0x1268fc=document[_0x21d0bb(0x192)](_0x3b4dd9(0x18b)),_0x4c1846=document[_0x3b4dd9(0x275)](_0x3b4dd9(0x1b4));window[_0x3b4dd9(0x22a)]>0x384?(_0x24c995[_0x3b4dd9(0x22b)][_0x21d0bb(0x1e9)](_0x3b4dd9(0x2ec)),_0x5bd149[_0x3b4dd9(0x22b)][_0x3b4dd9(0x187)](_0x3b4dd9(0x2a1)),_0x4c1846[_0x21d0bb(0x1bb)][_0x3b4dd9(0x2f0)]=_0x21d0bb(0x12d),_0x1268fc[_0x3b4dd9(0x1f8)][_0x3b4dd9(0x2f0)]=_0x3b4dd9(0x1b1),document[_0x3b4dd9(0x1e8)][_0x3b4dd9(0x1f8)][_0x3b4dd9(0x188)]='',document[_0x3b4dd9(0x1e8)][_0x3b4dd9(0x1f8)][_0x21d0bb(0x13e)]=''):_0x24c995[_0x3b4dd9(0x22b)][_0x3b4dd9(0x23f)](_0x21d0bb(0x144))?(_0x4c1846[_0x21d0bb(0x1bb)][_0x3b4dd9(0x2f0)]=_0x3b4dd9(0x1d2),_0x1268fc[_0x3b4dd9(0x1f8)][_0x3b4dd9(0x2f0)]=_0x3b4dd9(0x1b1)):(_0x4c1846[_0x3b4dd9(0x1f8)][_0x3b4dd9(0x2f0)]=_0x3b4dd9(0x1b1),_0x1268fc[_0x3b4dd9(0x1f8)][_0x24e5c0(0x114)]=_0x3b4dd9(0x1d2));}document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x2ed),function(_0x20c9d3){const _0x12ab0e=a0_0x35c9,_0x3fabeb=a0_0x521960,_0x1e3ff7=a0_0x5049d9,_0x5a3c09=a0_0x38aafa;if(window[_0x5a3c09(0x22a)]>0x384)return;const _0x58a4ff=document[_0x5a3c09(0x275)](_0x5a3c09(0x2ce)),_0x8b3c7a=document[_0x5a3c09(0x275)](_0x12ab0e(0x174)),_0x32f4e8=document[_0x5a3c09(0x275)](_0x5a3c09(0x18b)),_0x220e3b=document[_0x5a3c09(0x275)](_0x1e3ff7(0x1be));!_0x58a4ff[_0x5a3c09(0x23f)](_0x20c9d3[_0x5a3c09(0x2e5)])&&_0x20c9d3[_0x5a3c09(0x2e5)]!==_0x32f4e8&&_0x20c9d3[_0x5a3c09(0x2e5)]!==_0x220e3b&&(_0x58a4ff[_0x5a3c09(0x22b)][_0x5a3c09(0x187)](_0x5a3c09(0x2ec)),_0x8b3c7a[_0x5a3c09(0x22b)][_0x5a3c09(0x187)](_0x5a3c09(0x2a1)),_0x220e3b[_0x5a3c09(0x1f8)][_0x5a3c09(0x2f0)]=_0x3fabeb(0xb2),_0x32f4e8[_0x5a3c09(0x1f8)][_0x5a3c09(0x2f0)]=_0x5a3c09(0x1d2),document[_0x5a3c09(0x1e8)][_0x5a3c09(0x1f8)][_0x5a3c09(0x188)]='',document[_0x1e3ff7(0x1c5)][_0x5a3c09(0x1f8)][_0x5a3c09(0x1ec)]='');}),(function(){const _0x412a45=a0_0x38aafa;try{(location[_0x412a45(0x1ad)][_0x412a45(0x18c)](/index\.html$/)||location[_0x412a45(0x1ad)]==='/'||location[_0x412a45(0x1ad)]===_0x412a45(0x2b1))&&(!localStorage[_0x412a45(0x1d5)](_0x412a45(0x249))&&(localStorage[_0x412a45(0x1fc)](_0x412a45(0x249),'1'),location[_0x412a45(0x1c8)]=_0x412a45(0x2ae)));}catch(_0x4bed51){}}());function a0_0x35c9(_0x1abf47,_0xc55311){_0x1abf47=_0x1abf47-0xc8;const _0x1dc0f7=a0_0x9b6b();let _0x3121c4=_0x1dc0f7[_0x1abf47];return _0x3121c4;}let scale=0x1,posX=0x0,posY=0x0,lastX=0x0,lastY=0x0,dragging=![],startX=0x0,startY=0x0,shiftPressed=![],pointerDownX=0x0,pointerDownY=0x0;const PAN_CANCEL_DISTANCE=0x8;document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x1cc),_0x47af28=>{const _0x4e038b=a0_0x38aafa;if(_0x47af28[_0x4e038b(0x2c5)]===_0x4e038b(0x24c))shiftPressed=!![];}),document[a0_0x38aafa(0x21d)](a0_0x38aafa(0x1ab),_0x123144=>{const _0x81e2b7=a0_0x38aafa;if(_0x123144[_0x81e2b7(0x2c5)]===_0x81e2b7(0x24c))shiftPressed=![];}),canvas[a0_0x5049d9(0x1a3)](a0_0x38aafa(0x1cd),_0x3a55cd=>{const _0x18bdd9=a0_0x521960,_0xbd4dc0=a0_0x5049d9,_0x1c43c8=a0_0x38aafa;if(_0x3a55cd[_0x1c43c8(0x220)]===_0x1c43c8(0x1a5))return;currentTool===_0x1c43c8(0x232)||shiftPressed?(dragging=!![],isDrawing=![],startX=_0x3a55cd[_0x1c43c8(0x193)],startY=_0x3a55cd[_0x1c43c8(0x25d)],lastX=posX,lastY=posY,canvas[_0x1c43c8(0x1f0)](_0x3a55cd[_0x1c43c8(0x270)]),canvas[_0x1c43c8(0x1f8)][_0x1c43c8(0x2bd)]=_0x1c43c8(0x1c2)):(isDrawing=!![],pointerDownX=_0x3a55cd[_0x1c43c8(0x193)],pointerDownY=_0x3a55cd[_0xbd4dc0(0x12b)],handleMouseDown(_0x3a55cd),canvas[_0x18bdd9(0x1cc)](_0x3a55cd[_0x1c43c8(0x270)]));}),canvas[a0_0x38aafa(0x21d)](a0_0x38aafa(0x17e),_0xceea31=>{const _0x49f44d=a0_0x521960,_0x4dfe56=a0_0x38aafa;if(_0xceea31[_0x4dfe56(0x220)]===_0x4dfe56(0x1a5))return;if(dragging)posX=lastX+(_0xceea31[_0x4dfe56(0x193)]-startX),posY=lastY+(_0xceea31[_0x49f44d(0x1a6)]-startY),updateTransform();else{if(isDrawing){if(currentTool!==_0x4dfe56(0x182)){const _0x313e78=Math[_0x4dfe56(0x1a6)](_0xceea31[_0x4dfe56(0x193)]-pointerDownX),_0x6eb745=Math[_0x4dfe56(0x1a6)](_0xceea31[_0x4dfe56(0x25d)]-pointerDownY);if(_0x313e78>=PAN_CANCEL_DISTANCE||_0x6eb745>=PAN_CANCEL_DISTANCE){isDrawing=![];try{handleMouseUp(_0xceea31);}catch(_0x28aeaa){}return;}}handleMouseMove(_0xceea31);}}}),canvas[a0_0x38aafa(0x21d)](a0_0x38aafa(0x2de),_0x3800f9=>{const _0x264239=a0_0x521960,_0xca093a=a0_0x5049d9,_0x571ca5=a0_0x38aafa;if(_0x3800f9[_0x571ca5(0x220)]===_0x571ca5(0x1a5))return;dragging=![],isDrawing&&handleMouseUp(_0x3800f9),isDrawing=![];try{canvas[_0xca093a(0x217)](_0x3800f9[_0x571ca5(0x270)]);}catch(_0x211bc3){}if(currentTool===_0x264239(0x12a))canvas[_0x571ca5(0x1f8)][_0x571ca5(0x2bd)]=_0x264239(0xc3);else canvas[_0x571ca5(0x1f8)][_0xca093a(0x151)]=_0xca093a(0x10c);}),wrapper[a0_0x38aafa(0x21d)](a0_0x521960(0x12c),_0x11569f=>{const _0x258f6f=a0_0x5049d9,_0x3e49cf=a0_0x38aafa;_0x11569f[_0x258f6f(0x187)]();const _0x573ee4=canvas[_0x258f6f(0x1b0)](),_0x400825=_0x11569f[_0x3e49cf(0x193)],_0x391afe=_0x11569f[_0x3e49cf(0x25d)],_0x1d1628=(_0x400825-_0x573ee4[_0x3e49cf(0x2a7)]-posX)/scale,_0x58263a=(_0x391afe-_0x573ee4[_0x3e49cf(0x196)]-posY)/scale,_0x100d61=_0x11569f[_0x3e49cf(0x1e7)]>0x0?0.9:1.1;let _0x439e17=scale*_0x100d61;_0x439e17=Math[_0x3e49cf(0x1b2)](Math[_0x3e49cf(0x2c3)](_0x439e17,0.2),0x5),posX=_0x400825-_0x573ee4[_0x3e49cf(0x2a7)]-_0x1d1628*_0x439e17,posY=_0x391afe-_0x573ee4[_0x3e49cf(0x196)]-_0x58263a*_0x439e17,scale=_0x439e17,updateTransform();const _0x55513d=document[_0x3e49cf(0x275)](_0x258f6f(0x155)),_0x1952c3=document[_0x3e49cf(0x275)](_0x3e49cf(0x2b6));if(_0x55513d)_0x55513d[_0x3e49cf(0x24e)]=Math[_0x3e49cf(0x26f)](scale*0x64);if(_0x1952c3)_0x1952c3[_0x3e49cf(0x221)]=Math[_0x3e49cf(0x26f)](scale*0x64)+'%';},{'passive':![]});function updateTransform(){const _0xf121c7=a0_0x5049d9,_0x11546e=a0_0x38aafa;canvas[_0x11546e(0x1f8)][_0xf121c7(0xee)]=_0x11546e(0x184)+posX+_0x11546e(0x1c0)+posY+_0xf121c7(0xda)+scale+')';}function setZoomValue(_0x20427d){const _0xf70d8c=a0_0x5049d9,_0x34feea=a0_0x38aafa,_0x12a5ed=Math[_0xf70d8c(0x107)](0x14,Math[_0x34feea(0x1b2)](0x1f4,parseInt(_0x20427d,0xa)||0x64)),_0x299c2e=_0x12a5ed/0x64;scale=_0x299c2e,updateTransform();const _0x813ab0=document[_0x34feea(0x275)](_0x34feea(0x1bc)),_0x2003f0=document[_0x34feea(0x275)](_0x34feea(0x2b6));if(_0x813ab0)_0x813ab0[_0x34feea(0x24e)]=_0x12a5ed;if(_0x2003f0)_0x2003f0[_0x34feea(0x221)]=_0x12a5ed+'%';}function zoomIn(){const _0xabacf6=a0_0x38aafa,_0x33018f=document[_0xabacf6(0x275)](_0xabacf6(0x1bc));let _0x1b10de=_0x33018f?parseInt(_0x33018f[_0xabacf6(0x24e)],0xa):Math[_0xabacf6(0x26f)](scale*0x64);_0x1b10de=Math[_0xabacf6(0x1b2)](0x1f4,_0x1b10de+0xa),setZoomValue(_0x1b10de);}function zoomOut(){const _0xddb57c=a0_0x521960,_0x1e62e4=a0_0x38aafa,_0xff5c98=document[_0x1e62e4(0x275)](_0xddb57c(0x135));let _0x482cb1=_0xff5c98?parseInt(_0xff5c98[_0x1e62e4(0x24e)],0xa):Math[_0x1e62e4(0x26f)](scale*0x64);_0x482cb1=Math[_0x1e62e4(0x2c3)](0x14,_0x482cb1-0xa),setZoomValue(_0x482cb1);}const zs=document[a0_0x38aafa(0x275)](a0_0x413a03(0x12d));if(zs)zs[a0_0x38aafa(0x28a)]=_0x19bc50=>setZoomValue(_0x19bc50[a0_0x5049d9(0x1d3)][a0_0x38aafa(0x24e)]);function a0_0x9b6b(){const _0x137467=a0_0x3f33,_0x615db7=a0_0x111e,_0x1a87a8=[_0x137467(0x13f),_0x615db7(0x127),_0x615db7(0xea),_0x615db7(0x1d3),'touchstart',_0x615db7(0x114),_0x615db7(0xd7),_0x615db7(0x1a9),_0x615db7(0xba),_0x615db7(0xcc),_0x615db7(0x101),_0x615db7(0xa7),_0x615db7(0x169),_0x615db7(0x1db),_0x615db7(0xbc),_0x137467(0x173),_0x615db7(0x188),_0x137467(0x1de),_0x615db7(0xbd),_0x615db7(0xdc),_0x137467(0x1b2),_0x615db7(0x19b),_0x615db7(0xe3),_0x615db7(0x159),_0x615db7(0x164),_0x615db7(0x1df),_0x615db7(0xb1),_0x615db7(0x97),_0x615db7(0xb0),_0x615db7(0x1c8),_0x615db7(0x18f),'この色をパレットから削除',_0x615db7(0x13b),_0x615db7(0x175),_0x615db7(0x123),_0x137467(0x114),_0x615db7(0x8d),_0x615db7(0x12c),_0x615db7(0xd4),_0x615db7(0x1f4),_0x615db7(0x166),_0x615db7(0x1ed),_0x615db7(0x99),_0x615db7(0x13a),_0x615db7(0x181),_0x137467(0x100),_0x615db7(0x1a5),_0x615db7(0x180),_0x615db7(0x19c),_0x615db7(0x1bb),_0x615db7(0x1bd),'onblur',_0x615db7(0x19f),_0x137467(0x200),_0x137467(0x1d1),_0x615db7(0xda),_0x615db7(0x1b4),_0x615db7(0x133),_0x615db7(0x1bf),_0x615db7(0x193),_0x137467(0x153),_0x615db7(0x1c3),_0x615db7(0x17c),_0x615db7(0x115),_0x615db7(0x1d0),_0x615db7(0x167),_0x615db7(0x1e6),_0x615db7(0xcd),_0x615db7(0x16a),_0x615db7(0x9b),_0x615db7(0x16e),_0x615db7(0x141),_0x615db7(0xc4),_0x615db7(0x122),_0x615db7(0x186),_0x137467(0x15f),_0x615db7(0xab),_0x615db7(0x19d),_0x615db7(0xe2),_0x615db7(0xce),_0x615db7(0x1eb),'palette-color',_0x615db7(0x93),'getAttribute',_0x615db7(0xa1),_0x615db7(0xac),_0x615db7(0x153),'getContext','GIFに変換できる画像がありません。',_0x615db7(0x129),'changedTouches',_0x615db7(0x158),_0x615db7(0xee),_0x615db7(0x13c),_0x615db7(0x1da),_0x615db7(0x11a),_0x615db7(0x1aa),_0x137467(0xe7),_0x137467(0x1cd),_0x615db7(0x118),_0x137467(0xc3),_0x615db7(0x1c6),_0x137467(0x211),_0x615db7(0x128),_0x615db7(0x8c),_0x615db7(0x176),_0x615db7(0x1bc),_0x137467(0xbf),_0x615db7(0x168),'#newProjName',_0x615db7(0x161),_0x615db7(0x110),_0x615db7(0xdf),_0x615db7(0x1cd),_0x615db7(0xe8),_0x137467(0x102),_0x615db7(0xa6),_0x137467(0x1ea),_0x615db7(0x155),_0x615db7(0x88),_0x615db7(0x1e1),_0x615db7(0x195),_0x137467(0x179),_0x615db7(0x18b),_0x615db7(0x1c4),_0x137467(0x134),_0x615db7(0x18a),_0x615db7(0xaa),_0x615db7(0xe7),_0x615db7(0x11d),_0x615db7(0x1cf),_0x615db7(0x1ce),_0x615db7(0x108),_0x137467(0xdc),_0x615db7(0x8a),_0x615db7(0x14f),_0x615db7(0x12e),_0x615db7(0x8b),_0x615db7(0x1ae),_0x615db7(0x96),_0x615db7(0x1c0),_0x615db7(0xff),_0x137467(0xd6),_0x615db7(0xd9),_0x615db7(0x9e),_0x615db7(0x187),_0x615db7(0x1a1),_0x615db7(0x15f),_0x615db7(0x1b8),'#cccccc',_0x615db7(0xaf),_0x615db7(0xe1),_0x615db7(0xc3),_0x137467(0x148),_0x615db7(0x143),_0x615db7(0xf7),_0x615db7(0x126),'preventDefault',_0x615db7(0x1e5),_0x615db7(0x1e3),_0x615db7(0x1e7),_0x615db7(0x10c),_0x615db7(0x199),_0x615db7(0x146),_0x615db7(0x12f),_0x615db7(0xed),_0x615db7(0x10f),_0x615db7(0x106),_0x615db7(0x1c9),_0x137467(0xc1),_0x615db7(0x1ea),_0x615db7(0x113),_0x615db7(0x182),_0x615db7(0x109),_0x137467(0x18b),_0x615db7(0x1c7),_0x615db7(0x151),_0x615db7(0xd2),'className',_0x615db7(0x14a),_0x615db7(0xf0),_0x615db7(0x160),'ontouchstart',_0x615db7(0x1f6),_0x615db7(0x1f0),_0x615db7(0xf6),_0x615db7(0x1b2),_0x615db7(0xcb),_0x615db7(0x1a6),_0x615db7(0x170),_0x615db7(0x1d1),_0x615db7(0xe9),_0x615db7(0x9d),_0x615db7(0xae),_0x615db7(0x13d),_0x615db7(0x1a3),_0x615db7(0x87),_0x615db7(0xd0),_0x615db7(0x197),_0x615db7(0xc7),_0x615db7(0x1cb),_0x615db7(0x1a0),_0x615db7(0x95),_0x615db7(0x1c5),_0x615db7(0xfe),_0x615db7(0xd3),_0x615db7(0xd6),_0x615db7(0xa0),_0x615db7(0x9c),_0x615db7(0x14c),_0x615db7(0x11c),_0x615db7(0xf5),_0x615db7(0x1ac),_0x615db7(0xc8),_0x615db7(0xbb),_0x615db7(0x107),_0x137467(0x161),_0x137467(0x212),_0x615db7(0x136),_0x137467(0x12a),_0x615db7(0x145),_0x615db7(0x1c2),_0x137467(0xea),_0x137467(0x1bb),_0x137467(0x1ed),_0x615db7(0xf2),_0x137467(0x192),_0x615db7(0x119),_0x137467(0x141),_0x615db7(0xcf),_0x615db7(0x140),_0x615db7(0x16c),_0x137467(0x121),_0x615db7(0x15d),_0x615db7(0x192),_0x137467(0x130),_0x137467(0xec),_0x615db7(0x120),_0x615db7(0x1a2),_0x137467(0x1e7),_0x615db7(0x11e),_0x615db7(0xa2),_0x615db7(0x17b),_0x615db7(0x92),'replace',_0x615db7(0xb6),_0x615db7(0x13f),_0x137467(0x10e),_0x615db7(0x1b5),_0x615db7(0x1b9),_0x615db7(0xe5),_0x615db7(0x12b),_0x615db7(0x1ad),'justifyContent',_0x615db7(0xe6),_0x137467(0x15d),_0x615db7(0x1e2),_0x615db7(0x132),_0x615db7(0x1dd),_0x615db7(0x124),_0x615db7(0xfd),_0x137467(0x1e6),_0x615db7(0xa8),_0x615db7(0x10d),_0x615db7(0x1cc),_0x615db7(0x179),_0x615db7(0xd1),_0x615db7(0xeb),_0x615db7(0x17e),_0x615db7(0x1b3),_0x615db7(0x98),_0x137467(0x1af),_0x615db7(0x165),_0x615db7(0x178),_0x615db7(0xc1),_0x615db7(0x18d),_0x615db7(0x112),_0x615db7(0x196),_0x615db7(0xb7),_0x615db7(0x1d5),_0x615db7(0x137),_0x615db7(0x104),_0x615db7(0xd5),_0x615db7(0x18c),_0x615db7(0x1a4),_0x615db7(0xb5),_0x137467(0xd0),_0x615db7(0xe4),_0x615db7(0x154),_0x615db7(0xdb),_0x615db7(0x9a),_0x615db7(0x14e),_0x615db7(0xf8),_0x615db7(0x18e),_0x615db7(0xc5),_0x615db7(0x1ec),_0x137467(0x193),_0x615db7(0x116),_0x615db7(0x12d),_0x137467(0x172),_0x615db7(0xc2),_0x137467(0x169),_0x615db7(0x130),_0x615db7(0x142),_0x615db7(0x91),_0x615db7(0x1f2),_0x615db7(0x17f),_0x615db7(0xca),_0x615db7(0xbf),_0x615db7(0x9f),_0x615db7(0xa5),'fixed','14lKJKdV',_0x615db7(0x15e),_0x615db7(0x1b6),_0x615db7(0x1dc),_0x137467(0x160),'download','firstChild',_0x137467(0x10d),_0x615db7(0xfb),_0x137467(0xca),_0x615db7(0x90),'finished',_0x615db7(0x1af),'onmouseleave',_0x615db7(0x1de),_0x615db7(0x152),_0x615db7(0x1b7),_0x615db7(0x1be),_0x615db7(0x125),_0x615db7(0x19a),_0x615db7(0x1ef),_0x615db7(0x1d2),_0x615db7(0x135),_0x615db7(0x185),_0x615db7(0x134),_0x137467(0x1fb),_0x615db7(0x1f3),_0x615db7(0x1b0),'get',_0x615db7(0x19e),_0x137467(0x1d2),'href',_0x615db7(0x1ab),_0x615db7(0x173),'IndexedDBからプロジェクトを読み込んだチュー！',_0x615db7(0x1c1),_0x615db7(0x1d7),_0x615db7(0xc6),_0x615db7(0xb9),_0x615db7(0x1e0),_0x615db7(0x184)];return a0_0x9b6b=function(){return _0x1a87a8;},a0_0x9b6b();}function a0_0xce2f(_0x41db71,_0x1fcb3f){_0x41db71=_0x41db71-0xda;const _0x9378bf=a0_0x243d();let _0x46f2a0=_0x9378bf[_0x41db71];return _0x46f2a0;}const zv=document[a0_0x38aafa(0x275)](a0_0x5049d9(0x16a));if(zv)zv[a0_0x5049d9(0x154)]=Math[a0_0x521960(0x122)](scale*0x64)+'%';function getCanvasCoords(_0x11182c){const _0x1947ae=a0_0x413a03,_0x4ce925=a0_0x5049d9,_0xe57fe5=a0_0x38aafa,_0x5cb073=canvas[_0x1947ae(0x19b)](),_0x56a133=canvas[_0x4ce925(0x190)]/_0x5cb073[_0xe57fe5(0x1b8)],_0x1debe2=canvas[_0xe57fe5(0x27c)]/_0x5cb073[_0xe57fe5(0x27c)],_0x5d31ef=(_0x11182c[_0xe57fe5(0x193)]-_0x5cb073[_0xe57fe5(0x2a7)])*_0x56a133,_0x895c24=(_0x11182c[_0xe57fe5(0x25d)]-_0x5cb073[_0xe57fe5(0x196)])*_0x1debe2;return{'x':_0x5d31ef,'y':_0x895c24};}function handleDrawStart(_0x3617d5){const _0x52aea4=a0_0x38aafa,_0xa0a05=getCanvasCoords(_0x3617d5);ctx[_0x52aea4(0x2eb)](),ctx[_0x52aea4(0x29e)](_0xa0a05['x'],_0xa0a05['y']);}function handleDrawMove(_0x27387c){const _0x2c79ed=a0_0x5049d9,_0x41bb33=a0_0x38aafa,_0x989063=getCanvasCoords(_0x27387c);ctx[_0x2c79ed(0xf3)](_0x989063['x'],_0x989063['y']),ctx[_0x41bb33(0x2d9)]();}function handleDrawEnd(_0x5923c1){const _0x3debe1=a0_0x38aafa;ctx[_0x3debe1(0x2db)]();}function a0_0x3c67(){const _0x593921=a0_0x3f33,_0x298d1e=[_0x593921(0x1a0),_0x593921(0x13e),_0x593921(0x131),'activeLayer','undefined',_0x593921(0x194),_0x593921(0x11e),_0x593921(0x168),'(prefers-color-scheme:\x20dark)',_0x593921(0x1f6),_0x593921(0x16d),'dark',_0x593921(0x1bf),_0x593921(0x174),'14236XjzBgT',_0x593921(0x117),_0x593921(0x155),_0x593921(0x1a3),'#palette-penMode',_0x593921(0x185),_0x593921(0x124),_0x593921(0xdd),'コマ)',_0x593921(0x13c),'webp',_0x593921(0x213),'boolean',_0x593921(0x110),_0x593921(0xc5),_0x593921(0x1c1),_0x593921(0x1fc),_0x593921(0x152),_0x593921(0x1c5),_0x593921(0x176),_0x593921(0x122),_0x593921(0x12f),_0x593921(0xc2),_0x593921(0x10c),'colorPicker',_0x593921(0xbc),_0x593921(0xf3),_0x593921(0x1d4),'\x22\x20data-tool=\x22eraser\x22\x20onclick=\x22setTool(\x27eraser\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>delete</span>消しゴム</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tool-btn',_0x593921(0x17d),'#800000',_0x593921(0x1b8),_0x593921(0x15e),_0x593921(0xeb),_0x593921(0xc8),_0x593921(0x18d),_0x593921(0x1b4),_0x593921(0x1aa),'\x22\x20data-tool=\x22fill\x22\x20onclick=\x22setTool(\x27fill\x27)\x22><span\x20class=\x22material-icons\x22\x20style=\x22vertical-align:\x20middle;\x22>format_color_fill</span>塗りつぶし</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20style=\x22margin-left:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20太さ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22palette-penSize\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x221\x22',_0x593921(0x14d),_0x593921(0x1e4),_0x593921(0xce),_0x593921(0x1bd),_0x593921(0xfc),_0x593921(0x206),_0x593921(0x1a2),_0x593921(0x1d3),_0x593921(0x209),_0x593921(0x132),_0x593921(0x1a9),_0x593921(0x142),_0x593921(0xe3),_0x593921(0x1f2),'translate(',_0x593921(0x217),_0x593921(0x1be),_0x593921(0x130),_0x593921(0xf7),_0x593921(0xdf),_0x593921(0x158),'decode',_0x593921(0x188),_0x593921(0x151),'activeProject',_0x593921(0x16a),_0x593921(0x17e),'7364640yMKFng',_0x593921(0xc9),_0x593921(0x1da),'transparent',_0x593921(0x1d6),_0x593921(0x14b),_0x593921(0x129),_0x593921(0x1e5),_0x593921(0x101),_0x593921(0x1f5),_0x593921(0x11a),_0x593921(0x143),_0x593921(0xba),_0x593921(0x20b),_0x593921(0x18a),_0x593921(0xd3),_0x593921(0xfd),'circle',_0x593921(0x137),_0x593921(0x19b),_0x593921(0x17b),_0x593921(0x191),_0x593921(0x1b6),_0x593921(0x1bc),_0x593921(0x15b),'9UjjHrQ','focus',_0x593921(0x1f1),_0x593921(0xd4),_0x593921(0xd1),'layer-item',_0x593921(0xb8),_0x593921(0x216),_0x593921(0x18c),_0x593921(0xcf),'getContext',_0x593921(0xbd),_0x593921(0x1c4),_0x593921(0x1ad),_0x593921(0x1cb),_0x593921(0xcd),_0x593921(0x1b1),_0x593921(0xe0),_0x593921(0x103),_0x593921(0x12b),_0x593921(0xcc),_0x593921(0x1ae),_0x593921(0xe9),_0x593921(0x189),'#ff0000',_0x593921(0xc4),'#ffa500','image/jpeg','none',_0x593921(0xbe),_0x593921(0x14f),_0x593921(0x1e2),_0x593921(0x205),_0x593921(0x14a),_0x593921(0x1df),_0x593921(0x15c),_0x593921(0x123),_0x593921(0x112),_0x593921(0x190),'map',_0x593921(0x12c),_0x593921(0x139),'#c0c0c0',_0x593921(0x120),_0x593921(0x147),_0x593921(0xe1),_0x593921(0x1a1),_0x593921(0xc0),_0x593921(0x154),'10188tVdTJu',_0x593921(0x196),_0x593921(0x1b7),'#0000ff','name',_0x593921(0x214),_0x593921(0x20a),_0x593921(0xf2),'contains',_0x593921(0xde),_0x593921(0xda),_0x593921(0x1b0),'8fhqvtN',_0x593921(0x17c),'putImageData',_0x593921(0x1c0),_0x593921(0x204),_0x593921(0xff),'ファイルの読み込みに失敗しました。',_0x593921(0x13a),_0x593921(0x18f),_0x593921(0xe2),'保存に失敗したチュー:',_0x593921(0xbb),_0x593921(0xf4),_0x593921(0x138),_0x593921(0x12d),'objectStore',_0x593921(0xd9),_0x593921(0x19f),_0x593921(0x113),_0x593921(0x1fe),_0x593921(0x1dc),_0x593921(0x202),_0x593921(0xe6),_0x593921(0x1d7),'search','pointerId','pop',_0x593921(0x165),'menu-toggle-btn','プロジェクトをIndexedDBに保存したチュー！',_0x593921(0x20d),'palette-penMode',_0x593921(0x1e8),_0x593921(0x170),_0x593921(0x175),_0x593921(0x106),_0x593921(0x167),_0x593921(0x140),'beginPath',_0x593921(0xfe),_0x593921(0x109),'#newProjH',_0x593921(0xc7),'100vh','touchcancel',_0x593921(0x16c),_0x593921(0x150),_0x593921(0x1ca),_0x593921(0xfb),'2471826kAkssG',_0x593921(0x186),_0x593921(0x125),'#newProjOkBtn',_0x593921(0x17a),_0x593921(0xef),_0x593921(0xe4),_0x593921(0x11f),_0x593921(0x1c9),_0x593921(0x187),_0x593921(0x1b3),'title','configure','shift',_0x593921(0x1e1),'frameList','aria-pressed',_0x593921(0x16b),'80px',_0x593921(0x1ab),'anonymous','transform',_0x593921(0x1d5),_0x593921(0x14c),_0x593921(0x162),_0x593921(0x20c),_0x593921(0x18e),'auto','value','parse',_0x593921(0x1af),'21479103enQVXi','px)\x20scale(',_0x593921(0x133),'addEventListener',_0x593921(0xed),_0x593921(0x145),_0x593921(0x1e9),_0x593921(0x108),'fill',_0x593921(0x11d),_0x593921(0x19e),_0x593921(0x1e0),_0x593921(0xf5),_0x593921(0x111),_0x593921(0x13b),'target',_0x593921(0x157),_0x593921(0x1c7),_0x593921(0x1c3),'frameCount',_0x593921(0x13d),_0x593921(0x1a6),_0x593921(0x1ee),_0x593921(0xcb),_0x593921(0xdb),'project-name',_0x593921(0x118),_0x593921(0x208),_0x593921(0xf6),_0x593921(0x218),'log',_0x593921(0xf1),'number',_0x593921(0x19a),'pan','canvas',_0x593921(0xf8),'.toggle-btn',_0x593921(0x195),_0x593921(0x1b9),_0x593921(0x135),'min','740250Xwpmxw','readonly',_0x593921(0x16e),_0x593921(0xe5),_0x593921(0x1ec),_0x593921(0x105),'projectCount',_0x593921(0x171),'#008080',_0x593921(0x1cc),_0x593921(0x1fd),_0x593921(0x182),'WebCodecs',_0x593921(0x1ac),_0x593921(0x164),_0x593921(0x126),_0x593921(0x21a),_0x593921(0x128),'#000080','6565944uViiCR',_0x593921(0xe8),_0x593921(0x10a),_0x593921(0x15a),'zoomValue',_0x593921(0x198),_0x593921(0xc6),_0x593921(0x1c6),_0x593921(0x144),_0x593921(0x127),'data',_0x593921(0x1ff),_0x593921(0x1c2),_0x593921(0xee),_0x593921(0x1ce),_0x593921(0x201),_0x593921(0x1a7),_0x593921(0x119),_0x593921(0xd8),'replaceWith',_0x593921(0x1f0),_0x593921(0x1c8),_0x593921(0xf0),'layerHistories',_0x593921(0x136),_0x593921(0x163),_0x593921(0x178),_0x593921(0x197),_0x593921(0x1e3),_0x593921(0x203),_0x593921(0x215),_0x593921(0x146),_0x593921(0x1d9),_0x593921(0x180),'sidebar',_0x593921(0x19d),_0x593921(0x1eb),'pen','1023636OyXKxu',_0x593921(0x1f4),_0x593921(0x1a5),_0x593921(0x210),_0x593921(0x11c),_0x593921(0x11b),'crosshair','color',_0x593921(0x104),_0x593921(0xb9),_0x593921(0x1db),_0x593921(0x1fa),_0x593921(0x1d8),_0x593921(0x159),_0x593921(0x20e),_0x593921(0xd2),'touch','layerRedoStacks',_0x593921(0x1f9),_0x593921(0x18b),_0x593921(0x219),_0x593921(0x16f),_0x593921(0x156)];return a0_0x3c67=function(){return _0x298d1e;},a0_0x3c67();}