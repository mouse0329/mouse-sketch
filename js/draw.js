const _0x358723=_0x5e58;(function(_0x5ed728,_0xf91e80){const _0x465f35=_0x5e58,_0x7d7149=_0x5ed728();while(!![]){try{const _0x4a3265=parseInt(_0x465f35(0x1e5))/0x1+-parseInt(_0x465f35(0x20d))/0x2*(parseInt(_0x465f35(0x1e1))/0x3)+-parseInt(_0x465f35(0x1e2))/0x4*(parseInt(_0x465f35(0x236))/0x5)+parseInt(_0x465f35(0x235))/0x6+-parseInt(_0x465f35(0x233))/0x7*(parseInt(_0x465f35(0x232))/0x8)+parseInt(_0x465f35(0x1e6))/0x9*(parseInt(_0x465f35(0x222))/0xa)+parseInt(_0x465f35(0x20f))/0xb;if(_0x4a3265===_0xf91e80)break;else _0x7d7149['push'](_0x7d7149['shift']());}catch(_0x3440d5){_0x7d7149['push'](_0x7d7149['shift']());}}}(_0x3782,0x46cd7));const _0x526a63=(function(){let _0x5d8682=!![];return function(_0x470b24,_0x128d96){const _0x16ad16=_0x5d8682?function(){const _0x5af8be=_0x5e58;if(_0x128d96){const _0x40b020=_0x128d96[_0x5af8be(0x23c)](_0x470b24,arguments);return _0x128d96=null,_0x40b020;}}:function(){};return _0x5d8682=![],_0x16ad16;};}()),_0x87103d=_0x526a63(this,function(){const _0x517d90=_0x5e58;return _0x87103d['toString']()[_0x517d90(0x1ed)]('(((.+)+)+)+$')[_0x517d90(0x215)]()['constructor'](_0x87103d)[_0x517d90(0x1ed)]('(((.+)+)+)+$');});_0x87103d();function setPenSize(_0x3e5e41){const _0x5982fc=_0x5e58;penSize=parseInt(_0x3e5e41)||0x1;let _0x179f86=document[_0x5982fc(0x1f9)]('penSize');if(_0x179f86)_0x179f86['value']=penSize;let _0x169d07=document[_0x5982fc(0x1f9)]('palette-penSize');if(_0x169d07)_0x169d07[_0x5982fc(0x220)]=penSize;}function setPenMode(_0x2e0a86){const _0x5912b2=_0x5e58;penMode=_0x2e0a86;let _0x4702c1=document[_0x5912b2(0x1f9)]('penMode');if(_0x4702c1)_0x4702c1['value']=penMode;let _0x4e2360=document[_0x5912b2(0x1f9)](_0x5912b2(0x211));if(_0x4e2360)_0x4e2360[_0x5912b2(0x220)]=penMode;}function fillAt(_0x1763e3,_0x386433){const _0x530aaa=_0x5e58;let _0x2c56ac=getCurrentProject(),_0x110acb=getCurrentFrame();if(!_0x2c56ac||!_0x110acb||typeof _0x110acb[_0x530aaa(0x228)]!=='number'||!_0x110acb[_0x530aaa(0x1e8)][_0x110acb[_0x530aaa(0x228)]])return;const _0x3ac22c=_0x110acb[_0x530aaa(0x1e8)][_0x110acb[_0x530aaa(0x228)]],_0x4629b0=_0x3ac22c&&_0x3ac22c['canvas']?_0x3ac22c['canvas']:_0x3ac22c;if(!_0x4629b0||!_0x4629b0[_0x530aaa(0x22d)])return;let _0x2db9e0=_0x4629b0[_0x530aaa(0x22d)]('2d',{'willReadFrequently':!![]}),_0x503343=_0x2db9e0[_0x530aaa(0x1e9)](0x0,0x0,_0x2c56ac['width']*cellSize,_0x2c56ac[_0x530aaa(0x202)]*cellSize),_0x38ff47=_0x1763e3*cellSize,_0x378116=_0x386433*cellSize,_0x1b871e=getPixel(_0x503343,_0x38ff47,_0x378116),_0xfa7870=currentAlpha===0x0?[0x0,0x0,0x0,0x0]:hexToRgba(currentColor,currentAlpha);if(colorsMatch(_0x1b871e,_0xfa7870))return;let _0x5b3c9e=[[_0x1763e3,_0x386433]],_0x34ac07=new Set();while(_0x5b3c9e[_0x530aaa(0x205)]){let [_0x94b084,_0x55f85b]=_0x5b3c9e[_0x530aaa(0x1f2)]();if(_0x94b084<0x0||_0x55f85b<0x0||_0x94b084>=_0x2c56ac[_0x530aaa(0x1f1)]||_0x55f85b>=_0x2c56ac['height'])continue;let _0x1038d0=_0x94b084+','+_0x55f85b;if(_0x34ac07[_0x530aaa(0x22a)](_0x1038d0))continue;_0x34ac07[_0x530aaa(0x22b)](_0x1038d0);let _0x58e8f2=_0x94b084*cellSize,_0x52137f=_0x55f85b*cellSize,_0x4a41aa=getPixel(_0x503343,_0x58e8f2,_0x52137f);if(!colorsMatch(_0x4a41aa,_0x1b871e))continue;for(let _0x2ac28d=0x0;_0x2ac28d<cellSize;_0x2ac28d++){for(let _0x5e1774=0x0;_0x5e1774<cellSize;_0x5e1774++){setPixel(_0x503343,_0x58e8f2+_0x5e1774,_0x52137f+_0x2ac28d,_0xfa7870);}}_0x5b3c9e[_0x530aaa(0x1e7)]([_0x94b084+0x1,_0x55f85b]),_0x5b3c9e['push']([_0x94b084-0x1,_0x55f85b]),_0x5b3c9e['push']([_0x94b084,_0x55f85b+0x1]),_0x5b3c9e[_0x530aaa(0x1e7)]([_0x94b084,_0x55f85b-0x1]);}_0x2db9e0[_0x530aaa(0x1f3)](_0x503343,0x0,0x0),redrawAll();}function getPixel(_0x4bee68,_0x24abf8,_0x27b560){const _0x1b364e=_0x5e58;let _0x35be7d=(_0x27b560*_0x4bee68['width']+_0x24abf8)*0x4;return[_0x4bee68[_0x1b364e(0x209)][_0x35be7d],_0x4bee68[_0x1b364e(0x209)][_0x35be7d+0x1],_0x4bee68[_0x1b364e(0x209)][_0x35be7d+0x2],_0x4bee68[_0x1b364e(0x209)][_0x35be7d+0x3]];}function setPixel(_0x42910c,_0x502680,_0x7d3519,_0x187c80){const _0xa2169e=_0x5e58;let _0x4c1096=(_0x7d3519*_0x42910c[_0xa2169e(0x1f1)]+_0x502680)*0x4;_0x42910c[_0xa2169e(0x209)][_0x4c1096]=_0x187c80[0x0],_0x42910c[_0xa2169e(0x209)][_0x4c1096+0x1]=_0x187c80[0x1],_0x42910c['data'][_0x4c1096+0x2]=_0x187c80[0x2],_0x42910c['data'][_0x4c1096+0x3]=_0x187c80[0x3];}function drawDotXY(_0x442ad8,_0x3e4bcb){const _0x6969d5=_0x5e58;let _0x56a921=getCurrentProject(),_0x3ca59f=getCurrentFrame();if(!_0x3ca59f||!_0x56a921)return;if(typeof _0x442ad8!=='number'||typeof _0x3e4bcb!==_0x6969d5(0x1f6)||_0x442ad8<0x0||_0x3e4bcb<0x0||!Number['isFinite'](_0x56a921[_0x6969d5(0x1f1)])||!Number[_0x6969d5(0x1f5)](_0x56a921[_0x6969d5(0x202)])||_0x442ad8>=_0x56a921[_0x6969d5(0x1f1)]||_0x3e4bcb>=_0x56a921[_0x6969d5(0x202)]||!Array[_0x6969d5(0x23b)](_0x3ca59f[_0x6969d5(0x1e8)])||typeof _0x3ca59f[_0x6969d5(0x228)]!==_0x6969d5(0x1f6)||!_0x3ca59f[_0x6969d5(0x1e8)][_0x3ca59f[_0x6969d5(0x228)]])return;const _0x1d4021=_0x3ca59f[_0x6969d5(0x1e8)][_0x3ca59f['activeLayer']],_0x20926d=_0x1d4021&&_0x1d4021[_0x6969d5(0x207)]?_0x1d4021[_0x6969d5(0x207)]:_0x1d4021;if(!_0x20926d||!_0x20926d[_0x6969d5(0x22d)])return;let _0x1684dd=_0x20926d[_0x6969d5(0x22d)]('2d');if(!_0x1684dd)return;if(currentTool==='eraser'||currentAlpha===0x0)drawPenShape(_0x1684dd,_0x442ad8,_0x3e4bcb,null,!![]);else{let _0x112c5e=hexToRgba(currentColor,currentAlpha);_0x1684dd[_0x6969d5(0x223)](),penAlphaMode===_0x6969d5(0x21e)&&currentAlpha<0x1?(drawPenShape(_0x1684dd,_0x442ad8,_0x3e4bcb,null,!![]),drawPenShape(_0x1684dd,_0x442ad8,_0x3e4bcb,_0x112c5e,![])):drawPenShape(_0x1684dd,_0x442ad8,_0x3e4bcb,_0x112c5e,![]),_0x1684dd['restore']();}blitLayerArea(_0x20926d,_0x442ad8,_0x3e4bcb,penSize);}function parseColorToRGBA(_0x131d4f,_0x20334d){const _0x20e406=_0x5e58;if(Array[_0x20e406(0x23b)](_0x131d4f)&&_0x131d4f[_0x20e406(0x205)]>=0x4)return _0x131d4f['slice'](0x0,0x4);if(!_0x131d4f||typeof _0x131d4f!==_0x20e406(0x1eb))return _0x20334d||[0x0,0x0,0x0,0xff];if(_0x131d4f===_0x20e406(0x204)||_0x131d4f['toLowerCase']()===_0x20e406(0x200))return[0x0,0x0,0x0,0x0];const _0x30ed91=_0x131d4f['match'](/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/i);if(_0x30ed91){const _0x32eefe=parseInt(_0x30ed91[0x1],0xa),_0x1bf88a=parseInt(_0x30ed91[0x2],0xa),_0x44c5c4=parseInt(_0x30ed91[0x3],0xa),_0x3c6fb9=typeof _0x30ed91[0x4]!==_0x20e406(0x20e)?Math[_0x20e406(0x219)](parseFloat(_0x30ed91[0x4])*0xff):0xff;return[_0x32eefe,_0x1bf88a,_0x44c5c4,_0x3c6fb9];}try{return hexToRgba(_0x131d4f);}catch(_0x3bd299){return _0x20334d||[0x0,0x0,0x0,0xff];}}function fillCellCircle(_0x4ba8ab,_0x3f0767,_0x38e902,_0x57c632,_0x563618,_0x28354b){const _0x239731=_0x5e58,_0x56bae4=Math[_0x239731(0x239)](0x1,Math['round'](_0x57c632/cellSize)),_0x3c32c2=_0x3f0767+_0x57c632/0x2,_0x49e639=_0x38e902+_0x57c632/0x2,_0x408273=_0x57c632/0x2;for(let _0x2ffb4a=0x0;_0x2ffb4a<_0x56bae4;_0x2ffb4a++){for(let _0x4b1a43=0x0;_0x4b1a43<_0x56bae4;_0x4b1a43++){const _0x9f807c=_0x3f0767+_0x4b1a43*cellSize,_0xdab407=_0x38e902+_0x2ffb4a*cellSize,_0x3f82ed=_0x9f807c+cellSize/0x2,_0x267984=_0xdab407+cellSize/0x2,_0x2fc513=_0x3f82ed-_0x3c32c2,_0x5b62a4=_0x267984-_0x49e639,_0x374d3e=Math[_0x239731(0x1ec)](_0x2fc513*_0x2fc513+_0x5b62a4*_0x5b62a4);if(_0x374d3e<=_0x408273+0.0001){if(_0x28354b)_0x4ba8ab[_0x239731(0x1fe)](_0x9f807c,_0xdab407,cellSize,cellSize);else _0x563618&&(_0x4ba8ab[_0x239731(0x223)](),_0x4ba8ab['globalAlpha']=(_0x563618[0x3]||0xff)/0xff,_0x4ba8ab[_0x239731(0x208)]=_0x239731(0x214)+_0x563618[0x0]+','+_0x563618[0x1]+','+_0x563618[0x2]+')',_0x4ba8ab[_0x239731(0x224)](_0x9f807c,_0xdab407,cellSize,cellSize),_0x4ba8ab[_0x239731(0x1f8)]());}}}}function drawPenShape(_0x15cf12,_0x5ecbf4,_0x177246,_0x3d3f92,_0x43636b){const _0x45a175=_0x5e58,_0x2d895d=_0x5ecbf4*cellSize,_0x2b834e=_0x177246*cellSize,_0x4dcc37=penSize*cellSize;if(_0x43636b)penMode===_0x45a175(0x230)?fillCellCircle(_0x15cf12,_0x2d895d,_0x2b834e,_0x4dcc37,null,!![]):_0x15cf12[_0x45a175(0x1fe)](_0x2d895d-Math[_0x45a175(0x1e3)]((penSize-0x1)/0x2)*cellSize,_0x2b834e-Math['floor']((penSize-0x1)/0x2)*cellSize,_0x4dcc37,_0x4dcc37);else{if(penMode==='circle'){const _0x1fc026=parseColorToRGBA(_0x3d3f92,[0x0,0x0,0x0,0xff]);fillCellCircle(_0x15cf12,_0x2d895d,_0x2b834e,_0x4dcc37,_0x1fc026,![]);}else _0x15cf12[_0x45a175(0x223)](),Array['isArray'](_0x3d3f92)&&_0x3d3f92[_0x45a175(0x205)]>=0x4?(_0x15cf12[_0x45a175(0x208)]=_0x45a175(0x212)+_0x3d3f92[0x0]+','+_0x3d3f92[0x1]+','+_0x3d3f92[0x2]+_0x45a175(0x238),_0x15cf12[_0x45a175(0x226)]=(_0x3d3f92[0x3]||0xff)/0xff):_0x15cf12[_0x45a175(0x208)]=_0x3d3f92,_0x15cf12[_0x45a175(0x224)](_0x2d895d-Math['floor']((penSize-0x1)/0x2)*cellSize,_0x2b834e-Math[_0x45a175(0x1e3)]((penSize-0x1)/0x2)*cellSize,_0x4dcc37,_0x4dcc37),_0x15cf12[_0x45a175(0x1f8)]();}}function blitLayerArea(_0x1e5e48,_0xe3ef46,_0x230ed8,_0x36063a){const _0x315444=_0x5e58;if(!_0x1e5e48||!_0x1e5e48[_0x315444(0x22d)])return;const _0x45ac13=_0x36063a*cellSize,_0xf58bd=Math[_0x315444(0x1e3)]((_0x36063a-0x1)/0x2)*cellSize,_0x55779f=_0xe3ef46*cellSize-_0xf58bd,_0x1786ca=_0x230ed8*cellSize-_0xf58bd,_0x4d52fb=Math[_0x315444(0x239)](0x0,_0x55779f),_0x1920e3=Math[_0x315444(0x239)](0x0,_0x1786ca),_0x3e776e=Math['min'](canvas[_0x315444(0x1f1)],_0x55779f+_0x45ac13),_0x394e70=Math[_0x315444(0x237)](canvas[_0x315444(0x202)],_0x1786ca+_0x45ac13),_0x1c1579=_0x3e776e-_0x4d52fb,_0x46732a=_0x394e70-_0x1920e3;if(_0x1c1579<=0x0||_0x46732a<=0x0)return;try{ctx['drawImage'](_0x1e5e48,_0x4d52fb,_0x1920e3,_0x1c1579,_0x46732a,_0x4d52fb,_0x1920e3,_0x1c1579,_0x46732a);}catch(_0x301157){redrawAll();return;}drawGridArea(_0x4d52fb,_0x1920e3,_0x1c1579,_0x46732a);}function _0x3782(){const _0x245f65=['width','pop','putImageData','strokeStyle','isFinite','number','getDate','restore','getElementById','lineCap','getHours','getMinutes','visible','clearRect','auto','transparent','redrawAll:\x20failed\x20drawing\x20layer','height','encode','#00000000','length','display','canvas','fillStyle','data','lineTo','source-over','padStart','28ohIbMa','undefined','5836413FnNefW','assign','palette-penMode','rgba(','scanColorsPanel','rgb(','toString','version','randomUUID','stroke','round','warn','drawImage','moveTo','getSeconds','flat','getFullYear','value','ensureMetadata','30AHrKVf','save','fillRect','style','globalAlpha','destination-out','activeLayer','butt','has','add','generateVersionFromNow','getContext','globalCompositeOperation','complete','circle','#ccc','71096eHQXYi','273wXLTFL','timestamp','3420870cRMIEP','15kBUiXd','min',',1)','max','random','isArray','apply','36630OMipUf','691964NBnWoj','floor','beginPath','187676RIosZs','114327QnSceQ','push','layers','getImageData','ceil','string','sqrt','search','100%','toISOString','uuidv4'];_0x3782=function(){return _0x245f65;};return _0x3782();}function drawGridArea(_0x427cc7,_0x505262,_0x112828,_0x121f88){const _0x2c507c=_0x5e58;if(!_0x112828||!_0x121f88)return;ctx['save'](),ctx[_0x2c507c(0x1f4)]=_0x2c507c(0x231),ctx['lineWidth']=0x1,ctx[_0x2c507c(0x1fa)]=_0x2c507c(0x229);const _0x5a8c5e=0x1,_0x2f8c0b=Math['max'](0x0,Math['floor']((_0x427cc7-_0x5a8c5e)/cellSize)*cellSize),_0x213174=Math[_0x2c507c(0x237)](canvas[_0x2c507c(0x1f1)],Math[_0x2c507c(0x1ea)]((_0x427cc7+_0x112828+_0x5a8c5e)/cellSize)*cellSize),_0x3b3bbc=Math[_0x2c507c(0x239)](0x0,Math[_0x2c507c(0x1e3)]((_0x505262-_0x5a8c5e)/cellSize)*cellSize),_0x59e785=Math[_0x2c507c(0x237)](canvas[_0x2c507c(0x202)],Math['ceil']((_0x505262+_0x121f88+_0x5a8c5e)/cellSize)*cellSize);for(let _0x349d0b=_0x2f8c0b;_0x349d0b<=_0x213174;_0x349d0b+=cellSize){const _0x2bd825=_0x349d0b+0.5;ctx[_0x2c507c(0x1e4)](),ctx[_0x2c507c(0x21c)](_0x2bd825,_0x3b3bbc),ctx['lineTo'](_0x2bd825,_0x59e785),ctx[_0x2c507c(0x218)]();}for(let _0x4166e2=_0x3b3bbc;_0x4166e2<=_0x59e785;_0x4166e2+=cellSize){const _0x2fbd0f=_0x4166e2+0.5;ctx['beginPath'](),ctx[_0x2c507c(0x21c)](_0x2f8c0b,_0x2fbd0f),ctx['lineTo'](_0x213174,_0x2fbd0f),ctx['stroke']();}ctx[_0x2c507c(0x1f8)]();}function drawDotTouch(_0x372641,_0x562bd8){const _0x1557d3=_0x5e58;let _0x33066e=getCurrentProject(),_0x4c44b7=getCurrentFrame();if(!_0x33066e||!_0x4c44b7)return;if(_0x372641<0x0||_0x562bd8<0x0||_0x372641>=_0x33066e[_0x1557d3(0x1f1)]||_0x562bd8>=_0x33066e[_0x1557d3(0x202)])return;const _0x390ac9=_0x4c44b7[_0x1557d3(0x1e8)][_0x4c44b7[_0x1557d3(0x228)]],_0x57d520=_0x390ac9&&_0x390ac9[_0x1557d3(0x207)]?_0x390ac9[_0x1557d3(0x207)]:_0x390ac9;if(!_0x57d520||!_0x57d520[_0x1557d3(0x22d)])return;let _0x57b465=_0x57d520[_0x1557d3(0x22d)]('2d');if(currentTool==='eraser'||currentAlpha===0x0)drawPenShape(_0x57b465,_0x372641,_0x562bd8,null,!![]);else{let _0x5e58fa=hexToRgba(currentColor,currentAlpha);_0x57b465[_0x1557d3(0x223)](),penAlphaMode===_0x1557d3(0x21e)&&currentAlpha<0x1?(_0x57b465[_0x1557d3(0x226)]=0x1,_0x57b465[_0x1557d3(0x22e)]=_0x1557d3(0x227),drawPenShape(_0x57b465,_0x372641,_0x562bd8,null,!![]),_0x57b465[_0x1557d3(0x22e)]=_0x1557d3(0x20b),drawPenShape(_0x57b465,_0x372641,_0x562bd8,_0x5e58fa,![])):drawPenShape(_0x57b465,_0x372641,_0x562bd8,_0x5e58fa,![]),_0x57b465[_0x1557d3(0x1f8)]();}blitLayerArea(_0x57d520,_0x372641,_0x562bd8,penSize);}function _0x5e58(_0x173ca5,_0x1c6266){_0x173ca5=_0x173ca5-0x1e1;const _0x1cbbf0=_0x3782();let _0x87103d=_0x1cbbf0[_0x173ca5];return _0x87103d;}function drawGrid(_0x49f0d6,_0xefb859){const _0x28a181=_0x5e58;ctx[_0x28a181(0x223)](),ctx[_0x28a181(0x1f4)]=_0x28a181(0x231),ctx['lineWidth']=0x1,ctx[_0x28a181(0x1fa)]=_0x28a181(0x229);for(let _0x582552=0x0;_0x582552<=_0x49f0d6;_0x582552++){const _0x5ab969=_0x582552*cellSize+0.5;ctx[_0x28a181(0x1e4)](),ctx[_0x28a181(0x21c)](_0x5ab969,0x0),ctx['lineTo'](_0x5ab969,_0xefb859*cellSize),ctx['stroke']();}for(let _0x353e2f=0x0;_0x353e2f<=_0xefb859;_0x353e2f++){const _0x249249=_0x353e2f*cellSize+0.5;ctx[_0x28a181(0x1e4)](),ctx[_0x28a181(0x21c)](0x0,_0x249249),ctx[_0x28a181(0x20a)](_0x49f0d6*cellSize,_0x249249),ctx[_0x28a181(0x218)]();}ctx['restore']();}function redrawAll(){const _0x438595=_0x5e58;let _0x479e78=getCurrentProject(),_0x2f1a13=getCurrentFrame();canvas[_0x438595(0x1f1)]=_0x479e78['width']*cellSize,canvas[_0x438595(0x202)]=_0x479e78[_0x438595(0x202)]*cellSize,ctx[_0x438595(0x1fe)](0x0,0x0,canvas[_0x438595(0x1f1)],canvas[_0x438595(0x202)]);for(let _0x402f5c=0x0;_0x402f5c<(Array[_0x438595(0x23b)](_0x2f1a13[_0x438595(0x1e8)])?_0x2f1a13[_0x438595(0x1e8)][_0x438595(0x205)]:0x0);_0x402f5c++){const _0x35e8f7=_0x2f1a13[_0x438595(0x1e8)][_0x402f5c];if(!_0x35e8f7)continue;const _0x4d44f2=typeof _0x35e8f7[_0x438595(0x1fd)]!==_0x438595(0x20e)?_0x35e8f7[_0x438595(0x1fd)]:!![];if(!_0x4d44f2)continue;const _0x30f320=_0x35e8f7[_0x438595(0x207)]?_0x35e8f7[_0x438595(0x207)]:_0x35e8f7;if(!_0x30f320)continue;try{if(typeof HTMLCanvasElement!==_0x438595(0x20e)&&_0x30f320 instanceof HTMLCanvasElement)ctx[_0x438595(0x21b)](_0x30f320,0x0,0x0);else{if(typeof HTMLImageElement!==_0x438595(0x20e)&&_0x30f320 instanceof HTMLImageElement){if(_0x30f320[_0x438595(0x22f)])ctx[_0x438595(0x21b)](_0x30f320,0x0,0x0);}else{if(typeof OffscreenCanvas!==_0x438595(0x20e)&&_0x30f320 instanceof OffscreenCanvas)ctx[_0x438595(0x21b)](_0x30f320,0x0,0x0);else try{ctx[_0x438595(0x21b)](_0x30f320,0x0,0x0);}catch(_0xbc0c93){}}}}catch(_0x10a5d3){console[_0x438595(0x21a)](_0x438595(0x201),_0x10a5d3);}}drawGrid(_0x479e78[_0x438595(0x1f1)],_0x479e78['height']);wrapper&&(wrapper['style'][_0x438595(0x1f1)]=_0x438595(0x1ee),wrapper[_0x438595(0x225)][_0x438595(0x202)]=_0x438595(0x1ff));const _0x193159=document[_0x438595(0x1f9)](_0x438595(0x213));if(_0x193159){const _0x1a0b49=performance['now']();if(!lastColorScanAt||_0x1a0b49-lastColorScanAt>=COLOR_SCAN_INTERVAL_MS){const _0x32a253=scanImageColors();renderScanPanel(_0x32a253),_0x193159[_0x438595(0x225)][_0x438595(0x206)]='',lastColorScanAt=_0x1a0b49;}}}function uuidv4(){const _0x56e7fb=_0x5e58;if(typeof crypto!==_0x56e7fb(0x20e)&&typeof crypto[_0x56e7fb(0x217)]==='function')try{return crypto[_0x56e7fb(0x217)]();}catch(_0x49f500){}return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'['replace'](/[xy]/g,_0xc06a0a=>{const _0xfc8c23=_0x56e7fb,_0x412ab5=Math[_0xfc8c23(0x23a)]()*0x10|0x0,_0x313402=_0xc06a0a==='x'?_0x412ab5:_0x412ab5&0x3|0x8;return _0x313402[_0xfc8c23(0x215)](0x10);});}function generateVersionFromNow(){const _0x289a5a=_0x5e58,_0x290036=new Date(),_0x16f19b=_0x290036[_0x289a5a(0x21f)](),_0x4de157=String(_0x290036['getMonth']()+0x1)[_0x289a5a(0x20c)](0x2,'0'),_0x228c63=String(_0x290036[_0x289a5a(0x1f7)]())[_0x289a5a(0x20c)](0x2,'0'),_0x1c9234=String(_0x290036[_0x289a5a(0x1fb)]())[_0x289a5a(0x20c)](0x2,'0'),_0x541a62=String(_0x290036[_0x289a5a(0x1fc)]())[_0x289a5a(0x20c)](0x2,'0'),_0x772fc0=String(_0x290036[_0x289a5a(0x21d)]())['padStart'](0x2,'0');return _0x16f19b+'.'+_0x4de157+'.'+_0x228c63+'.'+_0x1c9234+_0x541a62+_0x772fc0;}function ensureMetadata(_0x55c81a){const _0x552b0f=_0x5e58,_0x4baa0b=Object[_0x552b0f(0x210)]({},_0x55c81a||{});if(!_0x4baa0b['id'])_0x4baa0b['id']=uuidv4();if(!_0x4baa0b[_0x552b0f(0x216)])_0x4baa0b[_0x552b0f(0x216)]=generateVersionFromNow();if(!_0x4baa0b['timestamp'])_0x4baa0b[_0x552b0f(0x234)]=new Date()[_0x552b0f(0x1ef)]();return _0x4baa0b;}function appendMetadataToBlob(_0x42a862,_0x4797e3){const _0x13f100=_0x5e58,_0x5927a0=ensureMetadata(_0x4797e3),_0x14c387=new TextEncoder(),_0xacbaab=_0x14c387[_0x13f100(0x203)](NEZUMI_METADATA_SIG),_0x11d31c=_0x14c387[_0x13f100(0x203)](JSON['stringify'](_0x5927a0));return new Blob([_0x42a862,_0xacbaab,_0x11d31c],{'type':_0x42a862['type']||'application/octet-stream'});}typeof window!=='undefined'&&(window[_0x358723(0x22c)]=generateVersionFromNow,window[_0x358723(0x1f0)]=uuidv4,window[_0x358723(0x221)]=ensureMetadata);