const _0xb1654c=_0x23eb;(function(_0x312044,_0x3366f){const _0x17d90c=_0x23eb,_0x4d1835=_0x312044();while(!![]){try{const _0x5eebb6=parseInt(_0x17d90c(0xda))/0x1*(-parseInt(_0x17d90c(0xc4))/0x2)+-parseInt(_0x17d90c(0xd9))/0x3+-parseInt(_0x17d90c(0xbc))/0x4*(-parseInt(_0x17d90c(0xce))/0x5)+-parseInt(_0x17d90c(0xc1))/0x6*(parseInt(_0x17d90c(0xd8))/0x7)+-parseInt(_0x17d90c(0xd3))/0x8+parseInt(_0x17d90c(0xd5))/0x9+parseInt(_0x17d90c(0xc3))/0xa;if(_0x5eebb6===_0x3366f)break;else _0x4d1835['push'](_0x4d1835['shift']());}catch(_0x345c6c){_0x4d1835['push'](_0x4d1835['shift']());}}}(_0x5937,0x97f0c));function _0x23eb(_0x275f88,_0x54c100){_0x275f88=_0x275f88-0xbb;const _0x4aba7f=_0x5937();let _0x1157e1=_0x4aba7f[_0x275f88];return _0x1157e1;}const _0x26e1b1=(function(){let _0x45e800=!![];return function(_0x1dbade,_0x3c0861){const _0x29df9e=_0x45e800?function(){if(_0x3c0861){const _0x129f84=_0x3c0861['apply'](_0x1dbade,arguments);return _0x3c0861=null,_0x129f84;}}:function(){};return _0x45e800=![],_0x29df9e;};}()),_0x1157e1=_0x26e1b1(this,function(){const _0x3052b6=_0x23eb;return _0x1157e1['toString']()[_0x3052b6(0xcb)](_0x3052b6(0xbf))[_0x3052b6(0xc0)]()[_0x3052b6(0xcd)](_0x1157e1)['search'](_0x3052b6(0xbf));});_0x1157e1();let canvas=null,ctx=null,cellSize=0x14,wrapper=null,posX=0x0,posY=0x0,scale=0x1,showGrid=!![],dimFrontLayers=![];const FRONT_LAYER_DIM_ALPHA=0.35;let currentTool='pen',penSize=0x1,penMode=_0xb1654c(0xcf),penAlphaMode=_0xb1654c(0xd4),currentColor=_0xb1654c(0xc6),currentAlpha=0x1,colorPickMode=![],projects=[],activeProject=0x0,animationTimer=null,animationIndex=0x0,animationDelay=0x12c,isDrawing=![],lastMouse=null,lastTouch=null,panStart=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;const PAN_CANCEL_DISTANCE=0x28;let layerMoveState={'active':![],'startCell':null,'offsetCells':{'x':0x0,'y':0x0}};const DEFAULT_PALETTE=[_0xb1654c(0xd6),'#000000',_0xb1654c(0xdc),'#808080',_0xb1654c(0xd1),_0xb1654c(0xc6),_0xb1654c(0xc2),_0xb1654c(0xca),_0xb1654c(0xbe),_0xb1654c(0xc7),'#00cc66',_0xb1654c(0xc8),_0xb1654c(0xdb),_0xb1654c(0xde),_0xb1654c(0xd0),'#800080',_0xb1654c(0xd7),'#ffd700','#f5deb3','#deb887',_0xb1654c(0xc9),_0xb1654c(0xbb),_0xb1654c(0xc5),_0xb1654c(0xbd)];function _0x5937(){const _0x2f7b9f=['1627077EotNKl','1moQAYM','#0066cc','#ffffff','NEZUMI_META::','#00ffff','#a52a2a','4TAPOoX','#2e8b57','#ffcc00','(((.+)+)+)+$','toString','2238pLOEMH','#ff7f7f','37329690YAqzcY','2063822UKeQRH','#ff1493','#ff0000','#00ff00','#0000ff','#8b4513','#ff9900','search','slice','constructor','1674370UYyPaW','square','#4b0082','#c0c0c0','nezumi-sketch-db','7920728DrWJfW','normal','210519gHkeBY','transparent','#ff00ff','16975iwBBUR'];_0x5937=function(){return _0x2f7b9f;};return _0x5937();}let PALETTE_COLORS=DEFAULT_PALETTE[_0xb1654c(0xcc)](),copiedLayerDataUrl=null;const dbName=_0xb1654c(0xd2),storeName='nezumi-store',NEZUMI_METADATA_SIG=_0xb1654c(0xdd);let lastColorScanAt=0x0;const COLOR_SCAN_INTERVAL_MS=0xfa;