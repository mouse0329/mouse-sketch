const _0x4ace70=_0x33c8;(function(_0x1973a1,_0x38aed8){const _0x22970b=_0x33c8,_0x2621a8=_0x1973a1();while(!![]){try{const _0x541e0b=-parseInt(_0x22970b(0x1ce))/0x1*(parseInt(_0x22970b(0x1b7))/0x2)+-parseInt(_0x22970b(0x1d2))/0x3*(-parseInt(_0x22970b(0x1b9))/0x4)+-parseInt(_0x22970b(0x1db))/0x5*(-parseInt(_0x22970b(0x1d8))/0x6)+-parseInt(_0x22970b(0x1c9))/0x7*(parseInt(_0x22970b(0x1d5))/0x8)+-parseInt(_0x22970b(0x1ca))/0x9+parseInt(_0x22970b(0x1cf))/0xa*(parseInt(_0x22970b(0x1da))/0xb)+-parseInt(_0x22970b(0x1d7))/0xc;if(_0x541e0b===_0x38aed8)break;else _0x2621a8['push'](_0x2621a8['shift']());}catch(_0x435a72){_0x2621a8['push'](_0x2621a8['shift']());}}}(_0x2142,0xa5d2f));const _0x22d9d0=(function(){let _0x45fe89=!![];return function(_0x51d1d3,_0x274263){const _0x4cafe3=_0x45fe89?function(){const _0x3b294e=_0x33c8;if(_0x274263){const _0x5b6652=_0x274263[_0x3b294e(0x1c4)](_0x51d1d3,arguments);return _0x274263=null,_0x5b6652;}}:function(){};return _0x45fe89=![],_0x4cafe3;};}()),_0xdf768e=_0x22d9d0(this,function(){const _0x115bd7=_0x33c8;return _0xdf768e[_0x115bd7(0x1c7)]()[_0x115bd7(0x1c2)](_0x115bd7(0x1be))[_0x115bd7(0x1c7)]()[_0x115bd7(0x1d1)](_0xdf768e)[_0x115bd7(0x1c2)]('(((.+)+)+)+$');});_0xdf768e();function _0x33c8(_0x255f8f,_0x531b54){_0x255f8f=_0x255f8f-0x1b7;const _0x245b8a=_0x2142();let _0xdf768e=_0x245b8a[_0x255f8f];return _0xdf768e;}let canvas=null,ctx=null,cellSize=0x14,wrapper=null,posX=0x0,posY=0x0,scale=0x1,showGrid=!![],dimFrontLayers=![];function _0x2142(){const _0x19509f=['3808uxRIbY','#ffffff','8jISFZz','#ff7f7f','slice','#ffd700','nezumi-store','(((.+)+)+)+$','#808080','#ff0000','#deb887','search','#f5deb3','apply','#4b0082','#800080','toString','#00ff00','1007482WwQvCj','7649361GCISwo','#ffcc00','#000000','#2e8b57','451RwudHc','530mqUNrJ','#ff9900','constructor','1492335nOnRaW','#a52a2a','#ff1493','24Yzfcgi','#8b4513','2853876imWrjf','4614IrQsDJ','nezumi-sketch-db','221551FxOabZ','6470rnlJJH','#ff00ff'];_0x2142=function(){return _0x19509f;};return _0x2142();}const FRONT_LAYER_DIM_ALPHA=0.35;let currentTool='pen',penSize=0x1,penMode='square',penAlphaMode='normal',currentColor='#ff0000',currentAlpha=0x1,colorPickMode=![],projects=[],activeProject=0x0,animationTimer=null,animationIndex=0x0,animationDelay=0x12c,isDrawing=![],lastMouse=null,lastTouch=null,panStart=null,isPinching=![],pinchStartDistance=0x0,pinchStartMid=null,pinchStartScale=0x1,pinchStartPosX=0x0,pinchStartPosY=0x0,pinchRect=null;const PAN_CANCEL_DISTANCE=0x28;let layerMoveState={'active':![],'startCell':null,'offsetCells':{'x':0x0,'y':0x0}};const DEFAULT_PALETTE=['transparent',_0x4ace70(0x1cc),_0x4ace70(0x1b8),_0x4ace70(0x1bf),'#c0c0c0',_0x4ace70(0x1c0),_0x4ace70(0x1ba),_0x4ace70(0x1d0),_0x4ace70(0x1cb),_0x4ace70(0x1c8),'#00cc66','#0000ff','#0066cc','#00ffff',_0x4ace70(0x1c5),_0x4ace70(0x1c6),_0x4ace70(0x1dc),_0x4ace70(0x1bc),_0x4ace70(0x1c3),_0x4ace70(0x1c1),_0x4ace70(0x1d6),_0x4ace70(0x1d3),_0x4ace70(0x1d4),_0x4ace70(0x1cd)];let PALETTE_COLORS=DEFAULT_PALETTE[_0x4ace70(0x1bb)](),copiedLayerDataUrl=null;const dbName=_0x4ace70(0x1d9),storeName=_0x4ace70(0x1bd),NEZUMI_METADATA_SIG='NEZUMI_META::';let lastColorScanAt=0x0;const COLOR_SCAN_INTERVAL_MS=0xfa;